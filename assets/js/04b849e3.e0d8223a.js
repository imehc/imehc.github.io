(self.webpackChunkanch=self.webpackChunkanch||[]).push([["6777"],{27052(e,t,i){"use strict";i.r(t),i.d(t,{metadata:()=>n,default:()=>y,frontMatter:()=>v,contentTitle:()=>b,toc:()=>j,assets:()=>g});var n=JSON.parse('{"id":"web/three/basic/shadows","title":"\u9634\u5F71","description":"\u6838\u5FC3\u6982\u5FF5","source":"@site/docs/web/three/basic/14-shadows.mdx","sourceDirName":"web/three/basic","slug":"/web/three/basic/shadows","permalink":"/web/three/basic/shadows","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Javascript","permalink":"/tags/javascript"}],"version":"current","lastUpdatedBy":"imehc","lastUpdatedAt":1768180953000,"sidebarPosition":14,"frontMatter":{"sidebar_position":14,"title":"\u9634\u5F71","tags":["Javascript"]},"sidebar":"webSidebar","previous":{"title":"\u706F\u5149","permalink":"/web/three/basic/lights"},"next":{"title":"\u4F7F\u7528\u56FE\u7247\u7EB9\u7406","permalink":"/web/three/basic/texture"}}'),s=i(35656),a=i(75395),l=i(99005),r=i(6124),o=i(60140),c=i(67199),d=i(82044);let h=()=>(0,s.jsxs)("mesh",{"rotation-x":-Math.PI/2,receiveShadow:!0,children:[(0,s.jsx)("circleGeometry",{args:[10]}),(0,s.jsx)("meshStandardMaterial",{})]});var p=i(22374);let u=()=>{let e=(0,p._5)("Ambient Light \u73AF\u5883\u5149",{visible:!1,intensity:{value:1,min:0,max:1,step:.1}}),t=(0,p._5)("Directional Light \u5B9A\u5411\u5149",{visible:!0,position:{x:3.3,y:1,z:4.4},castShadow:!0}),i=(0,p._5)("Point Light \u805A\u5149\u706F",{visible:!1,position:{x:2,y:0,z:0},castShadow:!0}),n=(0,p._5)("Spot Light \u70B9\u5149\u6E90",{visible:!1,position:{x:3,y:2.5,z:1},castShadow:!0});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("ambientLight",{visible:e.visible,intensity:e.intensity}),(0,s.jsx)("directionalLight",{visible:t.visible,position:[t.position.x,t.position.y,t.position.z],castShadow:t.castShadow}),(0,s.jsx)("pointLight",{visible:i.visible,position:[i.position.x,i.position.y,i.position.z],castShadow:i.castShadow}),(0,s.jsx)("spotLight",{visible:n.visible,position:[n.position.x,n.position.y,n.position.z],castShadow:n.castShadow})]})};var f=i(45225),m=i(57140);let x=e=>{let t=(0,m.useRef)(null);return(0,f.D)((e,i)=>{t.current&&(t.current.rotation.x+=.2*i,t.current.rotation.y+=.05*i)}),(0,s.jsx)("mesh",{...e,ref:t,castShadow:!0,receiveShadow:!0,children:(0,s.jsx)("icosahedronGeometry",{args:[1,1]})})},w=()=>(0,s.jsx)(d.A,{children:(0,s.jsxs)(o.Hl,{camera:{position:[4,4,1.5]},shadows:!0,children:[(0,s.jsx)(u,{}),(0,s.jsx)(x,{name:"meshBasicMaterial",position:[-3,1,0],material:new c.V9B({color:"yellow"})}),(0,s.jsx)(x,{name:"meshNormalMaterial",position:[-1,1,0],material:new c.qBx({flatShading:!0})}),(0,s.jsx)(x,{name:"meshPhongMaterial",position:[1,1,0],material:new c.tXL({color:"lime",flatShading:!0})}),(0,s.jsx)(x,{name:"meshStandardMaterial",position:[3,1,0],material:new c._4j({color:0xff0033,flatShading:!0})}),(0,s.jsx)(h,{}),(0,s.jsx)(l.N,{target:[2,2,0]}),(0,s.jsx)("axesHelper",{args:[5]}),(0,s.jsx)(r.U,{})]})}),v={sidebar_position:14,title:"\u9634\u5F71",tags:["Javascript"]},b="\u9634\u5F71",g={},j=[{value:"\u6838\u5FC3\u6982\u5FF5",id:"\u6838\u5FC3\u6982\u5FF5",level:2}];function S(e){let t={h1:"h1",h2:"h2",header:"header",li:"li",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"\u9634\u5F71",children:"\u9634\u5F71"})}),"\n",(0,s.jsx)(w,{}),"\n",(0,s.jsx)(t.h2,{id:"\u6838\u5FC3\u6982\u5FF5",children:"\u6838\u5FC3\u6982\u5FF5"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"shadows \u5C5E\u6027"}),": Canvas \u4E2D\u542F\u7528\u9634\u5F71\u7CFB\u7EDF"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"castShadow"}),": \u5BF9\u8C61\u6295\u5C04\u9634\u5F71"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"receiveShadow"}),": \u5BF9\u8C61\u63A5\u6536\u9634\u5F71"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"\u9634\u5F71\u63D0\u9AD8\u771F\u5B9E\u611F"}),": \u9634\u5F71\u8BA9\u573A\u666F\u770B\u8D77\u6765\u66F4\u6709\u6DF1\u5EA6"]}),"\n"]})]})}function y(e={}){let{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(S,{...e})}):S(e)}},6124(e,t,i){"use strict";i.d(t,{U:()=>o});var n=i(57140),s=i(45225),a=i(15697),l=i.n(a);function r(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}function o({showPanel:e=0,className:t,parent:i}){let a=function(e,t=[],i){let[s,a]=n.useState();return n.useLayoutEffect(()=>{let t=e();return a(t),r(void 0,t),()=>r(void 0,null)},t),s}(()=>new(l()),[]);return n.useEffect(()=>{if(a){let n=i&&i.current||document.body;a.showPanel(e),null==n||n.appendChild(a.dom);let l=(null!=t?t:"").split(" ").filter(e=>e);l.length&&a.dom.classList.add(...l);let r=(0,s.j)(()=>a.begin()),o=(0,s.k)(()=>a.end());return()=>{l.length&&a.dom.classList.remove(...l),null==n||n.removeChild(a.dom),r(),o()}}},[i,a,t,e]),null}},15697(e){var t;(t=function(){function e(e){return s.appendChild(e.dom),e}function i(e){for(var t=0;t<s.children.length;t++)s.children[t].style.display=t===e?"block":"none";n=e}var n=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(e){e.preventDefault(),i(++n%s.children.length)},!1);var a=(performance||Date).now(),l=a,r=0,o=e(new t.Panel("FPS","#0ff","#002")),c=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=e(new t.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:s,addPanel:e,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){r++;var e=(performance||Date).now();if(c.update(e-a,200),e>l+1e3&&(o.update(1e3*r/(e-l),100),l=e,r=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:s,setMode:i}}).Panel=function(e,t,i){var n=1/0,s=0,a=Math.round,l=a(window.devicePixelRatio||1),r=80*l,o=48*l,c=3*l,d=2*l,h=3*l,p=15*l,u=74*l,f=30*l,m=document.createElement("canvas");m.width=r,m.height=o,m.style.cssText="width:80px;height:48px";var x=m.getContext("2d");return x.font="bold "+9*l+"px Helvetica,Arial,sans-serif",x.textBaseline="top",x.fillStyle=i,x.fillRect(0,0,r,o),x.fillStyle=t,x.fillText(e,c,d),x.fillRect(h,p,u,f),x.fillStyle=i,x.globalAlpha=.9,x.fillRect(h,p,u,f),{dom:m,update:function(o,w){n=Math.min(n,o),s=Math.max(s,o),x.fillStyle=i,x.globalAlpha=1,x.fillRect(0,0,r,p),x.fillStyle=t,x.fillText(a(o)+" "+e+" ("+a(n)+"-"+a(s)+")",c,d),x.drawImage(m,h+l,p,u-l,f,h,p,u-l,f),x.fillRect(h+u-l,p,l,f),x.fillStyle=i,x.globalAlpha=.9,x.fillRect(h+u-l,p,l,a((1-o/w)*f))}}},e.exports=t}}]);