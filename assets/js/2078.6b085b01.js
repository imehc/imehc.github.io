"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["2078"],{49341(t,e,i){i.d(e,{initViewer:()=>C});var s=i(7729),o=i(38279),a=i(30571),r=i(7487),n=i(66105),l=i(53526),u=i(40459),h=i(21941);let c=Object.freeze({FLOAT:"float",VEC2:"vec2",VEC3:"vec3",VEC4:"vec4",MAT2:"mat2",MAT3:"mat3",MAT4:"mat4"});var g=i(75666),m=i(24599),f=i(67852),d=i(15795),p=i(39765),x=i(78270),v=i(68118),_=i(37805);let M=function(t){t=t??g.A.EMPTY_OBJECT;let e=(0,m.A)(t.typedArray);if(e===(0,m.A)(t.url))throw new f.A("exactly one of options.typedArray, options.url must be defined");if(e&&(!(0,m.A)(t.width)||!(0,m.A)(t.height)))throw new f.A("options.width and options.height are required when options.typedArray is defined");this.typedArray=t.typedArray,this.width=t.width,this.height=t.height,this.pixelFormat=t.pixelFormat??p.A.RGBA,this.pixelDatatype=t.pixelDatatype??x.A.UNSIGNED_BYTE;let i=t.url;"string"==typeof i&&(i=d.A.createIfNeeded(i)),this.resource=i;let s=t.repeat??!0?_.A.REPEAT:_.A.CLAMP_TO_EDGE;this.sampler=new v.A({wrapS:s,wrapT:s,minificationFilter:t.minificationFilter,magnificationFilter:t.magnificationFilter,maximumAnisotropy:t.maximumAnisotropy})};var y=i(42461),w=i(22661),A=i(97168);async function C(t){let e=new o.A(t,{baseLayerPicker:!1,animation:!1,timeline:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,navigationHelpButton:!1});e.scene.debugShowFramesPerSecond=!0,e.imageryLayers.remove(e.imageryLayers.get(0)),e.scene.terrainProvider=new a.A({});let i=new r.A({url:"//data.mars3d.cn/tile/img/{z}/{x}/{y}.jpg"});e.imageryLayers.addImageryProvider(i),e.scene.imageryLayers.add(new n.A(new s.TS({crs:"WGS84",style:"4"}))),e.cesiumWidget.screenSpaceEventHandler.removeInputAction(l.A.LEFT_CLICK),e.cesiumWidget.screenSpaceEventHandler.removeInputAction(l.A.LEFT_DOUBLE_CLICK);let g=await u.A.fromUrl("/cesium/02/data/tileset.json");g.debugShowBoundingVolume=!0,e.scene.primitives.add(g),e.zoomTo(g),new w.A(e,{enableCompass:!0,enableZoomControls:!0});let m=new A.GUI;m.domElement.style.position="fixed",m.domElement.style.bottom="50%",m.domElement.style.transform="translateY(-50%)",m.domElement.style.left="0";let f={\u9ED8\u8BA4:()=>{z(e,g)},\u7EAF\u6E10\u53D8\u8272:()=>{var t,i;t=e,i=g,b(t),i.customShader=new h.A({fragmentShaderText:`
			void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
				vec3 positionMC = fsInput.attributes.positionMC;
				material.diffuse = vec3(0.0, 1.0-positionMC.y*0.005, 1.0-positionMC.y*0.0015);
			}
		`})},"\u7EAF\u6E10\u53D8\u8272+\u52A8\u6001\u5149\u5708":()=>{var t,i;t=e,i=g,b(t),i.customShader=new h.A({fragmentShaderText:`
			void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
				vec3 positionMC = fsInput.attributes.positionMC;
				material.diffuse = vec3(0.0, 1.0-positionMC.y*0.005, 1.0-positionMC.y*0.0015);

				float _baseHeight = 18.0; // \u{7269}\u{4F53}\u{7684}\u{57FA}\u{7840}\u{9AD8}\u{5EA6}\u{FF0C}\u{9700}\u{8981}\u{4FEE}\u{6539}\u{6210}\u{4E00}\u{4E2A}\u{5408}\u{9002}\u{7684}\u{5EFA}\u{7B51}\u{57FA}\u{7840}\u{9AD8}\u{5EA6}
				float _heightRange = 60.0; // \u{9AD8}\u{4EAE}\u{7684}\u{8303}\u{56F4}(_baseHeight ~ _baseHeight + _heightRange) \u{9ED8}\u{8BA4}\u{662F} 0-60\u{7C73}
				float _glowRange = 120.0; // \u{5149}\u{73AF}\u{7684}\u{79FB}\u{52A8}\u{8303}\u{56F4}(\u{9AD8}\u{5EA6})

				float vtxf_height = fsInput.attributes.positionMC.y - _baseHeight;
				float vtxf_a11 = fract(czm_frameNumber / 360.0) * 3.14159265 * 2.0; //\u{6B64}\u{5904}\u{62EC}\u{53F7}\u{5185}\u{5206}\u{6BCD}\u{4E3A}\u{79FB}\u{52A8}\u{901F}\u{5EA6}
				float vtxf_a12 = vtxf_height / _heightRange + sin(vtxf_a11) * 0.1;
				material.diffuse *= vec3(vtxf_a12, vtxf_a12, vtxf_a12);

				float vtxf_a13 = fract(czm_frameNumber / 360.0); //\u{6B64}\u{5904}\u{62EC}\u{53F7}\u{5185}\u{5206}\u{6BCD}\u{4E3A}\u{79FB}\u{52A8}\u{901F}\u{5EA6}\u{FF0C}\u{6570}\u{503C}\u{8D8A}\u{5927}\u{FF0C}\u{901F}\u{5EA6}\u{8D8A}\u{6162}
				float vtxf_h = clamp(vtxf_height / _glowRange, 0.0, 1.0);
				vtxf_a13 = abs(vtxf_a13 - 0.5) * 2.0;
				float vtxf_diff = step(0.01, abs(vtxf_h - vtxf_a13)); // 0.1 \u{4E3A}\u{9AD8}\u{4EAE}\u{5149}\u{6761}\u{7684}\u{8303}\u{56F4}\u{FF08}\u{7C97}\u{7EC6}\u{FF09}
				material.diffuse += material.diffuse * (1.0 - vtxf_diff);
		}
		`})},\u8D34\u56FE:()=>{var t,i;t=e,i=g,b(t),i.customShader=new h.A({varyings:{v_normalMC:c.VEC3,v_st:c.VEC3},uniforms:{u_texture:{value:new M({url:"/cesium/10/wall.jpg"}),type:y.A.SAMPLER_2D},u_texture1:{value:new M({url:"/cesium/10/wall1.jpg"}),type:y.A.SAMPLER_2D}},vertexShaderText:`
                    void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
                            v_normalMC = vsInput.attributes.normalMC;
                            v_st=vsInput.attributes.positionMC ;   
                }`,fragmentShaderText:`
                    void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
                        vec3 positionMC = fsInput.attributes.positionMC;
                        //\u{8FD9}\u{91CC}\u{662F}\u{8BBE}\u{7F6E}\u{8981}\u{8D34}\u{56FE}\u{7684}\u{56FE}\u{7247}\u{7684}\u{5C3A}\u{5BF8}\u{FF0C}\u{8BBE}\u{7F6E}\u{5C0F}\u{4E86}\u{4F1A}\u{91CD}\u{590D}
                        float width = 30.0;
                        float height = 70.0;
                        vec3 rgb;
                        //\u{8FD9}\u{662F}\u{662F}\u{8BBE}\u{7F6E}\u{4E86}\u{5C4B}\u{9876}\u{7684}\u{989C}\u{8272}\u{FF0C}\u{5F53}\u{548C}\u{6CD5}\u{5411}\u{91CF}\u{5E73}\u{884C}\u{65F6}\u{FF0C}\u{5C31}\u{662F}\u{5C4B}\u{9876}\u{FF0C}\u{8FD9}\u{91CC}\u{8BBE}\u{7F6E}0.95\u{FF0C}\u{76F8}\u{5F53}\u{4E8E}\u{5782}\u{76F4}\u{FF0C}\u{5EFA}\u{7B51}\u{7269}\u{56DB}\u{5468}\u{5F00}\u{59CB}\u{8D34}\u{56FE}
                        if (dot(vec3(0.0, 1.0, 0.0), v_normalMC) > 0.95) {
                            material.diffuse = vec3(0.65, 0.65, 0.65);
                        } else {
                            float textureX = 0.0;
                            float dotYAxis = dot(vec3(0.0, 0.0, 1.0), v_normalMC);
                            // cos(45deg) \u{7EA6}\u{7B49}\u{4E8E} 0.71\u{FF0C}\u{8FD9}\u{91CC}\u{662F}\u{5EFA}\u{7B51}\u{7269}\u{56DB}\u{5468}\u{7684}\u{5411}\u{91CF}\u{4E0E}\u{6CD5}\u{5411}\u{91CF}\u{4F1A}\u{5927}\u{4E8E}\u{56DB}\u{5341}\u{4E94}\u{5EA6}\u{5939}\u{89D2}
                            if (dotYAxis > 0.71 || dotYAxis < -0.71) {
                            //x\u{4EE3}\u{8868}\u{7684}\u{662F}\u{524D}\u{540E}\u{9762}
                                textureX = mod(positionMC.x, width) / width;
                            } else {
                            //z\u{4EE3}\u{8868}\u{7684}\u{662F}\u{5DE6}\u{53F3}\u{9762}
                                textureX = mod(positionMC.z, width) / width;
                            }
                            float textureY = mod(positionMC.y, height) / height;
                            //\u{6211}\u{8FD9}\u{91CC}\u{662F}\u{6839}\u{636E}\u{5EFA}\u{7B51}\u{7269}\u{9AD8}\u{5EA6}\u{8D34}\u{4E86}\u{4E24}\u{5F20}\u{4E0D}\u{540C}\u{7684}\u{56FE}\u{7247}
                            if (positionMC.y > 40.0) {
                                rgb = texture(u_texture, vec2(textureX, textureY)).rgb;       
                            } else {
                                rgb = texture(u_texture1, vec2(textureX, textureY)).rgb;
                            }
                            
                            material.diffuse = rgb;
                        }
                    }`})},\u8D34\u56FE2:()=>{var t,i;t=e,i=g,b(t),i.customShader=new h.A({varyings:{v_normalMC:c.VEC3,v_st:c.VEC3},uniforms:{u_texture:{value:new M({url:"/cesium/10/wall.jpg"}),type:y.A.SAMPLER_2D},u_texture1:{value:new M({url:"/cesium/10/wall.jpg"}),type:y.A.SAMPLER_2D}},vertexShaderText:`
                void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
                        v_normalMC = vsInput.attributes.normalMC;
                        v_st=vsInput.attributes.positionMC ;   
                }`,fragmentShaderText:`
                    void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
                        vec3 positionMC = fsInput.attributes.positionMC;
                        //\u{8FD9}\u{91CC}\u{662F}\u{8BBE}\u{7F6E}\u{8981}\u{8D34}\u{56FE}\u{7684}\u{56FE}\u{7247}\u{7684}\u{5C3A}\u{5BF8}\u{FF0C}\u{8BBE}\u{7F6E}\u{5C0F}\u{4E86}\u{4F1A}\u{91CD}\u{590D}
                        float width = 30.0;
                        float height = 70.0;
                        vec3 rgb;
                        //\u{8FD9}\u{662F}\u{662F}\u{8BBE}\u{7F6E}\u{4E86}\u{5C4B}\u{9876}\u{7684}\u{989C}\u{8272}\u{FF0C}\u{5F53}\u{548C}\u{6CD5}\u{5411}\u{91CF}\u{5E73}\u{884C}\u{65F6}\u{FF0C}\u{5C31}\u{662F}\u{5C4B}\u{9876}\u{FF0C}\u{8FD9}\u{91CC}\u{8BBE}\u{7F6E}0.95\u{FF0C}\u{76F8}\u{5F53}\u{4E8E}\u{5782}\u{76F4}\u{FF0C}\u{5EFA}\u{7B51}\u{7269}\u{56DB}\u{5468}\u{5F00}\u{59CB}\u{8D34}\u{56FE}
                        if (dot(vec3(0.0, 1.0, 0.0), v_normalMC) > 0.95) {
                            material.diffuse = vec3(0.65, 0.65, 0.65);
                        } else {
                            float textureX = 0.0;
                            float dotYAxis = dot(vec3(0.0, 0.0, 1.0), v_normalMC);
                            // cos(45deg) \u{7EA6}\u{7B49}\u{4E8E} 0.71\u{FF0C}\u{8FD9}\u{91CC}\u{662F}\u{5EFA}\u{7B51}\u{7269}\u{56DB}\u{5468}\u{7684}\u{5411}\u{91CF}\u{4E0E}\u{6CD5}\u{5411}\u{91CF}\u{4F1A}\u{5927}\u{4E8E}\u{56DB}\u{5341}\u{4E94}\u{5EA6}\u{5939}\u{89D2}
                            if (dotYAxis > 0.71 || dotYAxis < -0.71) {
                            //x\u{4EE3}\u{8868}\u{7684}\u{662F}\u{524D}\u{540E}\u{9762}
                                textureX = mod(positionMC.x, width) / width;
                            } else {
                            //z\u{4EE3}\u{8868}\u{7684}\u{662F}\u{5DE6}\u{53F3}\u{9762}
                                textureX = mod(positionMC.z, width) / width;
                            }
                            float textureY = mod(positionMC.y, height) / height;
                            //\u{6211}\u{8FD9}\u{91CC}\u{662F}\u{6839}\u{636E}\u{5EFA}\u{7B51}\u{7269}\u{9AD8}\u{5EA6}\u{8D34}\u{4E86}\u{4E24}\u{5F20}\u{4E0D}\u{540C}\u{7684}\u{56FE}\u{7247}
                            if (positionMC.y > 30.0) {
                                rgb = texture(u_texture, vec2(textureX, textureY)).rgb;       
                            } else {
                                rgb = texture(u_texture1, vec2(textureX, textureY)).rgb;
                            }
                            
                            material.diffuse = rgb;

                            //\u{6B64}\u{5904}\u{4EE5}\u{4E0B}\u{4E3A}\u{5149}\u{7EBF}\u{6548}\u{679C}
                            float _baseHeight = 10.0; // \u{7269}\u{4F53}\u{7684}\u{57FA}\u{7840}\u{9AD8}\u{5EA6}\u{FF0C}\u{9700}\u{8981}\u{4FEE}\u{6539}\u{6210}\u{4E00}\u{4E2A}\u{5408}\u{9002}\u{7684}\u{5EFA}\u{7B51}\u{57FA}\u{7840}\u{9AD8}\u{5EA6}
                            float _glowRange = 120.0; // \u{5149}\u{73AF}\u{7684}\u{79FB}\u{52A8}\u{8303}\u{56F4}(\u{9AD8}\u{5EA6})

                            float vtxf_height = fsInput.attributes.positionMC.y - _baseHeight;

                            float vtxf_a13 = fract(czm_frameNumber / 360.0); //\u{6B64}\u{5904}\u{62EC}\u{53F7}\u{5185}\u{5206}\u{6BCD}\u{4E3A}\u{79FB}\u{52A8}\u{901F}\u{5EA6}\u{FF0C}\u{6570}\u{503C}\u{8D8A}\u{5927}\u{FF0C}\u{901F}\u{5EA6}\u{8D8A}\u{6162}
                            float vtxf_h = clamp(vtxf_height / _glowRange, 0.0, 1.0);
                            vtxf_a13 = abs(vtxf_a13 - 0.5) * 2.0;
                            float vtxf_diff = step(0.01, abs(vtxf_h - vtxf_a13)); // 0.1 \u{4E3A}\u{9AD8}\u{4EAE}\u{5149}\u{6761}\u{7684}\u{8303}\u{56F4}\u{FF08}\u{7C97}\u{7EC6}\u{FF09}
                            material.diffuse += material.diffuse * (1.0 - vtxf_diff);
                        }
                    }`})},\u8D34\u56FE3:()=>{var t,i;t=e,i=g,b(t),i.customShader=new h.A({varyings:{v_normalMC:c.VEC3,v_st:c.VEC3},uniforms:{u_texture:{value:new M({url:"/cesium/10/wall.jpg"}),type:y.A.SAMPLER_2D},u_texture1:{value:new M({url:"/cesium/10/wall1.jpg"}),type:y.A.SAMPLER_2D}},vertexShaderText:`
                    void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
                            v_normalMC = vsInput.attributes.normalMC;
                            v_st=vsInput.attributes.positionMC ;   
                }`,fragmentShaderText:`
                    void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material) {
                        vec3 positionMC = fsInput.attributes.positionMC;
                        //\u{8FD9}\u{91CC}\u{662F}\u{8BBE}\u{7F6E}\u{8981}\u{8D34}\u{56FE}\u{7684}\u{56FE}\u{7247}\u{7684}\u{5C3A}\u{5BF8}\u{FF0C}\u{8BBE}\u{7F6E}\u{5C0F}\u{4E86}\u{4F1A}\u{91CD}\u{590D}
                        float width = 30.0;
                        float height = 70.0;
                        vec3 rgb;
                        //\u{8FD9}\u{662F}\u{662F}\u{8BBE}\u{7F6E}\u{4E86}\u{5C4B}\u{9876}\u{7684}\u{989C}\u{8272}\u{FF0C}\u{5F53}\u{548C}\u{6CD5}\u{5411}\u{91CF}\u{5E73}\u{884C}\u{65F6}\u{FF0C}\u{5C31}\u{662F}\u{5C4B}\u{9876}\u{FF0C}\u{8FD9}\u{91CC}\u{8BBE}\u{7F6E}0.95\u{FF0C}\u{76F8}\u{5F53}\u{4E8E}\u{5782}\u{76F4}\u{FF0C}\u{5EFA}\u{7B51}\u{7269}\u{56DB}\u{5468}\u{5F00}\u{59CB}\u{8D34}\u{56FE}
                        if (dot(vec3(0.0, 1.0, 0.0), v_normalMC) > 0.95) {
                            material.diffuse = vec3(0.65, 0.65, 0.65);
                        } else {
                            float textureX = 0.0;
                            float dotYAxis = dot(vec3(0.0, 0.0, 1.0), v_normalMC);
                            // cos(45deg) \u{7EA6}\u{7B49}\u{4E8E} 0.71\u{FF0C}\u{8FD9}\u{91CC}\u{662F}\u{5EFA}\u{7B51}\u{7269}\u{56DB}\u{5468}\u{7684}\u{5411}\u{91CF}\u{4E0E}\u{6CD5}\u{5411}\u{91CF}\u{4F1A}\u{5927}\u{4E8E}\u{56DB}\u{5341}\u{4E94}\u{5EA6}\u{5939}\u{89D2}
                            if (dotYAxis > 0.71 || dotYAxis < -0.71) {
                                textureX = mod(positionMC.x, width) / width;
                            } else {
                                textureX = mod(positionMC.z, width) / width;
                            }
                            float textureY = mod(positionMC.y, height) / height;
                            
                            rgb = texture(u_texture1, vec2(textureX, textureY)).rgb;      
                            material.diffuse = rgb;
                        }
                    }`})}};return m.add({\u6A21\u578B\u7C7B\u578B:"\u9ED8\u8BA4"},"\u6A21\u578B\u7C7B\u578B",Object.keys(f)).name("\u6A21\u578B\u7C7B\u578B").onChange(t=>{f[t]()}),z(e,g),{viewer:e,gui:m}}function b(t){t.entities.removeAll()}function z(t,e){b(t),e.customShader=new h.A({})}},7729(t,e,i){i.d(e,{TS:()=>L,pn:()=>p});var s=i(88633),o=i(54284),a=i(12002),r=i(32777),n=i(78904),l=i(7487),u=i(59002),h=i(24599),c=i(17475),g=i(69695),m=class{static BD09ToGCJ02(t,e){let i=t-.0065,s=e-.006,o=Math.sqrt(i*i+s*s)-2e-5*Math.sin(52.35987755982988*s),a=Math.atan2(s,i)-3e-6*Math.cos(52.35987755982988*i);return[o*Math.cos(a),o*Math.sin(a)]}static GCJ02ToBD09(t,e){e*=1;let i=Math.sqrt((t*=1)*t+e*e)+2e-5*Math.sin(52.35987755982988*e),s=Math.atan2(e,t)+3e-6*Math.cos(52.35987755982988*t);return[i*Math.cos(s)+.0065,i*Math.sin(s)+.006]}static WGS84ToGCJ02(t,e){if(e*=1,t*=1,this.out_of_china(t,e))return[t,e];{let i=this.delta(t,e);return[t+i[0],e+i[1]]}}static GCJ02ToWGS84(t,e){if(e*=1,t*=1,this.out_of_china(t,e))return[t,e];{let i=this.delta(t,e),s=t+i[0],o=e+i[1];return[2*t-s,2*e-o]}}static delta(t,e){let i=this.transformLng(t-105,e-35),s=this.transformLat(t-105,e-35),o=e/180*3.141592653589793,a=Math.sin(o),r=Math.sqrt(a=1-.006693421622965943*a*a);return[i=180*i/(6378245/r*Math.cos(o)*3.141592653589793),s=180*s/(6378245*.9933065783770341/(a*r)*3.141592653589793)]}static transformLng(t,e){e*=1;let i=300+(t*=1)+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return i+=(20*Math.sin(6*t*3.141592653589793)+20*Math.sin(2*t*3.141592653589793))*2/3,i+=(20*Math.sin(3.141592653589793*t)+40*Math.sin(t/3*3.141592653589793))*2/3,i+=(150*Math.sin(t/12*3.141592653589793)+300*Math.sin(t/30*3.141592653589793))*2/3}static transformLat(t,e){e*=1;let i=-100+2*(t*=1)+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return i+=(20*Math.sin(6*t*3.141592653589793)+20*Math.sin(2*t*3.141592653589793))*2/3,i+=(20*Math.sin(3.141592653589793*e)+40*Math.sin(e/3*3.141592653589793))*2/3,i+=(160*Math.sin(e/12*3.141592653589793)+320*Math.sin(3.141592653589793*e/30))*2/3}static out_of_china(t,e){return e*=1,!((t*=1)>73.66&&t<135.05&&e>3.86&&e<53.55)}},f=class extends s.A{constructor(t){super(t);let e=new o.A;this._projection.project=function(t,i){return i=m.WGS84ToGCJ02(a.A.toDegrees(t.longitude),a.A.toDegrees(t.latitude)),i=e.project(new r.A(a.A.toRadians(i[0]),a.A.toRadians(i[1]))),new n.A(i.x,i.y)},this._projection.unproject=function(t,i){let s=e.unproject(t);return i=m.GCJ02ToWGS84(a.A.toDegrees(s.longitude),a.A.toDegrees(s.latitude)),new r.A(a.A.toRadians(i[0]),a.A.toRadians(i[1]))}}},d={img:"//webst{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",elec:"//webrd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",cva:"//webst{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},p=class extends l.A{constructor(t={}){t.url=t.url||[t.protocol||"",d[t.style]||d.elec].join(""),t.subdomains&&t.subdomains.length||(t.subdomains=["01","02","03","04"]),"WGS84"===t.crs&&(t.tilingScheme=new f),super(t)}},x=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],v=[75,60,45,30,15,0],_=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-23663490511e-14,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,10322952773e-14,-323890364e-14,826088.5]],M=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[8277824516172526e-19,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-3441963504368392e-19,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-3218135878613132e-19,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],y=class{constructor(){this.isWgs84=!1}getDistanceByMC(t,e){if(!t||!e||!(t=this.convertMC2LL(t)))return 0;let i=this.toRadians(t.lng),s=this.toRadians(t.lat);if(!(e=this.convertMC2LL(e)))return 0;let o=this.toRadians(e.lng),a=this.toRadians(e.lat);return this.getDistance(i,o,s,a)}getDistanceByLL(t,e){if(!t||!e)return 0;t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74),e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74);let i=this.toRadians(t.lng),s=this.toRadians(t.lat),o=this.toRadians(e.lng),a=this.toRadians(e.lat);return this.getDistance(i,o,s,a)}convertMC2LL(t){if(!t)return{lng:0,lat:0};let e={};if(this.isWgs84){e.lng=t.lng/20037508.34*180;let i=t.lat/20037508.34*180;return e.lat=180/Math.PI*(2*Math.atan(Math.exp(i*Math.PI/180))-Math.PI/2),{lng:e.lng.toFixed(6),lat:e.lat.toFixed(6)}}let i={lng:Math.abs(t.lng),lat:Math.abs(t.lat)},s;for(let t=0;t<x.length;t++)if(i.lat>=x[t]){s=_[t];break}return{lng:(e=this.convertor(t,s)).lng.toFixed(6),lat:e.lat.toFixed(6)}}convertLL2MC(t){if(!t)return{lng:0,lat:0};if(t.lng>180||t.lng<-180||t.lat>90||t.lat<-90)return t;if(this.isWgs84){let e={};e.lng=t.lng*Math.PI/180*6378137;let i=t.lat*Math.PI/180;return e.lat=3189068.5*Math.log((1+Math.sin(i))/(1-Math.sin(i))),{lng:parseFloat(e.lng.toFixed(2)),lat:parseFloat(e.lat.toFixed(2))}}t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74);let e={lng:t.lng,lat:t.lat},i;for(let t=0;t<v.length;t++)if(e.lat>=v[t]){i=M[t];break}if(!i){for(let t=0;t<v.length;t++)if(e.lat<=-v[t]){i=M[t];break}}let s=this.convertor(t,i);return{lng:parseFloat(s.lng.toFixed(2)),lat:parseFloat(s.lat.toFixed(2))}}convertor(t,e){if(!t||!e)return{lng:0,lat:0};let i=e[0]+e[1]*Math.abs(t.lng),s=Math.abs(t.lat)/e[9],o=e[2]+e[3]*s+e[4]*s*s+e[5]*s*s*s+e[6]*s*s*s*s+e[7]*s*s*s*s*s+e[8]*s*s*s*s*s*s;return{lng:i*=t.lng<0?-1:1,lat:o*=t.lat<0?-1:1}}getDistance(t,e,i,s){return 6370996.81*Math.acos(Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(e-t))}toRadians(t){return Math.PI*t/180}toDegrees(t){return 180*t/Math.PI}getRange(t,e,i){return null!=e&&(t=Math.max(t,e)),null!=i&&(t=Math.min(t,i)),t}getLoop(t,e,i){for(;t>i;)t-=i-e;for(;t<e;)t+=i-e;return t}lngLatToMercator(t){return this.convertLL2MC(t)}lngLatToPoint(t){let e=this.convertLL2MC(t);return{x:e.lng,y:e.lat}}mercatorToLngLat(t){return this.convertMC2LL(t)}pointToLngLat(t){let e={lng:t.x,lat:t.y};return this.convertMC2LL(e)}pointToPixel(t,e,i,s){if(!t)return;t=this.lngLatToMercator(t);let o=this.getZoomUnits(e);return{x:Math.round((t.lng-i.lng)/o+s.width/2),y:Math.round((i.lat-t.lat)/o+s.height/2)}}pixelToPoint(t,e,i,s){if(!t)return;let o=this.getZoomUnits(e),a=i.lng+o*(t.x-s.width/2),r=i.lat-o*(t.y-s.height/2);return this.mercatorToLngLat({lng:a,lat:r})}getZoomUnits(t){return Math.pow(2,18-t)}},w=class extends s.A{constructor(t){super(t);let e=new y;this._projection.project=function(t,i){return i=i||{},i=m.WGS84ToGCJ02(a.A.toDegrees(t.longitude),a.A.toDegrees(t.latitude)),(i=m.GCJ02ToBD09(i[0],i[1]))[0]=Math.min(i[0],180),i[0]=Math.max(i[0],-180),i[1]=Math.min(i[1],74.000022),i[1]=Math.max(i[1],-71.988531),i=e.lngLatToPoint({lng:i[0],lat:i[1]}),new n.A(i.x,i.y)},this._projection.unproject=function(t,i){return i=i||{},i=e.mercatorToLngLat({lng:t.x,lat:t.y}),i=m.BD09ToGCJ02(i.lng,i.lat),i=m.GCJ02ToWGS84(i[0],i[1]),new r.A(a.A.toRadians(i[0]),a.A.toRadians(i[1]))},this.resolutions=t.resolutions||[]}tileXYToNativeRectangle(t,e,i,s){let o=this.resolutions[i],a=t*o,r=(t+1)*o,n=((e=-e)+1)*o,l=e*o;return(0,h.A)(s)?(s.west=a,s.south=l,s.east=r,s.north=n,s):new c.A(a,l,r,n)}positionToTileXY(t,e,i){let s=this._rectangle;if(!c.A.contains(s,t))return;let o=this._projection.project(t);if(!(0,h.A)(o))return;let a=this.resolutions[e],r=Math.floor(o.x/a),l=-Math.floor(o.y/a);return(0,h.A)(i)?(i.x=r,i.y=l,i):new n.A(r,l)}},A={img:"//shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46",vec:"//online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020",custom:"//api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid={style}",traffic:"//its.map.baidu.com:8002/traffic/TrafficTileService?time={time}&label={labelStyle}&v=016&level={z}&x={x}&y={y}&scaler=2"},C=class extends l.A{constructor(t={}){if(t.url=t.url||[t.protocol||"",A[t.style]||A.custom].join(""),"WGS84"===t.crs){let e=[];for(let t=0;t<19;t++)e[t]=256*Math.pow(2,18-t);t.tilingScheme=new w({resolutions:e,rectangleSouthwestInMeters:new n.A(-20037726.37,-12474104.17),rectangleNortheastInMeters:new n.A(20037726.37,12474104.17)})}else t.tilingScheme=new s.A({rectangleSouthwestInMeters:new n.A(-0x1fffe86,-0x202ef88),rectangleNortheastInMeters:new n.A(0x1fffe86,0x202ef88)});t.maximumLevel=18,super(t),this._rectangle=this._tilingScheme.rectangle,this._url=t.url,this._crs=t.crs||"BD09",this._style=t.style||"normal"}requestImage(t,e,i){let s=this._tilingScheme.getNumberOfXTilesAtLevel(i),o=this._tilingScheme.getNumberOfYTilesAtLevel(i),a=this._url.replace("{z}",i).replace("{s}",String(1)).replace("{style}",this._style);return a="WGS84"===this._crs?a.replace("{x}",String(t)).replace("{y}",String(-e)):a.replace("{x}",String(t-s/2)).replace("{y}",String(o/2-e-1)),u.A.loadImage(this,a)}},b=class extends l.A{constructor(t={}){t.url=t.url||[t.protocol||"","//tiles{s}.geovisearth.com/base/v1/{style}/{z}/{x}/{y}?format={format}&tmsIds=w&token={key}".replace(/\{style\}/g,t.style||"vec").replace(/\{format\}/g,t.format||"png").replace(/\{key\}/g,t.key||"")].join(""),t.subdomains=t.subdomains||["1","2","3"],super(t)}},z={img:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x={x}&y={y}&z={z}",elec:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=m&x={x}&y={y}&z={z}",cva:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=h&x={x}&y={y}&z={z}",ter:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=t@131,r&x={x}&y={y}&z={z}",img_cva:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=y&x={x}&y={y}&z={z}"},S=class extends l.A{constructor(t={}){t.url=t.url||[t.protocol||"",z[t.style]||z.elec].join(""),"WGS84"===t.crs&&(t.tilingScheme=new f),super(t)}},T=class extends l.A{constructor(t={}){super({url:[t.protocol||"","//t{s}.tianditu.gov.cn/DataServer?T={style}_w&x={x}&y={y}&l={z}&tk={key}".replace(/\{style\}/g,t.style||"vec").replace(/\{key\}/g,t.key||"")].join(""),subdomains:["0","1","2","3","4","5","6","7"],maximumLevel:18})}},I={img:"//p{s}.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=400",elec:"//rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid={style}&scene=0&version=347"},L=class extends l.A{constructor(t={}){let e=t.url||[t.protocol||"",I[t.style]||I.elec].join("");t.url=e.replace("{style}",t.style||"1"),t.subdomains&&t.subdomains.length||(t.subdomains=["0","1","2"]),"img"===t.style&&(t.customTags={sx:(t,e,i,s)=>e>>4,sy:(t,e,i,s)=>(1<<s)-1-i>>4}),"WGS84"===t.crs&&(t.tilingScheme=new f),super(t)}},R=class extends g.A{constructor(t={}){super(t),this._origin=t.origin||[-180,90],this._zoomOffset=t.zoomOffset||0,this._tileSize=t.tileSize||256,this._resolutions=t.resolutions||[]}get zoomOffset(){return this._zoomOffset}tileXYToRectangle(t,e,i,s){if(!this._resolutions||!this._resolutions[i+this._zoomOffset])return c.A.MAX_VALUE;let o=this._resolutions[i+this._zoomOffset]*this._tileSize,r=a.A.toRadians(this._origin[0]+t*o),n=a.A.toRadians(this._origin[1]-(e+1)*o),l=a.A.toRadians(this._origin[0]+(t+1)*o),u=a.A.toRadians(this._origin[1]-e*o);return(0,h.A)(s)?(s.west=r,s.south=n,s.east=l,s.north=u,s):new c.A(r,n,l,u)}positionToTileXY(t,e,i){if(!this._resolutions||!this._resolutions[e+this._zoomOffset])return new n.A;let s=this._resolutions[e+this._zoomOffset]*this._tileSize,o=a.A.toDegrees(t.longitude),r=a.A.toDegrees(t.latitude),l=Math.floor((o-this._origin[0])/s),u=Math.floor((this._origin[1]-r)/s);return(0,h.A)(i)?(i.x=l,i.y=u,i):new n.A(Math.max(0,l),Math.max(0,u))}},P=class extends s.A{constructor(t={}){super(t),this._origin=t.origin||[-20037508.3427892,20037508.3427892],this._zoomOffset=t.zoomOffset||0,this._tileSize=t.tileSize||256,this._resolutions=t.resolutions||[]}get zoomOffset(){return this._zoomOffset}tileXYToNativeRectangle(t,e,i,s){if(!this._resolutions||!this._resolutions[i+this._zoomOffset]||t<0||e<0)return c.A.MAX_VALUE;let o=this._resolutions[i+this._zoomOffset]*this._tileSize,a=this._origin[0]+t*o,r=this._origin[1]-(e+1)*o,n=this._origin[0]+(t+1)*o,l=this._origin[1]-e*o;return(0,h.A)(s)?(s.west=a,s.south=r,s.east=n,s.north=l,s):new c.A(a,r,n,l)}positionToTileXY(t,e,i){let s=this._rectangle;if(!c.A.contains(s,t))return;if(!this._resolutions||!this._resolutions[e+this._zoomOffset])return new n.A;let o=this._resolutions[e+this._zoomOffset]*this._tileSize,a=this._projection.project(t),r=Math.floor((a.x-this._origin[0])/o),l=Math.floor((this._origin[1]-a.y)/o);return(0,h.A)(i)?(i.x=r,i.y=l,i):new n.A(Math.max(0,r),Math.max(0,l))}};window&&window.Cesium&&(Object.isFrozen(window.Cesium)?(window.AMapImageryProvider=p,window.BaiduImageryProvider=C,window.GeoVisImageryProvider=b,window.GoogleImageryProvider=S,window.TdtImageryProvider=T,window.TencentImageryProvider=L,window.CustomGeographicTilingScheme=R,window.CustomMercatorTilingScheme=P):(window.Cesium.AMapImageryProvider=p,window.Cesium.BaiduImageryProvider=C,window.Cesium.GeoVisImageryProvider=b,window.Cesium.GoogleImageryProvider=S,window.Cesium.TdtImageryProvider=T,window.Cesium.TencentImageryProvider=L,window.Cesium.CustomGeographicTilingScheme=R,window.Cesium.CustomMercatorTilingScheme=P))}}]);