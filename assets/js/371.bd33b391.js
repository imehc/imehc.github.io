"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["371"],{54567(e,r,t){t.d(r,{A:()=>a});var o=t(35656),n=t(57140),i=t(27112),l=t(82044),p=t(79457);let a=(0,n.forwardRef)(({children:e,loadingText:r="Initializing...",showLoading:t=!0,useFixedWrapper:a=!0,...s},u)=>{let g=(0,n.useRef)(null),[c,d]=(0,i.A)(g);(0,n.useImperativeHandle)(u,()=>g.current,[]);let f="function"==typeof e,P={width:c,height:d},_=()=>f?e?.(P):e;return(0,o.jsx)(l.A,{ref:g,...s,children:c>0&&d>0?a?(0,o.jsx)("div",{className:"tw:absolute tw:top-0 tw:left-0 tw:overflow-hidden",style:{width:c,height:d},children:_()}):_():t?(0,o.jsx)(p.A,{loadText:r}):null})})},27112(e,r,t){t.d(r,{A:()=>n});var o=t(57140);function n(e){let[r,t]=(0,o.useState)([0,0]);return(0,o.useEffect)(()=>{let r=()=>{if(e.current){let{width:r,height:o}=e.current.getBoundingClientRect();t([r,o])}};r();let o=new ResizeObserver(r);return e.current&&o.observe(e.current),()=>{o.disconnect()}},[e]),r}},91761(e,r,t){t.d(r,{W:()=>l,u:()=>p});var o=t(80849),n=t(5742);async function i(e=!1){let r=await fetch("/datasets/ne_110m_admin_0_countries.geojson"),t=await r.json(),l=[...t.features],p=l.findIndex(e=>"China"===e.properties.ADMIN),a=l.findIndex(e=>"Taiwan"===e.properties.ADMIN);if(-1!==p&&-1!==a){let r=l[p],t=l[a];try{if(e){let e=e=>"MultiPolygon"===e.type?e.coordinates:"Polygon"===e.type?[e.coordinates]:[],o=e(r.geometry),n=e(t.geometry),i={...r.properties,GDP_MD_EST:r.properties.GDP_MD_EST+t.properties.GDP_MD_EST,POP_EST:r.properties.POP_EST+t.properties.POP_EST};l[p]={type:"Feature",properties:i,geometry:{type:"MultiPolygon",coordinates:[...o,...n]}}}else{let e=(0,o.K)((0,n.Lr)([r,t]));if(e){let o={...r.properties,GDP_MD_EST:r.properties.GDP_MD_EST+t.properties.GDP_MD_EST,POP_EST:r.properties.POP_EST+t.properties.POP_EST};l[p]={type:"Feature",properties:o,geometry:e.geometry}}}l.splice(a,1)}catch(e){console.warn("Error merging China and Taiwan:",e)}}return{...t,features:l}}let l=i(!1),p=i(!0)},36206(e,r,t){t.r(r),t.d(r,{default:()=>u});var o=t(35656),n=t(54567),i=t(27112),l=t(99396),p=t(97769),a=t(57140),s=t(91761);function u(){let e=(0,a.use)(s.u),r=(0,a.useRef)(null),[t,u]=(0,i.A)(r);return(0,a.useEffect)(()=>{let{current:o}=r;if(!o||!t||!u)return;let n=e.features,i=(0,l.yen)(l.oKI),a=e=>e.properties.GDP_MD_EST/Math.max(1e5,e.properties.POP_EST),s=Math.max(...n.map(a));i.domain([0,s]);let g=new p.A(o).width(t).height(u).globeImageUrl("/three-globe/example/img/earth-night.png").backgroundImageUrl("/three-globe/example/img/night-sky.png").lineHoverPrecision(0).polygonsData(n.filter(e=>"AQ"!==e.properties.ISO_A2)).polygonAltitude(.06).polygonCapColor(e=>i(a(e))).polygonSideColor(()=>"rgba(0, 100, 0, 0.15)").polygonStrokeColor(()=>"#111").polygonLabel(({properties:e})=>`
          <b>${e.ADMIN} (${e.ISO_A2}):</b> <br />
          GDP: <i>${e.GDP_MD_EST}</i> M$<br/>
          Population: <i>${e.POP_EST}</i>
        `).onPolygonHover(e=>g.polygonAltitude(r=>r===e?.12:.06).polygonCapColor(r=>r===e?"steelblue":i(a(r)))).polygonsTransitionDuration(300);return()=>{g?._destructor()}},[t,u,e.features]),(0,o.jsx)(n.A,{ref:r})}}}]);