"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["5011"],{31709(e,n,t){t.r(n),t.d(n,{metadata:()=>s,default:()=>w,frontMatter:()=>m,contentTitle:()=>v,toc:()=>b,assets:()=>g});var s=JSON.parse('{"id":"web/three/advanced/event-propagation","title":"\u4E8B\u4EF6\u4F20\u64AD","description":"\u6838\u5FC3\u6982\u5FF5","source":"@site/docs/web/three/advanced/04-event-propagation.mdx","sourceDirName":"web/three/advanced","slug":"/web/three/advanced/event-propagation","permalink":"/web/three/advanced/event-propagation","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Javascript","permalink":"/tags/javascript"}],"version":"current","lastUpdatedBy":"imehc","lastUpdatedAt":1768208466000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"\u4E8B\u4EF6\u4F20\u64AD","tags":["Javascript"]},"sidebar":"webSidebar","previous":{"title":"\u5D4C\u5957\u7EC4\u4EF6","permalink":"/web/three/advanced/nested-components"},"next":{"title":"\u66F4\u6539\u76F8\u673A\u4F4D\u7F6E\u53CA\u5176\u9762\u5411\u4F4D\u7F6E","permalink":"/web/three/advanced/camera-position"}}'),i=t(35656),r=t(75395),a=t(6124),o=t(60140),l=t(82044),c=t(94343),d=t(45225),p=t(57140),h=t(67199);let x=e=>{let n=(0,p.useRef)(null),[t,s]=(0,p.useState)(0),r=(0,p.useMemo)(()=>new h.Q1f("black"),[]);return console.log(`Box ${e.name} count=${t}`),(0,p.useEffect)(()=>{n.current&&n.current.material.color.set(65280)},[]),(0,d.D)(()=>{n.current&&n.current.material.color.lerp(r,.1)}),(0,i.jsxs)("mesh",{...e,ref:n,onPointerDown:()=>{s(t+1)},children:[(0,i.jsx)("boxGeometry",{}),(0,i.jsx)("meshStandardMaterial",{}),(0,i.jsx)(c.E,{fontSize:.5,"position-z":.501,children:t}),e.children]})},j=()=>{let{camera:e,pointer:n}=(0,d.C)(),t=(0,p.useMemo)(()=>new h.Pq0,[]);return(0,d.D)(()=>{e.position.lerp(t.set(n.x,n.y,e.position.z),.05),e.lookAt(0,0,0)})},u=()=>(0,i.jsx)(l.A,{children:(0,i.jsxs)(o.Hl,{camera:{position:[0,0,4]},children:[(0,i.jsx)("directionalLight",{position:[1,1,1]}),(0,i.jsxs)(x,{position:[0,1.5,0],name:"A0",children:[(0,i.jsxs)(x,{position:[-.66,-1,0],name:"B0",children:[(0,i.jsxs)(x,{position:[-.66,-1,0],name:"C0",children:[(0,i.jsx)(x,{position:[-.66,-1,0],name:"D0"}),(0,i.jsx)(x,{position:[.66,-1,0],name:"D1"})]}),(0,i.jsx)(x,{position:[.66,-1,0],name:"C1",children:(0,i.jsx)(x,{position:[.66,-1,0],name:"D2"})})]}),(0,i.jsx)(x,{position:[.66,-1,0],name:"B1",children:(0,i.jsx)(x,{position:[.66,-1,0],name:"C2",children:(0,i.jsx)(x,{position:[.66,-1,0],name:"D3"})})})]}),(0,i.jsx)(j,{}),(0,i.jsx)(a.U,{})]})}),m={sidebar_position:4,title:"\u4E8B\u4EF6\u4F20\u64AD",tags:["Javascript"]},v="\u4E8B\u4EF6\u4F20\u64AD",g={},b=[{value:"\u6838\u5FC3\u6982\u5FF5",id:"\u6838\u5FC3\u6982\u5FF5",level:2}];function f(e){let n={h1:"h1",h2:"h2",header:"header",li:"li",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u4E8B\u4EF6\u4F20\u64AD",children:"\u4E8B\u4EF6\u4F20\u64AD"})}),"\n",(0,i.jsx)(u,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6838\u5FC3\u6982\u5FF5",children:"\u6838\u5FC3\u6982\u5FF5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u4E8B\u4EF6\u5192\u6CE1"}),": \u4E8B\u4EF6\u4ECE\u5B50\u7EC4\u4EF6\u4F20\u64AD\u5230\u7236\u7EC4\u4EF6"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"stopPropagation"}),": \u963B\u6B62\u4E8B\u4EF6\u7EE7\u7EED\u4F20\u64AD (\u6B64\u793A\u4F8B\u672A\u4F7F\u7528)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u76F8\u673A\u8DDF\u968F"}),": \u4F7F\u7528 lerp \u5B9E\u73B0\u5E73\u6ED1\u7684\u76F8\u673A\u79FB\u52A8"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u53EF\u89C6\u5316\u53CD\u9988"}),": \u901A\u8FC7\u989C\u8272\u548C\u8BA1\u6570\u5668\u663E\u793A\u4E8B\u4EF6\u89E6\u53D1"]}),"\n"]})]})}function w(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(f,{...e})}):f(e)}}}]);