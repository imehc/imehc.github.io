"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["8777"],{54232(e,t,i){function r(e,t,i={}){let n={type:"Feature"};return(0===i.id||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=t||{},n.geometry=e,n}function n(e,t,i={}){if(!e)throw Error("coordinates is required");if(!Array.isArray(e))throw Error("coordinates must be an Array");if(e.length<2)throw Error("coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw Error("coordinates must contain numbers");return r({type:"Point",coordinates:e},t,i)}function s(e,t,i={}){for(let t of e){if(t.length<4)throw Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,i)}function l(e,t={}){let i={type:"FeatureCollection"};return t.id&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.features=e,i}function o(e,t,i={}){return r({type:"MultiPolygon",coordinates:e},t,i)}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function u(e){if(!e)throw Error("bbox is required");if(!Array.isArray(e))throw Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw Error("bbox must be an Array of 4 or 6 numbers");e.forEach(e=>{if(!h(e))throw Error("bbox must only contain numbers")})}i.d(t,{Lr:()=>l,O6:()=>u,g5:()=>o,n1:()=>s,zx:()=>n})},27120(e,t,i){i.d(t,{K:()=>H});var r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,s=Math.floor,l="[BigNumber Error] ",o=l+"Number primitive has more than 15 significant digits: ",h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function u(e){var t=0|e;return e>0||e===t?t:t-1}function f(e){for(var t,i,r=1,n=e.length,s=e[0]+"";r<n;){for(i=14-(t=e[r++]+"").length;i--;t="0"+t);s+=t}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function a(e,t){var i,r,n=e.c,s=t.c,l=e.s,o=t.s,h=e.e,u=t.e;if(!l||!o)return null;if(i=n&&!n[0],r=s&&!s[0],i||r)return i?r?0:-o:l;if(l!=o)return l;if(i=l<0,r=h==u,!n||!s)return r?0:!n^i?1:-1;if(!r)return h>u^i?1:-1;for(l=0,o=(h=n.length)<(u=s.length)?h:u;l<o;l++)if(n[l]!=s[l])return n[l]>s[l]^i?1:-1;return h==u?0:h>u^i?1:-1}function c(e,t,i,r){if(e<t||e>i||e!==s(e))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return u(e.e/14)==t&&e.c[t]%2!=0}function p(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,i){var r,n;if(t<0){for(n=i+".";++t;n+=i);e=n+e}else if(r=e.length,++t>r){for(n=i,t-=r;--t;n+=i);e+=n}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var m=function e(t){var i,m,d,x,b,w,E,v,S,R=q.prototype={constructor:q,toString:null,valueOf:null},T=new q(1),L=20,O=4,_=-7,P=21,A=-1e7,N=1e7,C=!1,k=1,I=0,B={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz",M=!0;function q(e,t){var i,n,l,h,u,f,a,g,p=this;if(!(p instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber){p.s=e.s,!e.c||e.e>N?p.c=p.e=null:e.e<A?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice());return}if((f="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(h=0,u=e;u>=10;u/=10,h++);h>N?p.c=p.e=null:(p.e=h,p.c=[e]);return}g=String(e)}else{if(!r.test(g=String(e)))return S(p,g,f);p.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(h=g.indexOf("."))>-1&&(g=g.replace(".","")),(u=g.search(/e/i))>0?(h<0&&(h=u),h+=+g.slice(u+1),g=g.substring(0,u)):h<0&&(h=g.length)}else{if(c(t,2,G.length,"Base"),10==t&&M)return F(p=new q(e),L+p.e+1,O);if(g=String(e),f="number"==typeof e){if(0*e!=0)return S(p,g,f,t);if(p.s=1/e<0?(g=g.slice(1),-1):1,q.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else p.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(i=G.slice(0,t),h=u=0,a=g.length;u<a;u++)if(0>i.indexOf(n=g.charAt(u))){if("."==n){if(u>h){h=a;continue}}else if(!l&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){l=!0,u=-1,h=0;continue}return S(p,String(e),f,t)}f=!1,(h=(g=v(g,t,10,p.s)).indexOf("."))>-1?g=g.replace(".",""):h=g.length}for(u=0;48===g.charCodeAt(u);u++);for(a=g.length;48===g.charCodeAt(--a););if(g=g.slice(u,++a)){if(a-=u,f&&q.DEBUG&&a>15&&(e>0x1fffffffffffff||e!==s(e)))throw Error(o+p.s*e);if((h=h-u-1)>N)p.c=p.e=null;else if(h<A)p.c=[p.e=0];else{if(p.e=h,p.c=[],u=(h+1)%14,h<0&&(u+=14),u<a){for(u&&p.c.push(+g.slice(0,u)),a-=14;u<a;)p.c.push(+g.slice(u,u+=14));u=14-(g=g.slice(u)).length}else u-=a;for(;u--;g+="0");p.c.push(+g)}}else p.c=[p.e=0]}function z(e,t,i,r){var n,s,l,o,h;if(null==i?i=O:c(i,0,8),!e.c)return e.toString();if(n=e.c[0],l=e.e,null==t)h=f(e.c),h=1==r||2==r&&(l<=_||l>=P)?p(h,l):y(h,l,"0");else if(s=(e=F(new q(e),t,i)).e,o=(h=f(e.c)).length,1==r||2==r&&(t<=s||s<=_)){for(;o<t;h+="0",o++);h=p(h,s)}else if(t-=l+(2===r&&s>l),h=y(h,s,"0"),s+1>o){if(--t>0)for(h+=".";t--;h+="0");}else if((t+=s-o)>0)for(s+1==o&&(h+=".");t--;h+="0");return e.s<0&&n?"-"+h:h}function D(e,t){for(var i,r,n=1,s=new q(e[0]);n<e.length;n++)(r=new q(e[n])).s&&(i=a(s,r))!==t&&(0!==i||s.s!==t)||(s=r);return s}function U(e,t,i){for(var r=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,r++);return(i=r+14*i-1)>N?e.c=e.e=null:i<A?e.c=[e.e=0]:(e.e=i,e.c=t),e}function F(e,t,i,r){var l,o,u,f,a,c,g,p=e.c;if(p){e:{for(l=1,f=p[0];f>=10;f/=10,l++);if((o=t-l)<0)o+=14,u=t,g=s((a=p[c=0])/h[l-u-1]%10);else if((c=n((o+1)/14))>=p.length)if(r){for(;p.length<=c;p.push(0));a=g=0,l=1,o%=14,u=o-14+1}else break e;else{for(l=1,a=f=p[c];f>=10;f/=10,l++);o%=14,g=(u=o-14+l)<0?0:s(a/h[l-u-1]%10)}if(r=r||t<0||null!=p[c+1]||(u<0?a:a%h[l-u-1]),r=i<4?(g||r)&&(0==i||i==(e.s<0?3:2)):g>5||5==g&&(4==i||r||6==i&&(o>0?u>0?a/h[l-u]:0:p[c-1])%10&1||i==(e.s<0?8:7)),t<1||!p[0])return p.length=0,r?(t-=e.e+1,p[0]=h[(14-t%14)%14],e.e=-t||0):p[0]=e.e=0,e;if(0==o?(p.length=c,f=1,c--):(p.length=c+1,f=h[14-o],p[c]=u>0?s(a/h[l-u]%h[u])*f:0),r)for(;;)if(0==c){for(o=1,u=p[0];u>=10;u/=10,o++);for(u=p[0]+=f,f=1;u>=10;u/=10,f++);o!=f&&(e.e++,1e14==p[0]&&(p[0]=1));break}else{if(p[c]+=f,1e14!=p[c])break;p[c--]=0,f=1}for(o=p.length;0===p[--o];p.pop());}e.e>N?e.c=e.e=null:e.e<A&&(e.c=[e.e=0])}return e}function $(e){var t,i=e.e;return null===i?e.toString():(t=f(e.c),t=i<=_||i>=P?p(t,i):y(t,i,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,i;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(c(i=e[t],0,1e9,t),L=i),e.hasOwnProperty(t="ROUNDING_MODE")&&(c(i=e[t],0,8,t),O=i),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((i=e[t])&&i.pop?(c(i[0],-1e9,0,t),c(i[1],0,1e9,t),_=i[0],P=i[1]):(c(i,-1e9,1e9,t),_=-(P=i<0?-i:i))),e.hasOwnProperty(t="RANGE"))if((i=e[t])&&i.pop)c(i[0],-1e9,-1,t),c(i[1],1,1e9,t),A=i[0],N=i[1];else if(c(i,-1e9,1e9,t),i)A=-(N=i<0?-i:i);else throw Error(l+t+" cannot be zero: "+i);if(e.hasOwnProperty(t="CRYPTO"))if(!!(i=e[t])===i)if(i)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))C=i;else throw C=!i,Error(l+"crypto unavailable");else C=i;else throw Error(l+t+" not true or false: "+i);if(e.hasOwnProperty(t="MODULO_MODE")&&(c(i=e[t],0,9,t),k=i),e.hasOwnProperty(t="POW_PRECISION")&&(c(i=e[t],0,1e9,t),I=i),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(i=e[t]))B=i;else throw Error(l+t+" not an object: "+i);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(i=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(i))throw Error(l+t+" invalid: "+i);M="0123456789"==i.slice(0,10),G=i}}else throw Error(l+"Object expected: "+e);return{DECIMAL_PLACES:L,ROUNDING_MODE:O,EXPONENTIAL_AT:[_,P],RANGE:[A,N],CRYPTO:C,MODULO_MODE:k,POW_PRECISION:I,FORMAT:B,ALPHABET:G}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,i,r=e.c,n=e.e,o=e.s;e:if("[object Array]"==({}).toString.call(r)){if((1===o||-1===o)&&n>=-1e9&&n<=1e9&&n===s(n)){if(0===r[0]){if(0===n&&1===r.length)return!0;break e}if((t=(n+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((i=r[t])<0||i>=1e14||i!==s(i))break e;if(0!==i)return!0}}}else if(null===r&&null===n&&(null===o||1===o||-1===o))return!0;throw Error(l+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return D(arguments,-1)},q.minimum=q.min=function(){return D(arguments,1)},i=0x20000000000000*Math.random()&2097151?function(){return s(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},q.random=function(e){var t,r,o,u,f,a=0,g=[],p=new q(T);if(null==e?e=L:c(e,0,1e9),u=n(e/14),C)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(u*=2));a<u;)(f=131072*t[a]+(t[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[a]=r[0],t[a+1]=r[1]):(g.push(f%1e14),a+=2);a=u/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=7);a<u;)(f=(31&t[a])*0x1000000000000+0x10000000000*t[a+1]+0x100000000*t[a+2]+0x1000000*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(g.push(f%1e14),a+=7);a=u/7}else throw C=!1,Error(l+"crypto unavailable");if(!C)for(;a<u;)(f=i())<9e15&&(g[a++]=f%1e14);for(u=g[--a],e%=14,u&&e&&(f=h[14-e],g[a]=s(u/f)*f);0===g[a];g.pop(),a--);if(a<0)g=[o=0];else{for(o=-1;0===g[0];g.splice(0,1),o-=14);for(a=1,f=g[0];f>=10;f/=10,a++);a<14&&(o-=14-a)}return p.e=o,p.c=g,p},q.sum=function(){for(var e=1,t=arguments,i=new q(t[0]);e<t.length;)i=i.plus(t[e++]);return i},v=function(){var e="0123456789";function t(e,t,i,r){for(var n,s,l=[0],o=0,h=e.length;o<h;){for(s=l.length;s--;l[s]*=t);for(l[0]+=r.indexOf(e.charAt(o++)),n=0;n<l.length;n++)l[n]>i-1&&(null==l[n+1]&&(l[n+1]=0),l[n+1]+=l[n]/i|0,l[n]%=i)}return l.reverse()}return function(i,r,n,s,l){var o,h,u,a,c,g,p,m,d=i.indexOf("."),x=L,b=O;for(d>=0&&(a=I,I=0,i=i.replace(".",""),g=(m=new q(r)).pow(i.length-d),I=a,m.c=t(y(f(g.c),g.e,"0"),10,n,e),m.e=m.c.length),u=a=(p=t(i,r,n,l?(o=G,e):(o=e,G))).length;0==p[--a];p.pop());if(!p[0])return o.charAt(0);if(d<0?--u:(g.c=p,g.e=u,g.s=s,p=(g=E(g,m,x,b,n)).c,c=g.r,u=g.e),d=p[h=u+x+1],a=n/2,c=c||h<0||null!=p[h+1],c=b<4?(null!=d||c)&&(0==b||b==(g.s<0?3:2)):d>a||d==a&&(4==b||c||6==b&&1&p[h-1]||b==(g.s<0?8:7)),h<1||!p[0])i=c?y(o.charAt(1),-x,o.charAt(0)):o.charAt(0);else{if(p.length=h,c)for(--n;++p[--h]>n;)p[h]=0,h||(++u,p=[1].concat(p));for(a=p.length;!p[--a];);for(d=0,i="";d<=a;i+=o.charAt(p[d++]));i=y(i,u,o.charAt(0))}return i}}(),E=function(){function e(e,t,i){var r,n,s,l,o=0,h=e.length,u=t%1e7,f=t/1e7|0;for(e=e.slice();h--;)r=f*(s=e[h]%1e7)+(l=e[h]/1e7|0)*u,o=((n=u*s+r%1e7*1e7+o)/i|0)+(r/1e7|0)+f*l,e[h]=n%i;return o&&(e=[o].concat(e)),e}function t(e,t,i,r){var n,s;if(i!=r)s=i>r?1:-1;else for(n=s=0;n<i;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function i(e,t,i,r){for(var n=0;i--;)e[i]-=n,n=+(e[i]<t[i]),e[i]=n*r+e[i]-t[i];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,n,l,o,h){var f,a,c,g,p,y,m,d,x,b,w,E,v,S,R,T,L,O=r.s==n.s?1:-1,_=r.c,P=n.c;if(!_||!_[0]||!P||!P[0])return new q(!r.s||!n.s||(_?P&&_[0]==P[0]:!P)?NaN:_&&0==_[0]||!P?0*O:O/0);for(x=(d=new q(O)).c=[],O=l+(a=r.e-n.e)+1,h||(h=1e14,a=u(r.e/14)-u(n.e/14),O=O/14|0),c=0;P[c]==(_[c]||0);c++);if(P[c]>(_[c]||0)&&a--,O<0)x.push(1),g=!0;else{for(S=_.length,T=P.length,c=0,O+=2,(p=s(h/(P[0]+1)))>1&&(P=e(P,p,h),_=e(_,p,h),T=P.length,S=_.length),v=T,w=(b=_.slice(0,T)).length;w<T;b[w++]=0);L=[0].concat(L=P.slice()),R=P[0],P[1]>=h/2&&R++;do{if(p=0,(f=t(P,b,T,w))<0){if(E=b[0],T!=w&&(E=E*h+(b[1]||0)),(p=s(E/R))>1)for(p>=h&&(p=h-1),m=(y=e(P,p,h)).length,w=b.length;1==t(y,b,m,w);)p--,i(y,T<m?L:P,m,h),m=y.length,f=1;else 0==p&&(f=p=1),m=(y=P.slice()).length;if(m<w&&(y=[0].concat(y)),i(b,y,w,h),w=b.length,-1==f)for(;1>t(P,b,T,w);)p++,i(b,T<w?L:P,w,h),w=b.length}else 0===f&&(p++,b=[0]);x[c++]=p,b[0]?b[w++]=_[v]||0:(b=[_[v]],w=1)}while((v++<S||null!=b[0])&&O--)g=null!=b[0],x[0]||x.splice(0,1)}if(1e14==h){for(c=1,O=x[0];O>=10;O/=10,c++);F(d,l+(d.e=c+14*a-1)+1,o,g)}else d.e=a,d.r=+g;return d}}(),m=/^(-?)0([xbo])(?=\w[\w.]*$)/i,d=/^([^.]+)\.$/,x=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,w=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,i,r){var n,s=i?t:t.replace(w,"");if(b.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!i&&(s=s.replace(m,function(e,t,i){return n="x"==(i=i.toLowerCase())?16:"b"==i?2:8,r&&r!=n?e:t}),r&&(n=r,s=s.replace(d,"$1").replace(x,"0.$1")),t!=s))return new q(s,n);if(q.DEBUG)throw Error(l+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},R.absoluteValue=R.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},R.comparedTo=function(e,t){return a(this,new q(e,t))},R.decimalPlaces=R.dp=function(e,t){var i,r,n;if(null!=e)return c(e,0,1e9),null==t?t=O:c(t,0,8),F(new q(this),e+this.e+1,t);if(!(i=this.c))return null;if(r=((n=i.length-1)-u(this.e/14))*14,n=i[n])for(;n%10==0;n/=10,r--);return r<0&&(r=0),r},R.dividedBy=R.div=function(e,t){return E(this,new q(e,t),L,O)},R.dividedToIntegerBy=R.idiv=function(e,t){return E(this,new q(e,t),0,1)},R.exponentiatedBy=R.pow=function(e,t){var i,r,o,h,u,f,a,c,p,y=this;if((e=new q(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+$(e));if(null!=t&&(t=new q(t)),f=e.e>14,!y.c||!y.c[0]||1==y.c[0]&&!y.e&&1==y.c.length||!e.c||!e.c[0])return p=new q(Math.pow(+$(y),f?e.s*(2-g(e)):+$(e))),t?p.mod(t):p;if(a=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(r=!a&&y.isInteger()&&t.isInteger())&&(y=y.mod(t))}else{if(e.e>9&&(y.e>0||y.e<-1||(0==y.e?y.c[0]>1||f&&y.c[1]>=24e7:y.c[0]<8e13||f&&y.c[0]<=9999975e7)))return h=y.s<0&&g(e)?-0:0,y.e>-1&&(h=1/h),new q(a?1/h:h);I&&(h=n(I/14+2))}for(f?(i=new q(.5),a&&(e.s=1),c=g(e)):c=(o=Math.abs(+$(e)))%2,p=new q(T);;){if(c){if(!(p=p.times(y)).c)break;h?p.c.length>h&&(p.c.length=h):r&&(p=p.mod(t))}if(o){if(0===(o=s(o/2)))break;c=o%2}else if(F(e=e.times(i),e.e+1,1),e.e>14)c=g(e);else{if(0==(o=+$(e)))break;c=o%2}y=y.times(y),h?y.c&&y.c.length>h&&(y.c.length=h):r&&(y=y.mod(t))}return r?p:(a&&(p=T.div(p)),t?p.mod(t):h?F(p,I,O,u):p)},R.integerValue=function(e){var t=new q(this);return null==e?e=O:c(e,0,8),F(t,t.e+1,e)},R.isEqualTo=R.eq=function(e,t){return 0===a(this,new q(e,t))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(e,t){return a(this,new q(e,t))>0},R.isGreaterThanOrEqualTo=R.gte=function(e,t){return 1===(t=a(this,new q(e,t)))||0===t},R.isInteger=function(){return!!this.c&&u(this.e/14)>this.c.length-2},R.isLessThan=R.lt=function(e,t){return 0>a(this,new q(e,t))},R.isLessThanOrEqualTo=R.lte=function(e,t){return -1===(t=a(this,new q(e,t)))||0===t},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(e,t){var i,r,n,s,l=this.s;if(t=(e=new q(e,t)).s,!l||!t)return new q(NaN);if(l!=t)return e.s=-t,this.plus(e);var o=this.e/14,h=e.e/14,f=this.c,a=e.c;if(!o||!h){if(!f||!a)return f?(e.s=-t,e):new q(a?this:NaN);if(!f[0]||!a[0])return a[0]?(e.s=-t,e):new q(f[0]?this:3==O?-0:0)}if(o=u(o),h=u(h),f=f.slice(),l=o-h){for((s=l<0)?(l=-l,n=f):(h=o,n=a),n.reverse(),t=l;t--;n.push(0));n.reverse()}else for(r=(s=(l=f.length)<(t=a.length))?l:t,l=t=0;t<r;t++)if(f[t]!=a[t]){s=f[t]<a[t];break}if(s&&(n=f,f=a,a=n,e.s=-e.s),(t=(r=a.length)-(i=f.length))>0)for(;t--;f[i++]=0);for(t=1e14-1;r>l;){if(f[--r]<a[r]){for(i=r;i&&!f[--i];f[i]=t);--f[i],f[r]+=1e14}f[r]-=a[r]}for(;0==f[0];f.splice(0,1),--h);return f[0]?U(e,f,h):(e.s=3==O?-1:1,e.c=[e.e=0],e)},R.modulo=R.mod=function(e,t){var i,r;return(e=new q(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==k?(r=e.s,e.s=1,i=E(this,e,0,3),e.s=r,i.s*=r):i=E(this,e,0,k),(e=this.minus(i.times(e))).c[0]||1!=k||(e.s=this.s),e):new q(this):new q(NaN)},R.multipliedBy=R.times=function(e,t){var i,r,n,s,l,o,h,f,a,c,g,p,y,m=this.c,d=(e=new q(e,t)).c;if(!m||!d||!m[0]||!d[0])return this.s&&e.s&&(!m||m[0]||d)&&(!d||d[0]||m)?(e.s*=this.s,m&&d?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(r=u(this.e/14)+u(e.e/14),e.s*=this.s,(h=m.length)<(c=d.length)&&(y=m,m=d,d=y,n=h,h=c,c=n),n=h+c,y=[];n--;y.push(0));for(n=c;--n>=0;){for(i=0,g=d[n]%1e7,p=d[n]/1e7|0,s=n+(l=h);s>n;)o=p*(f=m[--l]%1e7)+(a=m[l]/1e7|0)*g,i=((f=g*f+o%1e7*1e7+y[s]+i)/1e14|0)+(o/1e7|0)+p*a,y[s--]=f%1e14;y[s]=i}return i?++r:y.splice(0,1),U(e,y,r)},R.negated=function(){var e=new q(this);return e.s=-e.s||null,e},R.plus=function(e,t){var i,r=this.s;if(t=(e=new q(e,t)).s,!r||!t)return new q(NaN);if(r!=t)return e.s=-t,this.minus(e);var n=this.e/14,s=e.e/14,l=this.c,o=e.c;if(!n||!s){if(!l||!o)return new q(r/0);if(!l[0]||!o[0])return o[0]?e:new q(l[0]?this:0*r)}if(n=u(n),s=u(s),l=l.slice(),r=n-s){for(r>0?(s=n,i=o):(r=-r,i=l),i.reverse();r--;i.push(0));i.reverse()}for((r=l.length)-(t=o.length)<0&&(i=o,o=l,l=i,t=r),r=0;t;)r=(l[--t]=l[t]+o[t]+r)/1e14|0,l[t]=1e14===l[t]?0:l[t]%1e14;return r&&(l=[r].concat(l),++s),U(e,l,s)},R.precision=R.sd=function(e,t){var i,r,n;if(null!=e&&!!e!==e)return c(e,1,1e9),null==t?t=O:c(t,0,8),F(new q(this),e,t);if(!(i=this.c))return null;if(r=14*(n=i.length-1)+1,n=i[n]){for(;n%10==0;n/=10,r--);for(n=i[0];n>=10;n/=10,r++);}return e&&this.e+1>r&&(r=this.e+1),r},R.shiftedBy=function(e){return c(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},R.squareRoot=R.sqrt=function(){var e,t,i,r,n,s=this.c,l=this.s,o=this.e,h=L+4,a=new q("0.5");if(1!==l||!s||!s[0])return new q(!l||l<0&&(!s||s[0])?NaN:s?this:1/0);if(0==(l=Math.sqrt(+$(this)))||l==1/0?(((t=f(s)).length+o)%2==0&&(t+="0"),l=Math.sqrt(+t),o=u((o+1)/2)-(o<0||o%2),i=new q(t=l==1/0?"5e"+o:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+o)):i=new q(l+""),i.c[0]){for((l=(o=i.e)+h)<3&&(l=0);;)if(n=i,i=a.times(n.plus(E(this,n,h,1))),f(n.c).slice(0,l)===(t=f(i.c)).slice(0,l)){if(i.e<o&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(F(i,i.e+L+2,1),e=!i.times(i).eq(this));break}if(!r&&(F(n,n.e+L+2,0),n.times(n).eq(this))){i=n;break}h+=4,l+=4,r=1}}return F(i,i.e+L+1,O,e)},R.toExponential=function(e,t){return null!=e&&(c(e,0,1e9),e++),z(this,e,t,1)},R.toFixed=function(e,t){return null!=e&&(c(e,0,1e9),e=e+this.e+1),z(this,e,t)},R.toFormat=function(e,t,i){var r;if(null==i)null!=e&&t&&"object"==typeof t?(i=t,t=null):e&&"object"==typeof e?(i=e,e=t=null):i=B;else if("object"!=typeof i)throw Error(l+"Argument not an object: "+i);if(r=this.toFixed(e,t),this.c){var n,s=r.split("."),o=+i.groupSize,h=+i.secondaryGroupSize,u=i.groupSeparator||"",f=s[0],a=s[1],c=this.s<0,g=c?f.slice(1):f,p=g.length;if(h&&(n=o,o=h,h=n,p-=n),o>0&&p>0){for(n=p%o||o,f=g.substr(0,n);n<p;n+=o)f+=u+g.substr(n,o);h>0&&(f+=u+g.slice(n)),c&&(f="-"+f)}r=a?f+(i.decimalSeparator||"")+((h=+i.fractionGroupSize)?a.replace(RegExp("\\d{"+h+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):a):f}return(i.prefix||"")+r+(i.suffix||"")},R.toFraction=function(e){var t,i,r,n,s,o,u,a,c,g,p,y,m=this.c;if(null!=e&&(!(u=new q(e)).isInteger()&&(u.c||1!==u.s)||u.lt(T)))throw Error(l+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+$(u));if(!m)return new q(this);for(t=new q(T),c=i=new q(T),r=a=new q(T),y=f(m),s=t.e=y.length-this.e-1,t.c[0]=h[(o=s%14)<0?14+o:o],e=!e||u.comparedTo(t)>0?s>0?t:c:u,o=N,N=1/0,u=new q(y),a.c[0]=0;g=E(u,t,0,1),1!=(n=i.plus(g.times(r))).comparedTo(e);)i=r,r=n,c=a.plus(g.times(n=c)),a=n,t=u.minus(g.times(n=t)),u=n;return n=E(e.minus(i),r,0,1),a=a.plus(n.times(c)),i=i.plus(n.times(r)),a.s=c.s=this.s,s*=2,p=1>E(c,r,s,O).minus(this).abs().comparedTo(E(a,i,s,O).minus(this).abs())?[c,r]:[a,i],N=o,p},R.toNumber=function(){return+$(this)},R.toPrecision=function(e,t){return null!=e&&c(e,1,1e9),z(this,e,t,2)},R.toString=function(e){var t,i=this,r=i.s,n=i.e;return null===n?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=n<=_||n>=P?p(f(i.c),n):y(f(i.c),n,"0"):10===e&&M?t=y(f((i=F(new q(i),L+n+1,O)).c),i.e,"0"):(c(e,2,G.length,"Base"),t=v(y(f(i.c),n,"0"),10,e,r,!0)),r<0&&i.c[0]&&(t="-"+t)),t},R.valueOf=R.toJSON=function(){return $(this)},R._isBigNumber=!0,R[Symbol.toStringTag]="BigNumber",R[Symbol.for("nodejs.util.inspect.custom")]=R.valueOf,null!=t&&q.set(t),q}(),d=class{key;left=null;right=null;constructor(e){this.key=e}},x=class extends d{constructor(e){super(e)}},b=class{size=0;modificationCount=0;splayCount=0;splay(e){let t,i=this.root;if(null==i)return this.compare(e,e),-1;let r=null,n=null,s=null,l=null,o=i,h=this.compare;for(;;)if((t=h(o.key,e))>0){let i=o.left;if(null==i||(t=h(i.key,e))>0&&(o.left=i.right,i.right=o,null==(i=(o=i).left)))break;null==r?n=o:r.left=o,r=o,o=i}else if(t<0){let i=o.right;if(null==i||(t=h(i.key,e))<0&&(o.right=i.left,i.left=o,null==(i=(o=i).right)))break;null==s?l=o:s.right=o,s=o,o=i}else break;return null!=s&&(s.right=o.left,o.left=l),null!=r&&(r.left=o.right,o.right=n),this.root!==o&&(this.root=o,this.splayCount++),t}splayMin(e){let t=e,i=t.left;for(;null!=i;){let e=i;t.left=e.right,e.right=t,i=(t=e).left}return t}splayMax(e){let t=e,i=t.right;for(;null!=i;){let e=i;t.right=e.left,e.left=t,i=(t=e).right}return t}_delete(e){if(null==this.root||0!=this.splay(e))return null;let t=this.root,i=t,r=t.left;if(this.size--,null==r)this.root=t.right;else{let e=t.right;(t=this.splayMax(r)).right=e,this.root=t}return this.modificationCount++,i}addNewRoot(e,t){this.size++,this.modificationCount++;let i=this.root;if(null==i){this.root=e;return}t<0?(e.left=i,e.right=i.right,i.right=null):(e.right=i,e.left=i.left,i.left=null),this.root=e}_first(){let e=this.root;return null==e?null:(this.root=this.splayMin(e),this.root)}_last(){let e=this.root;return null==e?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&0==this.splay(e)}defaultCompare(){return(e,t)=>e<t?-1:+(e>t)}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},w=class e extends b{root=null;compare;validKey;constructor(e,t){super(),this.compare=e??this.defaultCompare(),this.validKey=t??(e=>null!=e&&void 0!=e)}delete(e){return!!this.validKey(e)&&null!=this._delete(e)}deleteAll(e){for(let t of e)this.delete(t)}forEach(e){let t,i=this[Symbol.iterator]();for(;!(t=i.next()).done;)e(t.value,t.value,this)}add(e){let t=this.splay(e);return 0!=t&&this.addNewRoot(new x(e),t),this}addAndReturn(e){let t=this.splay(e);return 0!=t&&this.addNewRoot(new x(e),t),this.root.key}addAll(e){for(let t of e)this.add(t)}isEmpty(){return null==this.root}isNotEmpty(){return null!=this.root}single(){if(0==this.size)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(0==this.size)throw"Bad state: No element";return this._first().key}last(){if(0==this.size)throw"Bad state: No element";return this._last().key}lastBefore(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(0>this.splay(e))return this.root.key;let t=this.root.left;if(null==t)return null;let i=t.right;for(;null!=i;)i=(t=i).right;return t.key}firstAfter(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(e)>0)return this.root.key;let t=this.root.right;if(null==t)return null;let i=t.left;for(;null!=i;)i=(t=i).left;return t.key}retainAll(t){let i=new e(this.compare,this.validKey),r=this.modificationCount;for(let e of t){if(r!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(e)&&0==this.splay(e)&&i.add(this.root.key)}i.size!=this.size&&(this.root=i.root,this.size=i.size,this.modificationCount++)}lookup(e){return this.validKey(e)&&0==this.splay(e)?this.root.key:null}intersection(t){let i=new e(this.compare,this.validKey);for(let e of this)t.has(e)&&i.add(e);return i}difference(t){let i=new e(this.compare,this.validKey);for(let e of this)t.has(e)||i.add(e);return i}union(e){let t=this.clone();return t.addAll(e),t}clone(){let t=new e(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(e){if(null==e)return null;let t=new x(e.key);return!function e(t,i){let r,n;do{if(r=t.left,n=t.right,null!=r){let t=new x(r.key);i.left=t,e(r,t)}if(null!=n){let e=new x(n.key);i.right=e,t=n,i=e}}while(null!=n)}(e,t),t}toSet(){return this.clone()}entries(){return new S(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new v(this.wrap())}[Symbol.toStringTag]="[object Set]"},E=class{tree;path=[];modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;null!=e;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(null==this.modificationCount){this.modificationCount=this.tree.getModificationCount();let e=this.tree.getRoot();for(;null!=e;)this.path.push(e),e=e.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],t=e.right;if(null!=t){for(;null!=t;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},v=class extends E{getValue(e){return e.key}},S=class extends E{getValue(e){return[e.key,e.key]}},R=e=>()=>e,T=e=>{let t=e?(t,i)=>i.minus(t).abs().isLessThanOrEqualTo(e):R(!1);return(e,i)=>t(e,i)?0:e.comparedTo(i)},L=e=>e,O=e=>{let t;return{set:e=>{_=O(e)},reset:()=>O(e),compare:T(e),snap:(e=>{if(e){let t=new w(T(e)),i=new w(T(e)),r=e=>{let r,n;return{x:(r=e.x,t.addAndReturn(r)),y:(n=e.y,i.addAndReturn(n))}};return r({x:new m(0),y:new m(0)}),r}return L})(e),orient:(t=e?(t,i,r,n,s)=>t.exponentiatedBy(2).isLessThanOrEqualTo(n.minus(i).exponentiatedBy(2).plus(s.minus(r).exponentiatedBy(2)).times(e)):R(!1),(e,i,r)=>{let n=e.x,s=e.y,l=r.x,o=r.y,h=s.minus(o).times(i.x.minus(l)).minus(n.minus(l).times(i.y.minus(o)));return t(h,n,s,l,o)?0:h.comparedTo(0)})}},_=O(),P=(e,t)=>e.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(e.ur.y),A=(e,t)=>{if(t.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(t.ll.y))return null;let i=e.ll.x.isLessThan(t.ll.x)?t.ll.x:e.ll.x,r=e.ur.x.isLessThan(t.ur.x)?e.ur.x:t.ur.x;return{ll:{x:i,y:e.ll.y.isLessThan(t.ll.y)?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y.isLessThan(t.ur.y)?e.ur.y:t.ur.y}}},N=(e,t)=>e.x.times(t.y).minus(e.y.times(t.x)),C=(e,t)=>e.x.times(t.x).plus(e.y.times(t.y)),k=e=>C(e,e).sqrt(),I=(e,t,i)=>t.y.isZero()?null:{x:e.x.plus(t.x.div(t.y).times(i.minus(e.y))),y:i},B=(e,t,i)=>t.x.isZero()?null:{x:i,y:e.y.plus(t.y.div(t.x).times(i.minus(e.x)))},G=class e{point;isLeft;segment;otherSE;consumedBy;static compare(t,i){let r=e.comparePoints(t.point,i.point);return 0!==r?r:(t.point!==i.point&&t.link(i),t.isLeft!==i.isLeft)?t.isLeft?1:-1:$.compare(t.segment,i.segment)}static comparePoints(e,t){return e.x.isLessThan(t.x)?-1:e.x.isGreaterThan(t.x)?1:e.y.isLessThan(t.y)?-1:+!!e.y.isGreaterThan(t.y)}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw Error("Tried to link already linked events");let t=e.point.events;for(let e=0,i=t.length;e<i;e++){let i=t[e];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}checkForConsuming(){let e=this.point.events.length;for(let t=0;t<e;t++){let i=this.point.events[t];if(void 0===i.segment.consumedBy)for(let r=t+1;r<e;r++){let e=this.point.events[r];void 0===e.consumedBy&&i.otherSE.point.events===e.otherSE.point.events&&i.segment.consume(e.segment)}}}getAvailableLinkedEvents(){let e=[];for(let t=0,i=this.point.events.length;t<i;t++){let i=this.point.events[t];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&e.push(i)}return e}getLeftmostComparator(e){let t=new Map,i=i=>{var r,n,s,l,o,h;let u,f,a,c,g=i.otherSE;t.set(i,{sine:(r=this.point,n=e.point,s=g.point,u={x:n.x.minus(r.x),y:n.y.minus(r.y)},N(f={x:s.x.minus(r.x),y:s.y.minus(r.y)},u).div(k(f)).div(k(u))),cosine:(l=this.point,o=e.point,h=g.point,a={x:o.x.minus(l.x),y:o.y.minus(l.y)},C(c={x:h.x.minus(l.x),y:h.y.minus(l.y)},a).div(k(c)).div(k(a)))})};return(e,r)=>{t.has(e)||i(e),t.has(r)||i(r);let{sine:n,cosine:s}=t.get(e),{sine:l,cosine:o}=t.get(r);return n.isGreaterThanOrEqualTo(0)&&l.isGreaterThanOrEqualTo(0)?s.isLessThan(o)?1:s.isGreaterThan(o)?-1:0:n.isLessThan(0)&&l.isLessThan(0)?s.isLessThan(o)?-1:+!!s.isGreaterThan(o):l.isLessThan(n)?-1:+!!l.isGreaterThan(n)}}},M=class e{events;poly;_isExteriorRing;_enclosingRing;static factory(t){let i=[];for(let r=0,n=t.length;r<n;r++){let n=t[r];if(!n.isInResult()||n.ringOut)continue;let s=null,l=n.leftSE,o=n.rightSE,h=[l],u=l.point,f=[];for(;s=l,l=o,h.push(l),l.point!==u;)for(;;){let t=l.getAvailableLinkedEvents();if(0===t.length){let e=h[0].point,t=h[h.length-1].point;throw Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(1===t.length){o=t[0].otherSE;break}let r=null;for(let e=0,t=f.length;e<t;e++)if(f[e].point===l.point){r=e;break}if(null!==r){let t=f.splice(r)[0],n=h.splice(t.index);n.unshift(n[0].otherSE),i.push(new e(n.reverse()));continue}f.push({index:h.length,point:l.point});let n=l.getLeftmostComparator(s);o=t.sort(n)[0].otherSE;break}i.push(new e(h))}return i}constructor(e){this.events=e;for(let t=0,i=e.length;t<i;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point,t=[e];for(let i=1,r=this.events.length-1;i<r;i++){let r=this.events[i].point,n=this.events[i+1].point;0!==_.orient(r,e,n)&&(t.push(r),e=r)}if(1===t.length)return null;let i=t[0],r=t[1];0===_.orient(i,e,r)&&t.shift(),t.push(t[0]);let n=this.isExteriorRing()?1:-1,s=this.isExteriorRing()?0:t.length-1,l=this.isExteriorRing()?t.length:-1,o=[];for(let e=s;e!=l;e+=n)o.push([t[e].x.toNumber(),t[e].y.toNumber()]);return o}isExteriorRing(){if(void 0===this._isExteriorRing){let e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,i=this.events.length;t<i;t++){let i=this.events[t];G.compare(e,i)>0&&(e=i)}let t=e.segment.prevInResult(),i=t?t.prevInResult():null;for(;;){if(!t)return null;if(!i)return t.ringOut;if(i.ringOut!==t.ringOut)if(i.ringOut?.enclosingRing()!==t.ringOut)return t.ringOut;else return t.ringOut?.enclosingRing();i=(t=i.prevInResult())?t.prevInResult():null}}},q=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){let e=this.exteriorRing.getGeom();if(null===e)return null;let t=[e];for(let e=0,i=this.interiorRings.length;e<i;e++){let i=this.interiorRings[e].getGeom();null!==i&&t.push(i)}return t}},z=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){let e=[];for(let t=0,i=this.polys.length;t<i;t++){let i=this.polys[t].getGeom();null!==i&&e.push(i)}return e}_composePolys(e){let t=[];for(let i=0,r=e.length;i<r;i++){let r=e[i];if(!r.poly)if(r.isExteriorRing())t.push(new q(r));else{let e=r.enclosingRing();e?.poly||t.push(new q(e)),e?.poly?.addInterior(r)}}return t}},D=class{queue;tree;segments;constructor(e,t=$.compare){this.queue=e,this.tree=new w(t),this.segments=[]}process(e){let t=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(t),i;e.isLeft&&this.tree.add(t);let r=t,n=t;do r=this.tree.lastBefore(r);while(null!=r&&void 0!=r.consumedBy)do n=this.tree.firstAfter(n);while(null!=n&&void 0!=n.consumedBy)if(e.isLeft){let s=null;if(r){let e=r.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(s=e),!r.isAnEndpoint(e))){let t=this._splitSafely(r,e);for(let e=0,r=t.length;e<r;e++)i.push(t[e])}}let l=null;if(n){let e=n.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(l=e),!n.isAnEndpoint(e))){let t=this._splitSafely(n,e);for(let e=0,r=t.length;e<r;e++)i.push(t[e])}}if(null!==s||null!==l){let e=null;e=null===s?l:null===l||0>=G.comparePoints(s,l)?s:l,this.queue.delete(t.rightSE),i.push(t.rightSE);let r=t.split(e);for(let e=0,t=r.length;e<t;e++)i.push(r[e])}i.length>0?(this.tree.delete(t),i.push(e)):(this.segments.push(t),t.prev=r)}else{if(r&&n){let e=r.getIntersection(n);if(null!==e){if(!r.isAnEndpoint(e)){let t=this._splitSafely(r,e);for(let e=0,r=t.length;e<r;e++)i.push(t[e])}if(!n.isAnEndpoint(e)){let t=this._splitSafely(n,e);for(let e=0,r=t.length;e<r;e++)i.push(t[e])}}}this.tree.delete(t)}return i}_splitSafely(e,t){this.tree.delete(e);let i=e.rightSE;this.queue.delete(i);let r=e.split(t);return r.push(i),void 0===e.consumedBy&&this.tree.add(e),r}},U=new class{type;numMultiPolys;run(e,t,i){U.type=e;let r=[new V(t,!0)];for(let e=0,t=i.length;e<t;e++)r.push(new V(i[e],!1));if(U.numMultiPolys=r.length,"difference"===U.type){let e=r[0],t=1;for(;t<r.length;)null!==A(r[t].bbox,e.bbox)?t++:r.splice(t,1)}if("intersection"===U.type)for(let e=0,t=r.length;e<t;e++){let t=r[e];for(let i=e+1,n=r.length;i<n;i++)if(null===A(t.bbox,r[i].bbox))return[]}let n=new w(G.compare);for(let e=0,t=r.length;e<t;e++){let t=r[e].getSweepEvents();for(let e=0,i=t.length;e<i;e++)n.add(t[e])}let s=new D(n),l=null;for(0!=n.size&&(l=n.first(),n.delete(l));l;){let e=s.process(l);for(let t=0,i=e.length;t<i;t++){let i=e[t];void 0===i.consumedBy&&n.add(i)}0!=n.size?(l=n.first(),n.delete(l)):l=null}return _.reset(),new z(M.factory(s.segments)).getGeom()}},F=0,$=class e{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(e,t){let i=e.leftSE.point.x,r=t.leftSE.point.x,n=e.rightSE.point.x,s=t.rightSE.point.x;if(s.isLessThan(i))return 1;if(n.isLessThan(r))return -1;let l=e.leftSE.point.y,o=t.leftSE.point.y,h=e.rightSE.point.y,u=t.rightSE.point.y;if(i.isLessThan(r)){if(o.isLessThan(l)&&o.isLessThan(h))return 1;if(o.isGreaterThan(l)&&o.isGreaterThan(h))return -1;let i=e.comparePoint(t.leftSE.point);if(i<0)return 1;if(i>0)return -1;let r=t.comparePoint(e.rightSE.point);return 0!==r?r:-1}if(i.isGreaterThan(r)){if(l.isLessThan(o)&&l.isLessThan(u))return -1;if(l.isGreaterThan(o)&&l.isGreaterThan(u))return 1;let i=t.comparePoint(e.leftSE.point);if(0!==i)return i;let r=e.comparePoint(t.rightSE.point);return r<0?1:r>0?-1:1}if(l.isLessThan(o))return -1;if(l.isGreaterThan(o))return 1;if(n.isLessThan(s)){let i=t.comparePoint(e.rightSE.point);if(0!==i)return i}if(n.isGreaterThan(s)){let i=e.comparePoint(t.rightSE.point);if(i<0)return 1;if(i>0)return -1}if(!n.eq(s)){let e=h.minus(l),t=n.minus(i),f=u.minus(o),a=s.minus(r);if(e.isGreaterThan(t)&&f.isLessThan(a))return 1;if(e.isLessThan(t)&&f.isGreaterThan(a))return -1}return n.isGreaterThan(s)?1:n.isLessThan(s)||h.isLessThan(u)?-1:h.isGreaterThan(u)?1:e.id<t.id?-1:+(e.id>t.id)}constructor(e,t,i,r){this.id=++F,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=i,this.windings=r}static fromRing(t,i,r){let n,s,l,o=G.comparePoints(t,i);if(o<0)n=t,s=i,l=1;else if(o>0)n=i,s=t,l=-1;else throw Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);return new e(new G(n,!0),new G(s,!1),[r],[l])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e.isLessThan(t)?e:t},ur:{x:this.rightSE.point.x,y:e.isGreaterThan(t)?e:t}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(e){return e.x.eq(this.leftSE.point.x)&&e.y.eq(this.leftSE.point.y)||e.x.eq(this.rightSE.point.x)&&e.y.eq(this.rightSE.point.y)}comparePoint(e){return _.orient(this.leftSE.point,e,this.rightSE.point)}getIntersection(e){let t=this.bbox(),i=e.bbox(),r=A(t,i);if(null===r)return null;let n=this.leftSE.point,s=this.rightSE.point,l=e.leftSE.point,o=e.rightSE.point,h=P(t,l)&&0===this.comparePoint(l),u=P(i,n)&&0===e.comparePoint(n),f=P(t,o)&&0===this.comparePoint(o),a=P(i,s)&&0===e.comparePoint(s);if(u&&h)return a&&!f?s:!a&&f?o:null;if(u)return f&&n.x.eq(o.x)&&n.y.eq(o.y)?null:n;if(h)return a&&s.x.eq(l.x)&&s.y.eq(l.y)?null:l;if(a&&f)return null;if(a)return s;if(f)return o;let c=((e,t,i,r)=>{if(t.x.isZero())return B(i,r,e.x);if(r.x.isZero())return B(e,t,i.x);if(t.y.isZero())return I(i,r,e.y);if(r.y.isZero())return I(e,t,i.y);let n=N(t,r);if(n.isZero())return null;let s={x:i.x.minus(e.x),y:i.y.minus(e.y)},l=N(s,t).div(n),o=N(s,r).div(n),h=e.x.plus(o.times(t.x)),u=i.x.plus(l.times(r.x)),f=e.y.plus(o.times(t.y)),a=i.y.plus(l.times(r.y));return{x:h.plus(u).div(2),y:f.plus(a).div(2)}})(n,this.vector(),l,e.vector());return null!==c&&P(r,c)?_.snap(c):null}split(t){let i=[],r=void 0!==t.events,n=new G(t,!0),s=new G(t,!1),l=this.rightSE;this.replaceRightSE(s),i.push(s),i.push(n);let o=new e(n,l,this.rings.slice(),this.windings.slice());return G.comparePoints(o.leftSE.point,o.rightSE.point)>0&&o.swapEvents(),G.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(n.checkForConsuming(),s.checkForConsuming()),i}swapEvents(){let e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(t){let i=this,r=t;for(;i.consumedBy;)i=i.consumedBy;for(;r.consumedBy;)r=r.consumedBy;let n=e.compare(i,r);if(0!==n){if(n>0){let e=i;i=r,r=e}if(i.prev===r){let e=i;i=r,r=e}for(let e=0,t=r.rings.length;e<t;e++){let t=r.rings[e],n=r.windings[e],s=i.rings.indexOf(t);-1===s?(i.rings.push(t),i.windings.push(n)):i.windings[s]+=n}r.rings=null,r.windings=null,r.consumedBy=i,r.leftSE.consumedBy=i.leftSE,r.rightSE.consumedBy=i.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){let e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;let e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};let t=this._afterState.rings,i=this._afterState.windings,r=this._afterState.multiPolys;for(let e=0,r=this.rings.length;e<r;e++){let r=this.rings[e],n=this.windings[e],s=t.indexOf(r);-1===s?(t.push(r),i.push(n)):i[s]+=n}let n=[],s=[];for(let e=0,r=t.length;e<r;e++){if(0===i[e])continue;let r=t[e],l=r.poly;if(-1===s.indexOf(l))if(r.isExterior)n.push(l);else{-1===s.indexOf(l)&&s.push(l);let e=n.indexOf(r.poly);-1!==e&&n.splice(e,1)}}for(let e=0,t=n.length;e<t;e++){let t=n[e].multiPoly;-1===r.indexOf(t)&&r.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;let e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(U.type){case"union":{let i=0===e.length,r=0===t.length;this._isInResult=i!==r;break}case"intersection":{let i,r;e.length<t.length?(i=e.length,r=t.length):(i=t.length,r=e.length),this._isInResult=r===U.numMultiPolys&&i<r;break}case"xor":{let i=Math.abs(e.length-t.length);this._isInResult=i%2==1;break}case"difference":{let i=e=>1===e.length&&e[0].isSubject;this._isInResult=i(e)!==i(t)}}return this._isInResult}},j=class{poly;isExterior;segments;bbox;constructor(e,t,i){if(!Array.isArray(e)||0===e.length||(this.poly=t,this.isExterior=i,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1]))throw Error("Input geometry is not a valid Polygon or MultiPolygon");let r=_.snap({x:new m(e[0][0]),y:new m(e[0][1])});this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let n=r;for(let t=1,i=e.length;t<i;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw Error("Input geometry is not a valid Polygon or MultiPolygon");let i=_.snap({x:new m(e[t][0]),y:new m(e[t][1])});i.x.eq(n.x)&&i.y.eq(n.y)||(this.segments.push($.fromRing(n,i,this)),i.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=i.x),i.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=i.y),i.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=i.x),i.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=i.y),n=i)}r.x.eq(n.x)&&r.y.eq(n.y)||this.segments.push($.fromRing(n,r,this))}getSweepEvents(){let e=[];for(let t=0,i=this.segments.length;t<i;t++){let i=this.segments[t];e.push(i.leftSE),e.push(i.rightSE)}return e}},K=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,t){if(!Array.isArray(e))throw Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new j(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,i=e.length;t<i;t++){let i=new j(e[t],this,!1);i.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=i.bbox.ur.y),this.interiorRings.push(i)}this.multiPoly=t}getSweepEvents(){let e=this.exteriorRing.getSweepEvents();for(let t=0,i=this.interiorRings.length;t<i;t++){let i=this.interiorRings[t].getSweepEvents();for(let t=0,r=i.length;t<r;t++)e.push(i[t])}return e}},V=class{isSubject;polys;bbox;constructor(e,t){if(!Array.isArray(e))throw Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(e){}this.polys=[],this.bbox={ll:{x:new m(1/0),y:new m(1/0)},ur:{x:new m(-1/0),y:new m(-1/0)}};for(let t=0,i=e.length;t<i;t++){let i=new K(e[t],this);i.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=i.bbox.ur.y),this.polys.push(i)}this.isSubject=t}getSweepEvents(){let e=[];for(let t=0,i=this.polys.length;t<i;t++){let i=this.polys[t].getSweepEvents();for(let t=0,r=i.length;t<r;t++)e.push(i[t])}return e}};_.set;var Z=i(54232);function H(e,t={}){let i=[];if(!function(e,t){var i,r,n,s,l,o,h,u,f,a,c=0,g="FeatureCollection"===e.type,p="Feature"===e.type,y=g?e.features.length:1;for(i=0;i<y;i++){for(n=0,o=g?e.features[i].geometry:p?e.geometry:e,u=g?e.features[i].properties:p?e.properties:{},f=g?e.features[i].bbox:p?e.bbox:void 0,a=g?e.features[i].id:p?e.id:void 0,l=(h=!!o&&"GeometryCollection"===o.type)?o.geometries.length:1;n<l;n++){if(null===(s=h?o.geometries[n]:o)){if(!1===t(null,c,u,f,a))return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(s,c,u,f,a))return!1;break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===t(s.geometries[r],c,u,f,a))return!1;break;default:throw Error("Unknown Geometry Type")}}c++}}(e,e=>{i.push(e.coordinates)}),i.length<2)throw Error("Must have at least 2 geometries");let r=((e,...t)=>U.run("union",e,t))(i[0],...i.slice(1));return 0===r.length?null:1===r.length?(0,Z.n1)(r[0],t.properties):(0,Z.g5)(r,t.properties)}}}]);