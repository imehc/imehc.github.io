"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["7720"],{63933(e,r,n){n.r(r),n.d(r,{metadata:()=>i,default:()=>u,frontMatter:()=>h,contentTitle:()=>m,toc:()=>v,assets:()=>x});var i=JSON.parse('{"id":"web/cesium/basic/01","title":"\u5E95\u56FE","description":"\u672C\u793A\u4F8B\u5C55\u793A\u5982\u4F55\u5728 Cesium \u4E2D\u52A0\u8F7D\u548C\u5207\u6362\u591A\u79CD\u5F71\u50CF\u5E95\u56FE\u670D\u52A1,\u5305\u62EC\u9AD8\u5FB7\u5730\u56FE\u3001\u5355\u5F20\u56FE\u7247\u3001XYZ \u74E6\u7247\u3001WMS\u3001WMTS \u7B49\u591A\u79CD\u5E95\u56FE\u670D\u52A1\u7C7B\u578B,\u5E76\u901A\u8FC7 GUI \u63A7\u5236\u9762\u677F\u5B9E\u73B0\u5E95\u56FE\u7684\u52A8\u6001\u5207\u6362\u3002","source":"@site/docs/web/cesium/basic/01.mdx","sourceDirName":"web/cesium/basic","slug":"/web/cesium/basic/01","permalink":"/web/cesium/basic/01","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Javascript","permalink":"/tags/javascript"}],"version":"current","lastUpdatedBy":"imehc","lastUpdatedAt":1768360202000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"\u5E95\u56FE","tags":["Javascript"]},"sidebar":"webSidebar","previous":{"title":"\u661F\u7A7A\u7C92\u5B50","permalink":"/web/canvas/particle-stars"},"next":{"title":"3D Tiles","permalink":"/web/cesium/basic/02"}}'),s=n(35656),a=n(75395),l=n(57140),t=n(82044);function d(){let e=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let r,i,s=e.current;if(s)return Promise.all([n.e("4014"),n.e("4803"),n.e("8897"),n.e("8375"),n.e("2708"),n.e("5766"),n.e("2905"),n.e("4209")]).then(n.bind(n,97064)).then(({initViewer:e})=>{let n=e(s);r=n.viewer,i=n.gui}),()=>{r&&!r.isDestroyed()&&r.destroy(),i&&i.destroy()}},[]),(0,s.jsx)(t.A,{children:(0,s.jsx)("div",{className:"tw:size-full",ref:e})})}var c=n(8528),o=n(79457);let h={sidebar_position:1,title:"\u5E95\u56FE",tags:["Javascript"]},m="\u5E95\u56FE",x={},v=[{value:"\u6838\u5FC3\u529F\u80FD",id:"\u6838\u5FC3\u529F\u80FD",level:2},{value:"\u591A\u79CD\u5E95\u56FE\u52A0\u8F7D\u65B9\u5F0F",id:"\u591A\u79CD\u5E95\u56FE\u52A0\u8F7D\u65B9\u5F0F",level:3},{value:"\u5E95\u56FE\u52A8\u6001\u5207\u6362",id:"\u5E95\u56FE\u52A8\u6001\u5207\u6362",level:3},{value:"\u56FE\u5C42\u5C5E\u6027\u8C03\u6574",id:"\u56FE\u5C42\u5C5E\u6027\u8C03\u6574",level:3},{value:"\u56FE\u5C42\u987A\u5E8F\u7BA1\u7406",id:"\u56FE\u5C42\u987A\u5E8F\u7BA1\u7406",level:3},{value:"\u5173\u952E\u4EE3\u7801",id:"\u5173\u952E\u4EE3\u7801",level:2},{value:"\u521D\u59CB\u5316 Viewer",id:"\u521D\u59CB\u5316-viewer",level:3},{value:"\u9AD8\u5FB7\u5730\u56FE\u670D\u52A1",id:"\u9AD8\u5FB7\u5730\u56FE\u670D\u52A1",level:3},{value:"XYZ \u74E6\u7247\u670D\u52A1",id:"xyz-\u74E6\u7247\u670D\u52A1",level:3},{value:"WMS \u670D\u52A1",id:"wms-\u670D\u52A1",level:3},{value:"WMTS \u670D\u52A1(\u5929\u5730\u56FE)",id:"wmts-\u670D\u52A1\u5929\u5730\u56FE",level:3},{value:"\u5E94\u7528\u573A\u666F",id:"\u5E94\u7528\u573A\u666F",level:2},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:2},{value:"\u53C2\u8003\u8D44\u6599",id:"\u53C2\u8003\u8D44\u6599",level:2}];function j(e){let r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"\u5E95\u56FE",children:"\u5E95\u56FE"})}),"\n",(0,s.jsx)(r.p,{children:"\u672C\u793A\u4F8B\u5C55\u793A\u5982\u4F55\u5728 Cesium \u4E2D\u52A0\u8F7D\u548C\u5207\u6362\u591A\u79CD\u5F71\u50CF\u5E95\u56FE\u670D\u52A1,\u5305\u62EC\u9AD8\u5FB7\u5730\u56FE\u3001\u5355\u5F20\u56FE\u7247\u3001XYZ \u74E6\u7247\u3001WMS\u3001WMTS \u7B49\u591A\u79CD\u5E95\u56FE\u670D\u52A1\u7C7B\u578B,\u5E76\u901A\u8FC7 GUI \u63A7\u5236\u9762\u677F\u5B9E\u73B0\u5E95\u56FE\u7684\u52A8\u6001\u5207\u6362\u3002"}),"\n",(0,s.jsx)(c.A,{fallback:(0,s.jsx)(o.A,{}),children:()=>(0,s.jsx)(d,{})}),"\n",(0,s.jsx)(r.h2,{id:"\u6838\u5FC3\u529F\u80FD",children:"\u6838\u5FC3\u529F\u80FD"}),"\n",(0,s.jsx)(r.h3,{id:"\u591A\u79CD\u5E95\u56FE\u52A0\u8F7D\u65B9\u5F0F",children:"\u591A\u79CD\u5E95\u56FE\u52A0\u8F7D\u65B9\u5F0F"}),"\n",(0,s.jsx)(r.p,{children:"\u793A\u4F8B\u5B9E\u73B0\u4E86\u4EE5\u4E0B\u51E0\u79CD\u5E95\u56FE\u52A0\u8F7D\u65B9\u5F0F:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"SingleTileImageryProvider"}),":\u52A0\u8F7D\u5355\u5F20\u56FE\u7247\u4F5C\u4E3A\u5E95\u56FE"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"AMapImageryProvider"}),":\u52A0\u8F7D\u9AD8\u5FB7\u5730\u56FE\u5E95\u56FE\u670D\u52A1(\u652F\u6301\u5F71\u50CF\u3001\u7535\u5B50\u5730\u56FE\u7B49)"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"UrlTemplateImageryProvider"}),":\u901A\u8FC7 URL \u6A21\u677F\u52A0\u8F7D XYZ \u74E6\u7247\u670D\u52A1(\u652F\u6301 Mars3D\u3001Mapbox \u7B49)"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"WebMapServiceImageryProvider"}),":\u52A0\u8F7D WMS \u670D\u52A1"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"WebMapTileServiceImageryProvider"}),":\u52A0\u8F7D WMTS \u670D\u52A1(\u5982\u5929\u5730\u56FE)"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"\u5E95\u56FE\u52A8\u6001\u5207\u6362",children:"\u5E95\u56FE\u52A8\u6001\u5207\u6362"}),"\n",(0,s.jsx)(r.p,{children:"\u4F7F\u7528 dat.gui \u521B\u5EFA\u4EA4\u4E92\u5F0F\u63A7\u5236\u9762\u677F,\u652F\u6301\u5728\u591A\u79CD\u5E95\u56FE\u7C7B\u578B\u4E4B\u95F4\u65E0\u7F1D\u5207\u6362:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'gui\n  .add(imageryOptions, "\u5E95\u56FE\u7C7B\u578B", Object.keys(imageryTypes))\n  .onChange((value) => {\n    viewer.imageryLayers.removeAll();\n    // \u6839\u636E\u9009\u62E9\u52A0\u8F7D\u5BF9\u5E94\u7684\u5E95\u56FE\n  });\n'})}),"\n",(0,s.jsx)(r.h3,{id:"\u56FE\u5C42\u5C5E\u6027\u8C03\u6574",children:"\u56FE\u5C42\u5C5E\u6027\u8C03\u6574"}),"\n",(0,s.jsx)(r.p,{children:"\u793A\u4F8B\u5C55\u793A\u4E86\u5982\u4F55\u8C03\u6574\u56FE\u5C42\u7684\u663E\u793A\u5C5E\u6027:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"const layer = viewer.imageryLayers.addImageryProvider(imageryProvider);\nlayer.alpha = 0.5;        // \u900F\u660E\u5EA6\nlayer.brightness = 2.0;   // \u4EAE\u5EA6\nlayer.contrast = 2.0;     // \u5BF9\u6BD4\u5EA6\nlayer.hue = 2.0;          // \u8272\u8C03\nlayer.saturation = 2.0;   // \u9971\u548C\u5EA6\n"})}),"\n",(0,s.jsx)(r.h3,{id:"\u56FE\u5C42\u987A\u5E8F\u7BA1\u7406",children:"\u56FE\u5C42\u987A\u5E8F\u7BA1\u7406"}),"\n",(0,s.jsx)(r.p,{children:"\u652F\u6301\u5BF9\u56FE\u5C42\u8FDB\u884C\u987A\u5E8F\u8C03\u6574:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"viewer.scene.imageryLayers.lower(layer);        // \u4E0B\u79FB\u4E00\u5C42\nviewer.scene.imageryLayers.lowerToBottom(layer); // \u79FB\u5230\u6700\u5E95\u5C42\nviewer.scene.imageryLayers.raise(layer);         // \u4E0A\u79FB\u4E00\u5C42\nviewer.scene.imageryLayers.raiseToTop(layer);    // \u79FB\u5230\u6700\u9876\u5C42\n"})}),"\n",(0,s.jsx)(r.h2,{id:"\u5173\u952E\u4EE3\u7801",children:"\u5173\u952E\u4EE3\u7801"}),"\n",(0,s.jsx)(r.h3,{id:"\u521D\u59CB\u5316-viewer",children:"\u521D\u59CB\u5316 Viewer"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:"const viewer = new Viewer(el, {\n  baseLayerPicker: false,\n  animation: false,\n  timeline: false,\n  fullscreenButton: false,\n  geocoder: false,\n  homeButton: false,\n  infoBox: false,\n  sceneModePicker: false,\n  selectionIndicator: false,\n  navigationHelpButton: false,\n});\n\n// \u79FB\u9664\u9ED8\u8BA4\u5F71\u50CF\u548C\u5730\u5F62\nviewer.imageryLayers.remove(viewer.imageryLayers.get(0));\nviewer.scene.terrainProvider = new EllipsoidTerrainProvider({});\n"})}),"\n",(0,s.jsx)(r.h3,{id:"\u9AD8\u5FB7\u5730\u56FE\u670D\u52A1",children:"\u9AD8\u5FB7\u5730\u56FE\u670D\u52A1"}),"\n",(0,s.jsxs)(r.p,{children:["\u4F7F\u7528 ",(0,s.jsx)(r.code,{children:"@cesium-china/cesium-map"})," \u5305\u63D0\u4F9B\u7684 AMapImageryProvider:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'import { AMapImageryProvider } from "@cesium-china/cesium-map";\n\nconst options = {\n  style: "img",  // \u6837\u5F0F: img(\u5F71\u50CF)\u3001elec(\u7535\u5B50\u5730\u56FE)\u3001cva(\u4E2D\u6587\u6CE8\u8BB0)\n  crs: "WGS84",  // \u5750\u6807\u7CFB: WGS84 \u6216 GCJ02(\u9ED8\u8BA4)\n};\nconst provider = new AMapImageryProvider(options);\nviewer.imageryLayers.addImageryProvider(provider);\n'})}),"\n",(0,s.jsx)(r.h3,{id:"xyz-\u74E6\u7247\u670D\u52A1",children:"XYZ \u74E6\u7247\u670D\u52A1"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'const provider = new UrlTemplateImageryProvider({\n  url: "//data.mars3d.cn/tile/img/{z}/{x}/{y}.jpg",\n});\nviewer.imageryLayers.addImageryProvider(provider);\n'})}),"\n",(0,s.jsx)(r.h3,{id:"wms-\u670D\u52A1",children:"WMS \u670D\u52A1"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'const provider = new WebMapServiceImageryProvider({\n  url: "https://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi?",\n  layers: "nexrad-n0r",\n  parameters: {\n    transparent: "true",\n    format: "image/png",\n  },\n});\nviewer.imageryLayers.addImageryProvider(provider);\n'})}),"\n",(0,s.jsx)(r.h3,{id:"wmts-\u670D\u52A1\u5929\u5730\u56FE",children:"WMTS \u670D\u52A1(\u5929\u5730\u56FE)"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-tsx",children:'const token = "your_tianditu_token";\nconst provider = new WebMapTileServiceImageryProvider({\n  url: `http://t{s}.tianditu.gov.cn/vec_c/wmts?tk=${token}`,\n  layer: "vec",\n  style: "default",\n  format: "tiles",\n  tileMatrixSetID: "c",\n  subdomains: ["0", "1", "2", "3", "4", "5", "6", "7"],\n  tilingScheme: new GeographicTilingScheme(),\n  maximumLevel: 18,\n});\nviewer.imageryLayers.addImageryProvider(provider);\n'})}),"\n",(0,s.jsx)(r.h2,{id:"\u5E94\u7528\u573A\u666F",children:"\u5E94\u7528\u573A\u666F"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u5730\u56FE\u5E94\u7528"}),":\u63D0\u4F9B\u591A\u79CD\u5E95\u56FE\u9009\u9879,\u6EE1\u8DB3\u4E0D\u540C\u4E1A\u52A1\u9700\u6C42"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u6570\u636E\u53EF\u89C6\u5316"}),":\u5728\u4E0D\u540C\u5E95\u56FE\u4E0A\u5C55\u793A\u4E1A\u52A1\u6570\u636E"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u79BB\u7EBF\u5E94\u7528"}),":\u4F7F\u7528\u672C\u5730\u56FE\u7247\u4F5C\u4E3A\u5E95\u56FE"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u591A\u6E90\u6570\u636E\u878D\u5408"}),":\u53E0\u52A0\u591A\u4E2A\u5F71\u50CF\u56FE\u5C42\u8FDB\u884C\u5BF9\u6BD4\u5206\u6790"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u8D44\u6E90\u6E05\u7406"}),":\u5207\u6362\u5E95\u56FE\u524D\u8BB0\u5F97\u4F7F\u7528 ",(0,s.jsx)(r.code,{children:"removeAll()"})," \u6E05\u9664\u73B0\u6709\u56FE\u5C42,\u907F\u514D\u5185\u5B58\u6CC4\u6F0F"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u8DE8\u57DF\u95EE\u9898"}),":\u4F7F\u7528\u5916\u90E8\u5E95\u56FE\u670D\u52A1\u65F6\u9700\u8981\u6CE8\u610F CORS \u914D\u7F6E"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Token \u7BA1\u7406"}),":\u5929\u5730\u56FE\u7B49\u670D\u52A1\u9700\u8981\u7533\u8BF7 Token,\u6CE8\u610F\u4FDD\u62A4\u548C\u66F4\u65B0"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u6027\u80FD\u4F18\u5316"}),":\u5927\u91CF\u56FE\u5C42\u53E0\u52A0\u4F1A\u5F71\u54CD\u6E32\u67D3\u6027\u80FD,\u6309\u9700\u52A0\u8F7D"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u5750\u6807\u7CFB\u7EDF"}),":\u6CE8\u610F\u4E0D\u540C\u5E95\u56FE\u670D\u52A1\u7684\u5750\u6807\u7CFB(WebMercator vs Geographic)","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\u9AD8\u5FB7\u5730\u56FE\u9ED8\u8BA4\u4F7F\u7528 GCJ02 \u5750\u6807\u7CFB(\u706B\u661F\u5750\u6807\u7CFB),\u5982\u9700\u4F7F\u7528 WGS84 \u5750\u6807\u7CFB\u9700\u8981\u663E\u5F0F\u6307\u5B9A ",(0,s.jsx)(r.code,{children:'crs: "WGS84"'})]}),"\n",(0,s.jsx)(r.li,{children:"\u5929\u5730\u56FE\u3001OpenStreetMap \u7B49\u4F7F\u7528 WGS84 \u5750\u6807\u7CFB"}),"\n",(0,s.jsx)(r.li,{children:"\u4F7F\u7528\u4E0D\u540C\u5750\u6807\u7CFB\u7684\u5E95\u56FE\u65F6\u53EF\u80FD\u51FA\u73B0\u4F4D\u7F6E\u504F\u79FB,\u9700\u8981\u8FDB\u884C\u5750\u6807\u8F6C\u6362"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"\u7EC4\u4EF6\u6E05\u7406"}),":\u9875\u9762\u5378\u8F7D\u65F6\u8BB0\u5F97\u9500\u6BC1 Viewer \u548C GUI \u5B9E\u4F8B"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://cesium.com/learn/cesiumjs/ref-doc/ImageryLayer.html",children:"Cesium ImageryLayer \u5B98\u65B9\u6587\u6863"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/CesiumChina/cesium-map",children:"@cesium-china/cesium-map - \u9AD8\u5FB7\u5730\u56FE\u96C6\u6210\u5305"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://lbs.amap.com/api/javascript-api-v2/summary",children:"\u9AD8\u5FB7\u5730\u56FE JavaScript API"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://lbs.tianditu.gov.cn/server/guide.html",children:"\u5929\u5730\u56FE API \u6587\u6863"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/dataarts/dat.gui",children:"dat.GUI \u4F7F\u7528\u6307\u5357"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/jiawanlong/Cesium-Examples",children:"Cesium Examples"})}),"\n"]})]})}function u(e={}){let{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}},8528(e,r,n){n.d(r,{A:()=>a});var i=n(35656);n(57140);var s=n(80517);function a({children:e,fallback:r}){return(0,s.A)()?(0,i.jsx)(i.Fragment,{children:e?.()}):r??null}},79457(e,r,n){n.d(r,{A:()=>s});var i=n(35656);function s({loadText:e="Loading..."}){return(0,i.jsxs)("div",{className:"tw:absolute tw:left-1/2 tw:top-1/2 tw:-translate-1/2",children:[(0,i.jsxs)("div",{className:"tw:flex tw:flex-col tw:items-center tw:justify-center",children:[(0,i.jsxs)("div",{className:"tw:relative tw:w-20 tw:h-20 tw:mb-6",children:[(0,i.jsx)("div",{className:"tw:absolute tw:inset-0 tw:border-4 tw:border-primary tw:border-t-transparent tw:rounded-full tw:animate-spin"}),(0,i.jsx)("div",{className:"tw:absolute tw:inset-2 tw:border-4 tw:border-secondary tw:border-b-transparent tw:rounded-full animate-spin-reverse"})]}),(0,i.jsx)("div",{className:"tw:text-base-content tw:text-opacity-80 tw:text-sm tw:mb-1",children:e})]}),(0,i.jsx)("style",{children:`
					@keyframes spin-reverse {
						from {
							transform: rotate(360deg);
						}
						to {
							transform: rotate(0deg);
						}
					}
					.animate-spin-reverse {
						animation: spin-reverse 1.5s linear infinite;
					}
				`})]})}}}]);