"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["3153"],{95725(e,t,r){r.r(t),r.d(t,{metadata:()=>n,default:()=>M,frontMatter:()=>f,contentTitle:()=>w,toc:()=>k,assets:()=>P});var n=JSON.parse('{"id":"web/three/advanced/smooth-transition","title":"\u5E73\u6ED1\u8FC7\u6E21","description":"\u6838\u5FC3\u6982\u5FF5","source":"@site/docs/web/three/advanced/10-smooth-transition.mdx","sourceDirName":"web/three/advanced","slug":"/web/three/advanced/smooth-transition","permalink":"/web/three/advanced/smooth-transition","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Javascript","permalink":"/tags/javascript"}],"version":"current","lastUpdatedBy":"imehc","lastUpdatedAt":1768208466000,"sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"\u5E73\u6ED1\u8FC7\u6E21","tags":["Javascript"]},"sidebar":"webSidebar","previous":{"title":"\u9F20\u6807\u6ED1\u52A8","permalink":"/web/three/advanced/mouse-slide"},"next":{"title":"Squircle","permalink":"/web/three/advanced/squircle"}}'),i=r(35656),s=r(75395),o=r(1340),a=r(6124),l=r(60140),c=r(82044),u=r(24809),d=r(69261),h=r(57140),m=r(67199);let p=(0,r(25071).v)(e=>({to:new m.Pq0(0,1,10),orbitmode:!1,setOrbitmode:t=>e({orbitmode:t}),autoRotate:!1,setAutoRotate:t=>e({autoRotate:t})})),x=({geometry:e,material:t,position:r})=>{let[n,s]=(0,h.useState)(!1),{setOrbitmode:o,setAutoRotate:a,to:l}=p(e=>e);return(0,i.jsx)(d.l6,{enabled:n,children:(0,i.jsx)("mesh",{onPointerOver:e=>{e.stopPropagation(),s(!0)},onPointerOut:()=>s(!1),onClick:e=>{e.stopPropagation(),l.set(...r),o(!0),setTimeout(()=>a(!0),1e3)},geometry:e,material:t,position:r})})},j=()=>{let{nodes:e,materials:t}=(0,u.p)("https://cdn.jsdelivr.net/gh/Sean-Bradley/React-Three-Fiber-Boilerplate@teleport/public/models/scene-transformed.glb");return(0,i.jsxs)("group",{dispose:null,children:[(0,i.jsx)("mesh",{geometry:e.Plane.geometry,material:e.Plane.material,scale:[10,1,10]}),(0,i.jsxs)(d.LN,{children:[(0,i.jsx)(d.s0,{multisampling:8,autoClear:!1,children:(0,i.jsx)(d.Rc,{blur:!0,edgeStrength:100,width:1e3})}),(0,i.jsx)(x,{geometry:e.Cube.geometry,material:t.Material,position:[8,1,8]}),(0,i.jsx)(x,{geometry:e.Cylinder.geometry,material:e.Cylinder.material,position:[8,1,-8]}),(0,i.jsx)(x,{geometry:e.Icosphere.geometry,material:e.Icosphere.material,position:[-8,1,-8]}),(0,i.jsx)(x,{geometry:e.Cone.geometry,material:e.Cone.material,position:[-8,1,8]}),(0,i.jsx)(x,{geometry:e.Suzanne.geometry,material:e.Suzanne.material,position:[0,1,0]})]})]})};var g=r(94854),b=r(45225);let v=()=>{let e=(0,h.useRef)(null),t=(0,h.useRef)(null),r=(0,h.useRef)(null),n=(0,h.useRef)(null),s=(0,h.useRef)(null),o=(0,h.useRef)(0),a=(0,h.useMemo)(()=>new m.I9Y,[]),{orbitmode:l,setOrbitmode:c,autoRotate:u,setAutoRotate:d,to:x}=p(e=>e);return(0,h.useEffect)(()=>{let r=r=>{a.set(r.movementX,r.movementY),!t.current||e.current&&r.buttons&&(l?(d(!1),t.current.rotation.x-=r.movementY/1e3,e.current.rotation.y-=a.x/5*Math.PI/180):(t.current.rotation.x+=a.y/10*Math.PI/180,e.current.rotation.y+=a.x/10*Math.PI/180))};return document.addEventListener("pointermove",r),()=>{document.removeEventListener("pointermove",r)}}),(0,b.D)((t,n)=>{r.current&&e.current&&(l?(r.current.position.z=m.cj9.lerp(r.current.position.z,4,2*n),u&&(e.current.rotation.y+=n/2)):r.current.position.z=m.cj9.lerp(r.current.position.z,0,2*n),s.current&&(e.current.position.lerp(x,2*n),s.current.material.opacity>.02?s.current.material.opacity-=.5*n:s.current.visible=!1))}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("group",{ref:e,children:(0,i.jsx)("group",{ref:t,children:(0,i.jsx)("group",{ref:r,children:(0,i.jsx)(g.u,{makeDefault:!0})})})}),(0,i.jsx)("mesh",{visible:!1,"rotation-x":-Math.PI/2,position:[0,0,0],onPointerMove:({point:e})=>{n.current&&(n.current.position.z=e.z,n.current.position.x=e.x)},onPointerDown:()=>{o.current=Date.now()},onPointerUp:({point:e})=>{Date.now()-o.current<200&&(c(!1),x.set(e.x,1,e.z),s.current&&n.current&&(s.current.position.copy(n.current.position),s.current.material.opacity=.99,s.current.visible=!0))},children:(0,i.jsx)("planeGeometry",{args:[19.4,19.4]})}),(0,i.jsxs)("mesh",{ref:n,"rotation-x":-Math.PI/2,"position-y":.011,children:[(0,i.jsx)("ringGeometry",{args:[.3,.4]}),(0,i.jsx)("meshBasicMaterial",{color:0,transparent:!0,opacity:.25})]}),(0,i.jsxs)("mesh",{ref:s,"rotation-x":-Math.PI/2,"position-y":.01,children:[(0,i.jsx)("ringGeometry",{args:[0,.3]}),(0,i.jsx)("meshBasicMaterial",{color:0,transparent:!0})]})]})},y=()=>(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(l.Hl,{children:[(0,i.jsx)(v,{}),(0,i.jsx)(o.OH,{files:"https://cdn.jsdelivr.net/gh/Sean-Bradley/React-Three-Fiber-Boilerplate@teleport/public/img/rustig_koppie_puresky_1k.hdr",background:!0}),(0,i.jsx)(j,{}),(0,i.jsx)(a.U,{})]}),(0,i.jsxs)("div",{className:"absolute left-2 top-2",children:["Click the floor slide to the circle.",(0,i.jsx)("br",{}),"Click a model to orbit around it."]})]}),f={sidebar_position:10,title:"\u5E73\u6ED1\u8FC7\u6E21",tags:["Javascript"]},w="\u5E73\u6ED1\u8FC7\u6E21",P={},k=[{value:"\u6838\u5FC3\u6982\u5FF5",id:"\u6838\u5FC3\u6982\u5FF5",level:2}];function R(e){let t={h1:"h1",h2:"h2",header:"header",li:"li",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"\u5E73\u6ED1\u8FC7\u6E21",children:"\u5E73\u6ED1\u8FC7\u6E21"})}),"\n",(0,i.jsx)(y,{}),"\n",(0,i.jsx)(t.h2,{id:"\u6838\u5FC3\u6982\u5FF5",children:"\u6838\u5FC3\u6982\u5FF5"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"\u76F8\u673A\u4F20\u9001"}),": \u5E73\u6ED1\u79FB\u52A8\u76F8\u673A\u5230\u76EE\u6807\u4F4D\u7F6E"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"\u73AF\u7ED5\u6A21\u5F0F"}),": \u56F4\u7ED5\u9009\u4E2D\u7269\u4F53\u65CB\u8F6C"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"\u72B6\u6001\u7BA1\u7406"}),": \u4F7F\u7528 Zustand \u7BA1\u7406\u76F8\u673A\u72B6\u6001"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"\u540E\u5904\u7406\u6548\u679C"}),": \u9009\u4E2D\u7269\u4F53\u65F6\u7684\u8F6E\u5ED3\u9AD8\u4EAE"]}),"\n"]})]})}function M(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(R,{...e})}):R(e)}}}]);