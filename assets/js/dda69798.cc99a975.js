"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["7726"],{46300(e,t,n){n.r(t),n.d(t,{metadata:()=>r,default:()=>v,frontMatter:()=>f,contentTitle:()=>m,toc:()=>b,assets:()=>x});var r=JSON.parse('{"id":"web/three/advanced/neural-network","title":"\u795E\u7ECF\u7F51\u7EDC","description":"\u6838\u5FC3\u6982\u5FF5","source":"@site/docs/web/three/advanced/13-neural-network.mdx","sourceDirName":"web/three/advanced","slug":"/web/three/advanced/neural-network","permalink":"/web/three/advanced/neural-network","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Javascript","permalink":"/tags/javascript"}],"version":"current","lastUpdatedBy":"dependabot[bot]","lastUpdatedAt":1769646500000,"sidebarPosition":13,"frontMatter":{"sidebar_position":13,"title":"\u795E\u7ECF\u7F51\u7EDC","tags":["Javascript"]},"sidebar":"webSidebar","previous":{"title":"\u7269\u6599\u62FE\u53D6","permalink":"/web/three/advanced/material-picking"},"next":{"title":"\u5730\u7403 Map","permalink":"/web/three/advanced/earth-map"}}'),i=n(35656),a=n(86145),s=n(74915),l=n(46571),o=n(82044),c=n(54600),d=n(57140),u=n(67199);function h(){let e=(0,d.useRef)(null),t=(0,d.useRef)(null),n=(0,d.useRef)(null),r=0,a=0,s=0,l=(0,d.useMemo)(()=>new Float32Array(3e6),[1e6]),o=(0,d.useMemo)(()=>new Float32Array(3e6),[1e6]),h=(0,d.useMemo)(()=>new Float32Array(3e3),[]),p=(0,d.useMemo)(()=>[],[]),f=(0,d.useMemo)(()=>new u.Pq0,[]);return(0,d.useEffect)(()=>{for(let e=0;e<1e3;e++){let t=10*Math.random()-5,n=10*Math.random()-5,r=10*Math.random()-5;h[3*e]=t,h[3*e+1]=n,h[3*e+2]=r;let i=new u.Pq0(-1+2*Math.random(),-1+2*Math.random(),-1+2*Math.random());p.push({velocity:i.normalize().divideScalar(50),numConnections:0})}t.current&&t.current.setDrawRange(0,500)}),(0,c.D)((i,c)=>{r=0,a=0,s=0;for(let e=0;e<500;e++)p[e].numConnections=0;for(let e=0;e<500;e++){let t=p[e];if(f.set(h[3*e],h[3*e+1],h[3*e+2]).add(t.velocity).setLength(10),h[3*e]=f.x,h[3*e+1]=f.y,h[3*e+2]=f.z,(h[3*e+1]<-5||h[3*e+1]>5)&&(t.velocity.y=-t.velocity.y),(h[3*e]<-5||h[3*e]>5)&&(t.velocity.x=-t.velocity.x),(h[3*e+2]<-5||h[3*e+2]>5)&&(t.velocity.z=-t.velocity.z),!(t.numConnections>=20))for(let n=e+1;n<500;n++){let i=p[n];if(i.numConnections>=20)continue;let c=h[3*e]-h[3*n],d=h[3*e+1]-h[3*n+1],u=h[3*e+2]-h[3*n+2],f=Math.sqrt(c*c+d*d+u*u);if(f<2.5){t.numConnections++,i.numConnections++;let c=1-f/2.5;l[r++]=h[3*e],l[r++]=h[3*e+1],l[r++]=h[3*e+2],l[r++]=h[3*n],l[r++]=h[3*n+1],l[r++]=h[3*n+2],o[a++]=c,o[a++]=c,o[a++]=c,o[a++]=c,o[a++]=c,o[a++]=c,s++}}}n.current&&t.current&&e.current&&(n.current.setDrawRange(0,2*s),n.current.attributes.position.needsUpdate=!0,n.current.attributes.color.needsUpdate=!0,t.current.attributes.position.needsUpdate=!0,e.current.rotation.y+=c/5)}),(0,i.jsxs)("group",{ref:e,dispose:null,children:[(0,i.jsxs)("points",{children:[(0,i.jsx)("bufferGeometry",{ref:t,children:(0,i.jsx)("bufferAttribute",{attach:"attributes-position",count:500,array:h,itemSize:3})}),(0,i.jsx)("pointsMaterial",{color:"white",size:3,blending:u.EZo,transparent:!0,sizeAttenuation:!1})]}),(0,i.jsxs)("lineSegments",{children:[(0,i.jsxs)("bufferGeometry",{ref:n,children:[(0,i.jsx)("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3}),(0,i.jsx)("bufferAttribute",{attach:"attributes-color",count:o.length/3,array:o,itemSize:3})]}),(0,i.jsx)("lineBasicMaterial",{vertexColors:!0,blending:u.EZo,transparent:!0})]})]})}let p=()=>(0,i.jsx)(o.A,{children:(0,i.jsxs)(l.Hl,{camera:{position:[0,0,20]},children:[(0,i.jsx)(h,{}),(0,i.jsx)(s.N,{})]})}),f={sidebar_position:13,title:"\u795E\u7ECF\u7F51\u7EDC",tags:["Javascript"]},m="\u795E\u7ECF\u7F51\u7EDC",x={},b=[{value:"\u6838\u5FC3\u6982\u5FF5",id:"\u6838\u5FC3\u6982\u5FF5",level:2}];function j(e){let t={h1:"h1",h2:"h2",header:"header",li:"li",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"\u795E\u7ECF\u7F51\u7EDC",children:"\u795E\u7ECF\u7F51\u7EDC"})}),"\n",(0,i.jsx)(p,{}),"\n",(0,i.jsx)(t.h2,{id:"\u6838\u5FC3\u6982\u5FF5",children:"\u6838\u5FC3\u6982\u5FF5"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"\u7C92\u5B50\u7CFB\u7EDF"}),": \u4F7F\u7528 points \u6E32\u67D3\u5927\u91CF\u7C92\u5B50"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"\u52A8\u6001\u8FDE\u63A5"}),": \u57FA\u4E8E\u8DDD\u79BB\u81EA\u52A8\u521B\u5EFA\u8FDE\u63A5\u7EBF"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"BufferGeometry"}),": \u9AD8\u6548\u7684\u51E0\u4F55\u4F53\u6570\u636E\u7BA1\u7406"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"\u52A0\u6027\u6DF7\u5408"}),": AdditiveBlending \u521B\u9020\u53D1\u5149\u6548\u679C"]}),"\n"]})]})}function v(e={}){let{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}}}]);