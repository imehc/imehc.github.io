"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["1616"],{28933(e,r,t){t.r(r),t.d(r,{metadata:()=>s,default:()=>I,frontMatter:()=>S,contentTitle:()=>k,toc:()=>M,assets:()=>P});var s=JSON.parse('{"id":"web/three/advanced/material-picking","title":"\u7269\u6599\u62FE\u53D6","description":"\u6838\u5FC3\u6982\u5FF5","source":"@site/docs/web/three/advanced/12-material-picking.mdx","sourceDirName":"web/three/advanced","slug":"/web/three/advanced/material-picking","permalink":"/web/three/advanced/material-picking","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Javascript","permalink":"/tags/javascript"}],"version":"current","lastUpdatedBy":"semantic-release-bot","lastUpdatedAt":1768388512000,"sidebarPosition":12,"frontMatter":{"sidebar_position":12,"title":"\u7269\u6599\u62FE\u53D6","tags":["Javascript"]},"sidebar":"webSidebar","previous":{"title":"Squircle","permalink":"/web/three/advanced/squircle"},"next":{"title":"\u795E\u7ECF\u7F51\u7EDC","permalink":"/web/three/advanced/neural-network"}}'),a=t(35656),i=t(56610),o=t(86911),n=t(54484),l=t(92278),d=t(16743),c=t(89181),m=t(57140),h=t(82044),g=t(85604),u=t(53220),p=t(9188),x=t(46975),j=t(67199);function b({id:e,texture:r,position:t,setSelected:s,roughness:i}){let o=(0,m.useRef)(null),[n,l]=(0,m.useState)(!1);return(0,x.D)((e,r)=>{o.current&&(o.current.scale.y=o.current.scale.x=o.current.scale.z=j.cj9.lerp(o.current.scale.y,n?1.5:1,.25),n&&o.current.rotateY(5*r))}),(0,a.jsxs)("mesh",{ref:o,position:t,onPointerOver:()=>l(!0),onPointerOut:()=>l(!1),onPointerDown:()=>s(e),children:[(0,a.jsx)("sphereGeometry",{}),(0,a.jsx)("meshStandardMaterial",{map:r,roughness:i,envMapIntensity:1.5})]})}function v({setSelected:e}){let r=(0,x.G)(j.Tap,["/v212/img/fabric_pattern_05.jpg","/v212/img/leather_red.jpg","/v212/img/fabric_pattern_07.jpg","/v212/img/book_pattern.jpg","/v212/img/denim_fabric_02.jpg"]),{size:t}=(0,x.C)(),s=(0,m.useMemo)(()=>t.width/800*24,[t.width]);return(0,a.jsxs)(u.Y,{children:[(0,a.jsx)(p.q,{makeDefault:!0,position:[0,0,2],zoom:s}),(0,a.jsx)(o.OH,{preset:"forest"}),(0,a.jsx)(b,{id:0,texture:r[0],position:[-6,-6,0],setSelected:e}),(0,a.jsx)(b,{id:1,texture:r[1],position:[-3,-6,0],roughness:.2,setSelected:e}),(0,a.jsx)(b,{id:2,texture:r[2],position:[-0,-6,0],setSelected:e}),(0,a.jsx)(b,{id:3,texture:r[3],position:[3,-6,0],roughness:.5,setSelected:e}),(0,a.jsx)(b,{id:4,texture:r[4],position:[6,-6,0],setSelected:e})]})}function w(){let[e,r]=(0,m.useState)(0),t=(0,m.useRef)(null),{nodes:s,materials:i}=(0,g.p)("/v212/models/armchair-transformed.glb"),o=(0,m.useMemo)(()=>({0:i.fabric_pattern_05,1:i.red_leather,2:i.fabric_pattern_7,3:i.book_pattern,4:i.denim_fabric_02}),[i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("group",{dispose:null,position:[1.5,.299,1.5],children:(0,a.jsxs)("group",{rotation:[Math.PI/2,0,0],scale:.01,children:[(0,a.jsx)("mesh",{ref:t,geometry:s.armchair001_1.geometry,material:o[e],castShadow:!0,receiveShadow:!0}),(0,a.jsx)("mesh",{geometry:s.armchair001_3.geometry,material:i.wooden_legs,castShadow:!0})]})}),(0,a.jsx)(v,{setSelected:r})]})}function _(){let{nodes:e,materials:r}=(0,g.p)("/v212/models/room-transformed.glb");return(0,a.jsx)("group",{dispose:null,"position-y":.3,children:(0,a.jsxs)("group",{rotation:[Math.PI/2,0,0],scale:.01,children:[(0,a.jsx)("mesh",{geometry:e.room_1.geometry,material:r.ground_1,receiveShadow:!0}),(0,a.jsx)("mesh",{geometry:e.room_2.geometry,material:r.wall_1_2,castShadow:!0,receiveShadow:!0}),(0,a.jsx)("mesh",{geometry:e.room_3.geometry,material:r.room_5_30,receiveShadow:!0}),(0,a.jsx)("mesh",{geometry:e.room_4.geometry,material:r.white,castShadow:!0,receiveShadow:!0}),(0,a.jsx)("mesh",{geometry:e.room_5.geometry,material:r.flltgrey,"material-transparent":!0,"material-opacity":.1}),(0,a.jsx)("mesh",{geometry:e.room_6.geometry,material:r.dkgrey,receiveShadow:!0}),(0,a.jsx)("mesh",{geometry:e.room_7.geometry,material:r.amber,castShadow:!0}),(0,a.jsx)("mesh",{geometry:e.room_8.geometry,material:r.yellow_green,castShadow:!0}),(0,a.jsx)("mesh",{geometry:e.room_9.geometry,material:r.flbrown,castShadow:!0})]})})}function f(){let{progress:e}=(0,l.p)();return(0,a.jsxs)(d.E,{center:!0,className:"text-white",children:[e.toFixed(2)," % loaded"]})}g.p.preload("/v212/models/armchair-transformed.glb"),g.p.preload("/models/room-transformed.glb");let y=()=>(0,a.jsx)(h.A,{children:(0,a.jsx)(c.Hl,{shadows:!0,camera:{position:[2.25,1,2.25]},children:(0,a.jsxs)(m.Suspense,{fallback:(0,a.jsx)(f,{}),children:[(0,a.jsx)(o.OH,{preset:"forest",background:!0,ground:{height:2,radius:115,scale:100}}),(0,a.jsx)("directionalLight",{position:[5,1.5,3],intensity:2,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-bias":-1e-4}),(0,a.jsx)(_,{}),(0,a.jsx)(w,{}),(0,a.jsx)(n.N,{target:[1.5,.8,1.5],minPolarAngle:0,maxPolarAngle:Math.PI/2+Math.PI/12})]})})}),S={sidebar_position:12,title:"\u7269\u6599\u62FE\u53D6",tags:["Javascript"]},k="\u7269\u6599\u62FE\u53D6",P={},M=[{value:"\u6838\u5FC3\u6982\u5FF5",id:"\u6838\u5FC3\u6982\u5FF5",level:2}];function D(e){let r={h1:"h1",h2:"h2",header:"header",li:"li",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"\u7269\u6599\u62FE\u53D6",children:"\u7269\u6599\u62FE\u53D6"})}),"\n",(0,a.jsx)(y,{}),"\n",(0,a.jsx)(r.h2,{id:"\u6838\u5FC3\u6982\u5FF5",children:"\u6838\u5FC3\u6982\u5FF5"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\u52A8\u6001\u6750\u8D28\u5207\u6362"}),": \u8FD0\u884C\u65F6\u66F4\u6539 3D \u6A21\u578B\u6750\u8D28"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\u6750\u8D28\u5E93"}),": \u9884\u52A0\u8F7D\u591A\u79CD\u6750\u8D28\u4F9B\u9009\u62E9"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"UI \u4EA4\u4E92"}),": 2D UI \u63A7\u5236 3D \u573A\u666F"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"\u72B6\u6001\u7BA1\u7406"}),": \u8DDF\u8E2A\u5F53\u524D\u9009\u4E2D\u7684\u6750\u8D28"]}),"\n"]})]})}function I(e={}){let{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(D,{...e})}):D(e)}},92278(e,r,t){t.d(r,{p:()=>o}),t(57140);var s=t(67199),a=t(78654);let i=0,o=(0,a.v)(e=>(s.h_9.onStart=(r,t,s)=>{e({active:!0,item:r,loaded:t,total:s,progress:(t-i)/(s-i)*100})},s.h_9.onLoad=()=>{e({active:!1})},s.h_9.onError=r=>e(e=>({errors:[...e.errors,r]})),s.h_9.onProgress=(r,t,s)=>{t===s&&(i=s),e({active:!0,item:r,loaded:t,total:s,progress:(t-i)/(s-i)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}))},78654(e,r,t){t.d(r,{v:()=>o});var s=t(57140),a=t(23962);let i=e=>{let r=(0,a.y)(e),t=e=>(function(e,r=e=>e){let t=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>r(e.getState()),[e,r]),s.useCallback(()=>r(e.getInitialState()),[e,r]));return s.useDebugValue(t),t})(r,e);return Object.assign(t,r),t},o=e=>e?i(e):i}}]);