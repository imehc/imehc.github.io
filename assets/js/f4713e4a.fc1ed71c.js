"use strict";(self.webpackChunkanch=self.webpackChunkanch||[]).push([["1193"],{66310(n,e,i){i.r(e),i.d(e,{metadata:()=>s,default:()=>u,frontMatter:()=>d,contentTitle:()=>a,toc:()=>p,assets:()=>h});var s=JSON.parse('{"id":"web/cesium/basic/06","title":"\u70B9\u7EBF\u9762\u56FE\u6807\u4E0E\u5F39\u7A97","description":"\u672C\u793A\u4F8B\u5C55\u793A\u5982\u4F55\u5728 Cesium \u4E2D\u7ED8\u5236\u57FA\u7840\u51E0\u4F55\u56FE\u5F62\uFF08\u70B9\u3001\u7EBF\u3001\u9762\u3001\u56FE\u6807\uFF09\u4EE5\u53CA\u5B9E\u73B0\u81EA\u5B9A\u4E49\u5F39\u7A97\uFF08Popup\uFF09\u548C\u5DE5\u5177\u63D0\u793A\uFF08Tooltip\uFF09\u3002\u901A\u8FC7 dat.GUI \u63A7\u5236\u9762\u677F\u53EF\u4EE5\u5207\u6362\u4E0D\u540C\u7684\u793A\u4F8B\u7C7B\u578B\uFF0C\u5305\u62EC\u5355\u4E2A\u70B9\u3001\u7EBF\u3001\u9762\u3001\u56FE\u6807\u3001\u5927\u91CF\u56FE\u6807\u3001\u5F39\u7A97\u548C\u5DE5\u5177\u63D0\u793A\u3002","source":"@site/docs/web/cesium/basic/06.mdx","sourceDirName":"web/cesium/basic","slug":"/web/cesium/basic/06","permalink":"/web/cesium/basic/06","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Javascript","permalink":"/tags/javascript"}],"version":"current","lastUpdatedBy":"imehc","lastUpdatedAt":1768876705000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"\u70B9\u7EBF\u9762\u56FE\u6807\u4E0E\u5F39\u7A97","tags":["Javascript"]},"sidebar":"webSidebar","previous":{"title":"\u52A0\u8F7DSHP","permalink":"/web/cesium/basic/05"},"next":{"title":"\u805A\u5408","permalink":"/web/cesium/basic/07"}}'),l=i(35656),t=i(56610),r=i(57140),o=i(82044);function c(){let n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e,s,l=n.current;if(l)return Promise.all([i.e("4014"),i.e("4803"),i.e("8897"),i.e("8375"),i.e("6748"),i.e("5766"),i.e("2905"),i.e("4802")]).then(i.bind(i,40073)).then(({initViewer:n})=>{let i=n(l);e=i.viewer,s=i.gui}),()=>{e&&!e.isDestroyed()&&e.destroy(),s&&s.destroy()}},[]),(0,l.jsx)(o.A,{children:(0,l.jsx)("div",{className:"tw:size-full",ref:n})})}let d={sidebar_position:6,title:"\u70B9\u7EBF\u9762\u56FE\u6807\u4E0E\u5F39\u7A97",tags:["Javascript"]},a="\u70B9\u7EBF\u9762\u56FE\u6807\u4E0E\u5F39\u7A97",h={},p=[{value:"\u6838\u5FC3\u529F\u80FD",id:"\u6838\u5FC3\u529F\u80FD",level:2},{value:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62",id:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62",level:3},{value:"\u81EA\u5B9A\u4E49\u5F39\u7A97\u7CFB\u7EDF",id:"\u81EA\u5B9A\u4E49\u5F39\u7A97\u7CFB\u7EDF",level:3},{value:"\u5173\u952E\u4EE3\u7801",id:"\u5173\u952E\u4EE3\u7801",level:2},{value:"\u7ED8\u5236\u70B9\u5B9E\u4F53",id:"\u7ED8\u5236\u70B9\u5B9E\u4F53",level:3},{value:"\u7ED8\u5236\u7EBF\u5B9E\u4F53",id:"\u7ED8\u5236\u7EBF\u5B9E\u4F53",level:3},{value:"\u7ED8\u5236\u9762\u5B9E\u4F53",id:"\u7ED8\u5236\u9762\u5B9E\u4F53",level:3},{value:"\u7ED8\u5236\u56FE\u6807",id:"\u7ED8\u5236\u56FE\u6807",level:3},{value:"\u5927\u91CF\u56FE\u6807\u6027\u80FD\u4F18\u5316",id:"\u5927\u91CF\u56FE\u6807\u6027\u80FD\u4F18\u5316",level:3},{value:"\u81EA\u5B9A\u4E49 Popup \u5F39\u7A97",id:"\u81EA\u5B9A\u4E49-popup-\u5F39\u7A97",level:3},{value:"\u81EA\u5B9A\u4E49 Tooltip \u5DE5\u5177\u63D0\u793A",id:"\u81EA\u5B9A\u4E49-tooltip-\u5DE5\u5177\u63D0\u793A",level:3},{value:"Popup \u4F7F\u7528 Tailwind CSS",id:"popup-\u4F7F\u7528-tailwind-css",level:3},{value:"\u5E94\u7528\u573A\u666F",id:"\u5E94\u7528\u573A\u666F",level:2},{value:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62",id:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62-1",level:3},{value:"\u5927\u91CF\u56FE\u6807",id:"\u5927\u91CF\u56FE\u6807",level:3},{value:"\u5F39\u7A97\u548C\u5DE5\u5177\u63D0\u793A",id:"\u5F39\u7A97\u548C\u5DE5\u5177\u63D0\u793A",level:3},{value:"\u6027\u80FD\u4F18\u5316\u6280\u5DE7",id:"\u6027\u80FD\u4F18\u5316\u6280\u5DE7",level:2},{value:"\u5927\u91CF\u56FE\u6807\u4F18\u5316",id:"\u5927\u91CF\u56FE\u6807\u4F18\u5316",level:3},{value:"\u5F39\u7A97\u6027\u80FD\u4F18\u5316",id:"\u5F39\u7A97\u6027\u80FD\u4F18\u5316",level:3},{value:"\u5E38\u89C1\u95EE\u9898",id:"\u5E38\u89C1\u95EE\u9898",level:2},{value:"\u70B9\u51FB\u4E8B\u4EF6\u51B2\u7A81",id:"\u70B9\u51FB\u4E8B\u4EF6\u51B2\u7A81",level:3},{value:"\u5F39\u7A97\u4F4D\u7F6E\u504F\u79FB",id:"\u5F39\u7A97\u4F4D\u7F6E\u504F\u79FB",level:3},{value:"\u6587\u5B57\u6A21\u7CCA\u95EE\u9898",id:"\u6587\u5B57\u6A21\u7CCA\u95EE\u9898",level:3},{value:"\u5927\u91CF\u5B9E\u4F53\u5361\u987F",id:"\u5927\u91CF\u5B9E\u4F53\u5361\u987F",level:3},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:2},{value:"\u53C2\u8003\u8D44\u6599",id:"\u53C2\u8003\u8D44\u6599",level:2}];function x(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"\u70B9\u7EBF\u9762\u56FE\u6807\u4E0E\u5F39\u7A97",children:"\u70B9\u7EBF\u9762\u56FE\u6807\u4E0E\u5F39\u7A97"})}),"\n",(0,l.jsx)(e.p,{children:"\u672C\u793A\u4F8B\u5C55\u793A\u5982\u4F55\u5728 Cesium \u4E2D\u7ED8\u5236\u57FA\u7840\u51E0\u4F55\u56FE\u5F62\uFF08\u70B9\u3001\u7EBF\u3001\u9762\u3001\u56FE\u6807\uFF09\u4EE5\u53CA\u5B9E\u73B0\u81EA\u5B9A\u4E49\u5F39\u7A97\uFF08Popup\uFF09\u548C\u5DE5\u5177\u63D0\u793A\uFF08Tooltip\uFF09\u3002\u901A\u8FC7 dat.GUI \u63A7\u5236\u9762\u677F\u53EF\u4EE5\u5207\u6362\u4E0D\u540C\u7684\u793A\u4F8B\u7C7B\u578B\uFF0C\u5305\u62EC\u5355\u4E2A\u70B9\u3001\u7EBF\u3001\u9762\u3001\u56FE\u6807\u3001\u5927\u91CF\u56FE\u6807\u3001\u5F39\u7A97\u548C\u5DE5\u5177\u63D0\u793A\u3002"}),"\n",(0,l.jsx)(c,{}),"\n",(0,l.jsx)(e.h2,{id:"\u6838\u5FC3\u529F\u80FD",children:"\u6838\u5FC3\u529F\u80FD"}),"\n",(0,l.jsx)(e.h3,{id:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62",children:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62"}),"\n",(0,l.jsx)(e.p,{children:"Cesium \u63D0\u4F9B\u4E86\u591A\u79CD\u5B9E\u4F53\u7C7B\u578B\u7528\u4E8E\u7ED8\u5236\u57FA\u7840\u51E0\u4F55\u56FE\u5F62\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Point"}),"\uFF1A\u70B9\u5B9E\u4F53\uFF0C\u53EF\u8BBE\u7F6E\u5927\u5C0F\u3001\u989C\u8272\u3001\u8FB9\u6846\u7B49"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Polyline"}),"\uFF1A\u7EBF\u5B9E\u4F53\uFF0C\u652F\u6301\u5355\u7EBF\u3001\u591A\u7EBF\u3001\u8D34\u5730\u7B49"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Polygon"}),"\uFF1A\u9762\u5B9E\u4F53\uFF0C\u652F\u6301\u586B\u5145\u3001\u62C9\u4F38\u3001\u8D34\u5730\u7B49"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Billboard"}),"\uFF1A\u56FE\u6807\u5E7F\u544A\u724C\uFF0C\u59CB\u7EC8\u9762\u5411\u76F8\u673A"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u81EA\u5B9A\u4E49\u5F39\u7A97\u7CFB\u7EDF",children:"\u81EA\u5B9A\u4E49\u5F39\u7A97\u7CFB\u7EDF"}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\u4E86\u4E24\u79CD\u81EA\u5B9A\u4E49\u5F39\u7A97\u7EC4\u4EF6\uFF1A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Popup"}),"\uFF1A\u57FA\u4E8E DOM \u7684\u5F39\u7A97\uFF0C\u652F\u6301\u5173\u95ED\u6309\u94AE\u548C\u70B9\u51FB\u4EA4\u4E92"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Tooltip"}),"\uFF1A\u57FA\u4E8E SVG \u7684\u5DE5\u5177\u63D0\u793A\uFF0C\u4F7F\u7528 Billboard \u6E32\u67D3"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u5173\u952E\u4EE3\u7801",children:"\u5173\u952E\u4EE3\u7801"}),"\n",(0,l.jsx)(e.h3,{id:"\u7ED8\u5236\u70B9\u5B9E\u4F53",children:"\u7ED8\u5236\u70B9\u5B9E\u4F53"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 Point \u5B9E\u4F53\u7ED8\u5236\u70B9\u6807\u8BB0\uFF08viewer.ts\uFF09\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'viewer.entities.add({\n  name: "\u70B9",\n  position: Cartesian3.fromDegrees(-95.166493, 39.9060534, 2000),\n  point: {\n    pixelSize: 5,           // \u70B9\u7684\u5927\u5C0F\uFF08\u50CF\u7D20\uFF09\n    color: Color.RED,       // \u70B9\u7684\u989C\u8272\n    outlineColor: Color.WHITE,  // \u8FB9\u6846\u989C\u8272\n    outlineWidth: 2,        // \u8FB9\u6846\u5BBD\u5EA6\n  },\n  label: {\n    text: "\u70B9",\n    font: "14pt monospace",\n    outlineWidth: 2,\n  },\n});\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u7ED8\u5236\u7EBF\u5B9E\u4F53",children:"\u7ED8\u5236\u7EBF\u5B9E\u4F53"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 Polyline \u5B9E\u4F53\u7ED8\u5236\u7EBF\u6BB5\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'viewer.entities.add({\n  name: "\u7EBF",\n  polyline: {\n    positions: Cartesian3.fromDegreesArray([-77, 35, -80, 35, -90, 45]),\n    width: 3,               // \u7EBF\u5BBD\n    material: Color.BLUE,   // \u7EBF\u7684\u989C\u8272\n    clampToGround: false,   // \u662F\u5426\u8D34\u5730\n  },\n});\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u7ED8\u5236\u9762\u5B9E\u4F53",children:"\u7ED8\u5236\u9762\u5B9E\u4F53"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 Polygon \u5B9E\u4F53\u7ED8\u5236\u591A\u8FB9\u5F62\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'// \u7B80\u5355\u8D34\u5730\u9762\nviewer.entities.add({\n  name: "\u6700\u7B80\u5355\u7684\u8D34\u5730\u9762",\n  polygon: {\n    hierarchy: Cartesian3.fromDegreesArray([\n      -115.0, 37.0, -115.0, 32.0, -107.0, 33.0, -102.0, 31.0, -102.0, 35.0,\n    ]),\n    material: Color.RED.withAlpha(0.5),\n  },\n});\n\n// \u7ACB\u4F53\u62C9\u4F38\u9762\nviewer.entities.add({\n  name: "\u8D34\u5730\u56F4\u5899",\n  polygon: {\n    hierarchy: Cartesian3.fromDegreesArray([\n      -108.0, 42.0, -100.0, 42.0, -104.0, 40.0,\n    ]),\n    extrudedHeight: 50000.0,  // \u62C9\u4F38\u9AD8\u5EA6\n    material: Color.GREEN,\n    closeTop: false,           // \u4E0D\u5C01\u9876\n    closeBottom: false,        // \u4E0D\u5C01\u5E95\n  },\n});\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u7ED8\u5236\u56FE\u6807",children:"\u7ED8\u5236\u56FE\u6807"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 Billboard \u5B9E\u4F53\u7ED8\u5236\u56FE\u6807\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'viewer.entities.add({\n  position: Cartesian3.fromDegrees(-115.59777, 40.03883),\n  billboard: {\n    image: "/cesium/06/icon.png",\n    heightReference: HeightReference.CLAMP_TO_GROUND,  // \u8D34\u9644\u5730\u9762\n    scaleByDistance: new NearFarScalar(2000000, 1.5, 8000000, 0.5),\n    scale: 1,\n    horizontalOrigin: HorizontalOrigin.CENTER,\n    verticalOrigin: VerticalOrigin.BOTTOM,\n    width: 32,\n    height: 32,\n  },\n});\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u5927\u91CF\u56FE\u6807\u6027\u80FD\u4F18\u5316",children:"\u5927\u91CF\u56FE\u6807\u6027\u80FD\u4F18\u5316"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 BillboardCollection \u5B9E\u73B0\u5927\u91CF\u56FE\u6807\u7684\u9AD8\u6027\u80FD\u6E32\u67D3\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'import { BillboardCollection } from "cesium";\nimport { randomPoint } from "@turf/turf";\n\nfunction loadMultipleIcon(viewer: Viewer, count = 50000) {\n  const points = randomPoint(count, { bbox: [-180, -90, 180, 90] });\n  const billboardCollection = viewer.scene.primitives.add(\n    new BillboardCollection()\n  );\n\n  points.features.forEach((k) => {\n    const cor = k.geometry.coordinates;\n    billboardCollection.add({\n      scaleByDistance: new NearFarScalar(2000000, 1, 8000000, 0.1),\n      position: Cartesian3.fromDegrees(cor[0], cor[1]),\n      image: "/cesium/06/icon.png",\n      width: 32,\n      height: 32,\n    });\n  });\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u81EA\u5B9A\u4E49-popup-\u5F39\u7A97",children:"\u81EA\u5B9A\u4E49 Popup \u5F39\u7A97"}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\u57FA\u4E8E DOM \u7684\u4EA4\u4E92\u5F0F\u5F39\u7A97\uFF08popup.ts\uFF09\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'export class Popup {\n  private option: PopupOption;\n  private ctnMap: Record<string, [Cartesian3, HTMLDivElement]> = {};\n\n  constructor(option: PopupOption) {\n    this.option = option;\n  }\n\n  public add({ position, content, isClose = false }: PopupAddOption): string {\n    const id = `popup_${(((1 + Math.random()) * 0x10000) | 0).toString(16)}${this.id++}`;\n    const ctn = document.createElement("div");\n    ctn.className = `tw:absolute tw:z-[1000] tw:pointer-events-auto`;\n    ctn.style.transform = "translate(-50%, -100%)";\n    this.option.viewer.container.appendChild(ctn);\n\n    ctn.innerHTML = this.createHtml(content.header, content.content, isClose);\n    this.ctnMap[id] = [position, ctn];\n    this.render();\n\n    return id;\n  }\n\n  private render() {\n    for (const c in this.ctnMap) {\n      const element = this.ctnMap[c];\n      const pos = SceneTransforms.worldToWindowCoordinates(\n        this.option.viewer.scene,\n        element[0]\n      );\n      if (!pos.x || !pos.y) continue;\n\n      this.ctnMap[c][1].style.left = `${pos.x}px`;\n      this.ctnMap[c][1].style.top = `${pos.y - 20}px`;  // \u663E\u793A\u5728\u70B9\u4E0A\u65B9\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u81EA\u5B9A\u4E49-tooltip-\u5DE5\u5177\u63D0\u793A",children:"\u81EA\u5B9A\u4E49 Tooltip \u5DE5\u5177\u63D0\u793A"}),"\n",(0,l.jsx)(e.p,{children:"\u5B9E\u73B0\u57FA\u4E8E SVG \u7684\u9AD8\u6E05\u5DE5\u5177\u63D0\u793A\uFF08popup.ts\uFF09\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'export class Tooltip {\n  private dataSource: CustomDataSource;\n\n  constructor(opt: { viewer: Viewer } & Record<string, unknown>) {\n    this.viewer = opt.viewer;\n    this.dataSource = new CustomDataSource("tooltipname");\n    this.viewer.dataSources.add(this.dataSource);\n  }\n\n  add(option: {\n    position: Cartesian3;\n    header?: string;\n    content: string;\n    width?: number;\n  }) {\n    // \u4F7F\u7528\u8BBE\u5907\u50CF\u7D20\u6BD4\u63D0\u9AD8\u6E05\u6670\u5EA6\n    const scale = window.devicePixelRatio || 2;\n    const svgContent = this.createSVG(option, scale);\n    const data = `data:image/svg+xml,${encodeURIComponent(svgContent)}`;\n\n    const entity = this.dataSource.entities.add({\n      position: option.position,\n      billboard: {\n        image: data,\n        scale: 1 / scale,  // \u7F29\u5C0F\u56DE\u539F\u59CB\u5927\u5C0F\n        horizontalOrigin: HorizontalOrigin.CENTER,\n        verticalOrigin: VerticalOrigin.BOTTOM,\n        disableDepthTestDistance: Number.POSITIVE_INFINITY,\n      },\n    });\n\n    return { id: createGuid(), entity };\n  }\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"popup-\u4F7F\u7528-tailwind-css",children:"Popup \u4F7F\u7528 Tailwind CSS"}),"\n",(0,l.jsx)(e.p,{children:"Popup \u4F7F\u7528 Tailwind CSS \u5B9E\u73B0\u73B0\u4EE3\u5316\u6837\u5F0F\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'private createHtml(header: string, content: string, isClose: boolean) {\n  return `\n    ${isClose ? \'<div class="tw:absolute tw:top-2 tw:right-2 tw:cursor-pointer tw:text-gray-400 hover:tw:text-gray-600 tw:text-xl tw:leading-none bx-popup-close">\xd7</div>\' : ""}\n    <div class="tw:bg-white tw:rounded-lg tw:shadow-xl tw:p-2 tw:min-w-50 tw:max-w-75">\n      <div class="tw:font-bold tw:text-base tw:mb-2 tw:text-gray-800 tw:border-b tw:border-gray-200 tw:pb-1">\n        ${header}\n      </div>\n      <div class="tw:text-sm tw:text-gray-600 tw:space-y-1">\n        ${content}\n      </div>\n    </div>\n    <div class="tw:absolute tw:left-1/2 tw:-bottom-2 tw:-ml-2 tw:w-0 tw:h-0 tw:border-l-8 tw:border-r-8 tw:border-t-8 tw:border-l-transparent tw:border-r-transparent tw:border-t-white" style="filter: drop-shadow(0 2px 2px rgba(0,0,0,0.1));"></div>\n  `;\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"\u5E94\u7528\u573A\u666F",children:"\u5E94\u7528\u573A\u666F"}),"\n",(0,l.jsx)(e.h3,{id:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62-1",children:"\u57FA\u7840\u51E0\u4F55\u56FE\u5F62"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6807\u6CE8\u5C55\u793A"}),"\uFF1A\u5728\u5730\u56FE\u4E0A\u6807\u6CE8\u91CD\u8981\u4F4D\u7F6E\u3001\u5EFA\u7B51\u7269\u3001\u5730\u6807\u7B49"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u533A\u57DF\u89C4\u5212"}),"\uFF1A\u7ED8\u5236\u89C4\u5212\u533A\u57DF\u3001\u4FDD\u62A4\u533A\u3001\u7981\u98DE\u533A\u7B49"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8DEF\u7EBF\u5BFC\u822A"}),"\uFF1A\u5C55\u793A\u9053\u8DEF\u3001\u822A\u7EBF\u3001\u7BA1\u7EBF\u7B49\u7EBF\u72B6\u8981\u7D20"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6D4B\u91CF\u6807\u8BB0"}),"\uFF1A\u8DDD\u79BB\u6D4B\u91CF\u3001\u9762\u79EF\u6D4B\u91CF\u7684\u53EF\u89C6\u5316\u5C55\u793A"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5927\u91CF\u56FE\u6807",children:"\u5927\u91CF\u56FE\u6807"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8BBE\u5907\u76D1\u63A7"}),"\uFF1A\u5C55\u793A\u6210\u5343\u4E0A\u4E07\u4E2A IoT \u8BBE\u5907\u3001\u4F20\u611F\u5668\u4F4D\u7F6E"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"POI \u5C55\u793A"}),"\uFF1A\u5546\u94FA\u3001\u9152\u5E97\u3001\u666F\u70B9\u7B49\u5174\u8DA3\u70B9\u7684\u5927\u89C4\u6A21\u5C55\u793A"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8F66\u8F86\u8FFD\u8E2A"}),"\uFF1A\u5B9E\u65F6\u5C55\u793A\u5927\u91CF\u8F66\u8F86\u3001\u8239\u8236\u3001\u98DE\u673A\u4F4D\u7F6E"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6570\u636E\u53EF\u89C6\u5316"}),"\uFF1A\u5730\u7406\u6570\u636E\u7684\u5BC6\u96C6\u578B\u53EF\u89C6\u5316\u5C55\u793A"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5F39\u7A97\u548C\u5DE5\u5177\u63D0\u793A",children:"\u5F39\u7A97\u548C\u5DE5\u5177\u63D0\u793A"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4FE1\u606F\u5C55\u793A"}),"\uFF1A\u70B9\u51FB\u6216\u60AC\u505C\u5C55\u793A\u8BE6\u7EC6\u4FE1\u606F"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u72B6\u6001\u76D1\u63A7"}),"\uFF1A\u8BBE\u5907\u72B6\u6001\u3001\u4F20\u611F\u5668\u6570\u636E\u7684\u5B9E\u65F6\u5C55\u793A"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5C5E\u6027\u67E5\u8BE2"}),"\uFF1A\u67E5\u8BE2\u5730\u7406\u8981\u7D20\u7684\u5C5E\u6027\u4FE1\u606F"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6570\u636E\u4EA4\u4E92"}),"\uFF1A\u7528\u6237\u4E0E\u5730\u56FE\u6570\u636E\u7684\u4EA4\u4E92\u754C\u9762"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u6027\u80FD\u4F18\u5316\u6280\u5DE7",children:"\u6027\u80FD\u4F18\u5316\u6280\u5DE7"}),"\n",(0,l.jsx)(e.h3,{id:"\u5927\u91CF\u56FE\u6807\u4F18\u5316",children:"\u5927\u91CF\u56FE\u6807\u4F18\u5316"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u4F7F\u7528 BillboardCollection \u800C\u975E\u591A\u4E2A Entity"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'// \u274C \u6027\u80FD\u5DEE - \u6BCF\u4E2A\u56FE\u6807\u4E00\u4E2A Entity\nfor (let i = 0; i < 10000; i++) {\n  viewer.entities.add({\n    position: positions[i],\n    billboard: { image: "icon.png" }\n  });\n}\n\n// \u2705 \u6027\u80FD\u597D - \u4F7F\u7528 BillboardCollection\nconst collection = viewer.scene.primitives.add(new BillboardCollection());\nfor (let i = 0; i < 10000; i++) {\n  collection.add({\n    position: positions[i],\n    image: "icon.png"\n  });\n}\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u4F7F\u7528 scaleByDistance \u5B9E\u73B0 LOD"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"billboard: {\n  scaleByDistance: new NearFarScalar(\n    2000000, 1.0,    // \u8FD1\u8DDD\u79BB\uFF1A\u6B63\u5E38\u5927\u5C0F\n    8000000, 0.1     // \u8FDC\u8DDD\u79BB\uFF1A\u7F29\u5C0F\u5230 0.1\n  )\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u5F39\u7A97\u6027\u80FD\u4F18\u5316",children:"\u5F39\u7A97\u6027\u80FD\u4F18\u5316"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u4F7F\u7528\u8BBE\u5907\u50CF\u7D20\u6BD4\u6E32\u67D3\u9AD8\u6E05 SVG"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"const scale = window.devicePixelRatio || 2;\n// \u4F7F\u7528 2x \u5206\u8FA8\u7387\u6E32\u67D3\uFF0C\u7136\u540E\u7F29\u5C0F\u663E\u793A\nbillboard: {\n  scale: 1 / scale\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u53CA\u65F6\u6E05\u7406\u4E0D\u9700\u8981\u7684\u5F39\u7A97"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"function removeEntities(viewer: Viewer) {\n  // \u6E05\u9664 Popup DOM \u5143\u7D20\n  const popups = viewer.container.querySelectorAll('[id^=\"popup_\"]');\n  popups.forEach(popup => popup.remove());\n\n  // \u6E05\u9664 Tooltip DataSource\n  const dataSources = viewer.dataSources;\n  for (let i = dataSources.length - 1; i >= 0; i--) {\n    dataSources.remove(dataSources.get(i));\n  }\n}\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u5E38\u89C1\u95EE\u9898",children:"\u5E38\u89C1\u95EE\u9898"}),"\n",(0,l.jsx)(e.h3,{id:"\u70B9\u51FB\u4E8B\u4EF6\u51B2\u7A81",children:"\u70B9\u51FB\u4E8B\u4EF6\u51B2\u7A81"}),"\n",(0,l.jsx)(e.p,{children:"\u7981\u7528 Cesium \u9ED8\u8BA4\u7684\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u907F\u514D\u4E0E\u81EA\u5B9A\u4E49\u4EA4\u4E92\u51B2\u7A81\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(\n  ScreenSpaceEventType.LEFT_CLICK\n);\nviewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(\n  ScreenSpaceEventType.LEFT_DOUBLE_CLICK\n);\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u5F39\u7A97\u4F4D\u7F6E\u504F\u79FB",children:"\u5F39\u7A97\u4F4D\u7F6E\u504F\u79FB"}),"\n",(0,l.jsxs)(e.p,{children:["\u5F39\u7A97\u9700\u8981\u5728\u70B9\u7684\u4E0A\u65B9\u663E\u793A\uFF0C\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"transform"})," \u548C\u504F\u79FB\u8C03\u6574\uFF1A"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:'// \u5728 render \u65B9\u6CD5\u4E2D\nthis.ctnMap[c][1].style.left = `${pos.x}px`;\nthis.ctnMap[c][1].style.top = `${pos.y - 20}px`;  // \u5411\u4E0A\u504F\u79FB 20px\n\n// CSS transform \u5C45\u4E2D\nctn.style.transform = "translate(-50%, -100%)";\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u6587\u5B57\u6A21\u7CCA\u95EE\u9898",children:"\u6587\u5B57\u6A21\u7CCA\u95EE\u9898"}),"\n",(0,l.jsx)(e.p,{children:"SVG \u5DE5\u5177\u63D0\u793A\u6587\u5B57\u6A21\u7CCA\uFF0C\u4F7F\u7528\u8BBE\u5907\u50CF\u7D20\u6BD4\u89E3\u51B3\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"// \u4F7F\u7528 2x \u6216\u8BBE\u5907\u50CF\u7D20\u6BD4\u6E32\u67D3\nconst scale = window.devicePixelRatio || 2;\nconst svgWidth = width * scale;\nconst fontSize = 14 * scale;\n\n// \u7136\u540E\u7F29\u5C0F\u56DE\u539F\u59CB\u5927\u5C0F\nbillboard: {\n  scale: 1 / scale\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u5927\u91CF\u5B9E\u4F53\u5361\u987F",children:"\u5927\u91CF\u5B9E\u4F53\u5361\u987F"}),"\n",(0,l.jsx)(e.p,{children:"\u4F7F\u7528 Primitive \u800C\u975E Entity \u63D0\u5347\u6027\u80FD\uFF1A"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"// Entity API (\u7B80\u5355\u4F46\u6162)\nviewer.entities.add({ ... });\n\n// Primitive API (\u590D\u6742\u4F46\u5FEB)\nconst collection = new BillboardCollection();\nviewer.scene.primitives.add(collection);\ncollection.add({ ... });\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5750\u6807\u7CFB\u7EDF"}),"\uFF1A\u786E\u4FDD\u4F7F\u7528\u6B63\u786E\u7684\u5750\u6807\u7CFB\uFF08WGS84 \u7ECF\u7EAC\u5EA6\uFF09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u9AD8\u5EA6\u53C2\u8003"}),"\uFF1A\u5408\u7406\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"heightReference"}),"\uFF08\u8D34\u5730/\u76F8\u5BF9\u5730\u5F62/\u7EDD\u5BF9\u9AD8\u5EA6\uFF09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6027\u80FD\u8003\u8651"}),"\uFF1A\u5927\u91CF\u5B9E\u4F53\u4F7F\u7528 Primitive API \u800C\u975E Entity API"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6DF1\u5EA6\u68C0\u6D4B"}),"\uFF1A\u8BBE\u7F6E ",(0,l.jsx)(e.code,{children:"disableDepthTestDistance"})," \u907F\u514D\u88AB\u5730\u5F62\u906E\u6321"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5185\u5B58\u7BA1\u7406"}),"\uFF1A\u5207\u6362\u573A\u666F\u65F6\u53CA\u65F6\u6E05\u7406\u4E0D\u9700\u8981\u7684\u5B9E\u4F53\u548C DOM \u5143\u7D20"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6837\u5F0F\u4E00\u81F4\u6027"}),"\uFF1APopup \u4F7F\u7528 Tailwind CSS\uFF0CTooltip \u4F7F\u7528 SVG"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8BBE\u5907\u9002\u914D"}),"\uFF1A\u4F7F\u7528 ",(0,l.jsx)(e.code,{children:"devicePixelRatio"})," \u786E\u4FDD\u9AD8\u6E05\u5C4F\u663E\u793A\u6E05\u6670"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4E8B\u4EF6\u5904\u7406"}),"\uFF1A\u7981\u7528\u9ED8\u8BA4\u4E8B\u4EF6\u907F\u514D\u51B2\u7A81\uFF0C\u81EA\u5B9A\u4E49\u4EA4\u4E92\u903B\u8F91"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://cesium.com/learn/cesiumjs/ref-doc/Entity.html",children:"Cesium Entity API \u6587\u6863"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://cesium.com/learn/cesiumjs/ref-doc/Primitive.html",children:"Cesium Primitive API \u6587\u6863"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://cesium.com/learn/cesiumjs/ref-doc/BillboardCollection.html",children:"BillboardCollection \u6587\u6863"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://tailwindcss.com/docs",children:"Tailwind CSS \u6587\u6863"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.w3.org/Graphics/SVG/",children:"SVG \u89C4\u8303"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://turfjs.org/",children:"Turf.js \u6587\u6863"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/jiawanlong/Cesium-Examples",children:"Cesium Examples"})}),"\n"]})]})}function u(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(x,{...n})}):x(n)}}}]);