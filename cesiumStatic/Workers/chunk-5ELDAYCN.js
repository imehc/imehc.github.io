import{a as t}from"./chunk-6WLI3422.js";import{a as e,b as n,c as r}from"./chunk-G2EMNOST.js";import{a as a}from"./chunk-4VFKVGYI.js";import{a as o,b as u}from"./chunk-3WJNS2B6.js";import{e as i}from"./chunk-XCN226AA.js";function f(t,e,n,r){this.x=t??0,this.y=e??0,this.z=n??0,this.w=r??0}f.fromElements=function(t,e,n,r,a){return i(a)?(a.x=t,a.y=e,a.z=n,a.w=r,a):new f(t,e,n,r)},f.fromColor=function(t,e){return u.typeOf.object("color",t),i(e)?(e.x=t.red,e.y=t.green,e.z=t.blue,e.w=t.alpha,e):new f(t.red,t.green,t.blue,t.alpha)},f.clone=function(t,e){if(i(t))return i(e)?(e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e):new f(t.x,t.y,t.z,t.w)},f.packedLength=4,f.pack=function(t,e,n){return u.typeOf.object("value",t),u.defined("array",e),n=n??0,e[n++]=t.x,e[n++]=t.y,e[n++]=t.z,e[n]=t.w,e},f.unpack=function(t,e,n){return u.defined("array",t),e=e??0,i(n)||(n=new f),n.x=t[e++],n.y=t[e++],n.z=t[e++],n.w=t[e],n},f.packArray=function(t,e){u.defined("array",t);let n=t.length,r=4*n;if(i(e)){if(!Array.isArray(e)&&e.length!==r)throw new o("If result is a typed array, it must have exactly array.length * 4 elements");e.length!==r&&(e.length=r)}else e=Array(r);for(let r=0;r<n;++r)f.pack(t[r],e,4*r);return e},f.unpackArray=function(t,e){if(u.defined("array",t),u.typeOf.number.greaterThanOrEquals("array.length",t.length,4),t.length%4!=0)throw new o("array length must be a multiple of 4.");let n=t.length;i(e)?e.length=n/4:e=Array(n/4);for(let r=0;r<n;r+=4){let n=r/4;e[n]=f.unpack(t,r,e[n])}return e},f.fromArray=f.unpack,f.maximumComponent=function(t){return u.typeOf.object("cartesian",t),Math.max(t.x,t.y,t.z,t.w)},f.minimumComponent=function(t){return u.typeOf.object("cartesian",t),Math.min(t.x,t.y,t.z,t.w)},f.minimumByComponent=function(t,e,n){return u.typeOf.object("first",t),u.typeOf.object("second",e),u.typeOf.object("result",n),n.x=Math.min(t.x,e.x),n.y=Math.min(t.y,e.y),n.z=Math.min(t.z,e.z),n.w=Math.min(t.w,e.w),n},f.maximumByComponent=function(t,e,n){return u.typeOf.object("first",t),u.typeOf.object("second",e),u.typeOf.object("result",n),n.x=Math.max(t.x,e.x),n.y=Math.max(t.y,e.y),n.z=Math.max(t.z,e.z),n.w=Math.max(t.w,e.w),n},f.clamp=function(t,e,n,r){u.typeOf.object("value",t),u.typeOf.object("min",e),u.typeOf.object("max",n),u.typeOf.object("result",r);let o=a.clamp(t.x,e.x,n.x),i=a.clamp(t.y,e.y,n.y),f=a.clamp(t.z,e.z,n.z),c=a.clamp(t.w,e.w,n.w);return r.x=o,r.y=i,r.z=f,r.w=c,r},f.magnitudeSquared=function(t){return u.typeOf.object("cartesian",t),t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w},f.magnitude=function(t){return Math.sqrt(f.magnitudeSquared(t))};var c=new f;f.distance=function(t,e){return u.typeOf.object("left",t),u.typeOf.object("right",e),f.subtract(t,e,c),f.magnitude(c)},f.distanceSquared=function(t,e){return u.typeOf.object("left",t),u.typeOf.object("right",e),f.subtract(t,e,c),f.magnitudeSquared(c)},f.normalize=function(t,e){u.typeOf.object("cartesian",t),u.typeOf.object("result",e);let n=f.magnitude(t);if(e.x=t.x/n,e.y=t.y/n,e.z=t.z/n,e.w=t.w/n,isNaN(e.x)||isNaN(e.y)||isNaN(e.z)||isNaN(e.w))throw new o("normalized result is not a number");return e},f.dot=function(t,e){return u.typeOf.object("left",t),u.typeOf.object("right",e),t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},f.multiplyComponents=function(t,e,n){return u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n),n.x=t.x*e.x,n.y=t.y*e.y,n.z=t.z*e.z,n.w=t.w*e.w,n},f.divideComponents=function(t,e,n){return u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n),n.x=t.x/e.x,n.y=t.y/e.y,n.z=t.z/e.z,n.w=t.w/e.w,n},f.add=function(t,e,n){return u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n),n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n.w=t.w+e.w,n},f.subtract=function(t,e,n){return u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n),n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n.w=t.w-e.w,n},f.multiplyByScalar=function(t,e,n){return u.typeOf.object("cartesian",t),u.typeOf.number("scalar",e),u.typeOf.object("result",n),n.x=t.x*e,n.y=t.y*e,n.z=t.z*e,n.w=t.w*e,n},f.divideByScalar=function(t,e,n){return u.typeOf.object("cartesian",t),u.typeOf.number("scalar",e),u.typeOf.object("result",n),n.x=t.x/e,n.y=t.y/e,n.z=t.z/e,n.w=t.w/e,n},f.negate=function(t,e){return u.typeOf.object("cartesian",t),u.typeOf.object("result",e),e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=-t.w,e},f.abs=function(t,e){return u.typeOf.object("cartesian",t),u.typeOf.object("result",e),e.x=Math.abs(t.x),e.y=Math.abs(t.y),e.z=Math.abs(t.z),e.w=Math.abs(t.w),e};var y=new f;f.lerp=function(t,e,n,r){return u.typeOf.object("start",t),u.typeOf.object("end",e),u.typeOf.number("t",n),u.typeOf.object("result",r),f.multiplyByScalar(e,n,y),r=f.multiplyByScalar(t,1-n,r),f.add(y,r,r)};var s=new f;f.mostOrthogonalAxis=function(t,e){u.typeOf.object("cartesian",t),u.typeOf.object("result",e);let n=f.normalize(t,s);return f.abs(n,n),e=n.x<=n.y?n.x<=n.z?n.x<=n.w?f.clone(f.UNIT_X,e):f.clone(f.UNIT_W,e):n.z<=n.w?f.clone(f.UNIT_Z,e):f.clone(f.UNIT_W,e):n.y<=n.z?n.y<=n.w?f.clone(f.UNIT_Y,e):f.clone(f.UNIT_W,e):n.z<=n.w?f.clone(f.UNIT_Z,e):f.clone(f.UNIT_W,e)},f.equals=function(t,e){return t===e||i(t)&&i(e)&&t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w},f.equalsArray=function(t,e,n){return t.x===e[n]&&t.y===e[n+1]&&t.z===e[n+2]&&t.w===e[n+3]},f.equalsEpsilon=function(t,e,n,r){return t===e||i(t)&&i(e)&&a.equalsEpsilon(t.x,e.x,n,r)&&a.equalsEpsilon(t.y,e.y,n,r)&&a.equalsEpsilon(t.z,e.z,n,r)&&a.equalsEpsilon(t.w,e.w,n,r)},f.ZERO=Object.freeze(new f(0,0,0,0)),f.ONE=Object.freeze(new f(1,1,1,1)),f.UNIT_X=Object.freeze(new f(1,0,0,0)),f.UNIT_Y=Object.freeze(new f(0,1,0,0)),f.UNIT_Z=Object.freeze(new f(0,0,1,0)),f.UNIT_W=Object.freeze(new f(0,0,0,1)),f.prototype.clone=function(t){return f.clone(this,t)},f.prototype.equals=function(t){return f.equals(this,t)},f.prototype.equalsEpsilon=function(t,e,n){return f.equalsEpsilon(this,t,e,n)},f.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};var l=new Float32Array(1),p=new Uint8Array(l.buffer),O=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];f.packFloat=function(t,e){return u.typeOf.number("value",t),i(e)||(e=new f),l[0]=t,O?(e.x=p[0],e.y=p[1],e.z=p[2],e.w=p[3]):(e.x=p[3],e.y=p[2],e.z=p[1],e.w=p[0]),e},f.unpackFloat=function(t){return u.typeOf.object("packedFloat",t),O?(p[0]=t.x,p[1]=t.y,p[2]=t.z,p[3]=t.w):(p[0]=t.w,p[1]=t.z,p[2]=t.y,p[3]=t.x),l[0]};var b=f;function m(t,e,n,r,a,o,u,i,f,c,y,s,l,p,O,b){this[0]=t??0,this[1]=a??0,this[2]=f??0,this[3]=l??0,this[4]=e??0,this[5]=o??0,this[6]=c??0,this[7]=p??0,this[8]=n??0,this[9]=u??0,this[10]=y??0,this[11]=O??0,this[12]=r??0,this[13]=i??0,this[14]=s??0,this[15]=b??0}m.packedLength=16,m.pack=function(t,e,n){return u.typeOf.object("value",t),u.defined("array",e),n=n??0,e[n++]=t[0],e[n++]=t[1],e[n++]=t[2],e[n++]=t[3],e[n++]=t[4],e[n++]=t[5],e[n++]=t[6],e[n++]=t[7],e[n++]=t[8],e[n++]=t[9],e[n++]=t[10],e[n++]=t[11],e[n++]=t[12],e[n++]=t[13],e[n++]=t[14],e[n]=t[15],e},m.unpack=function(t,e,n){return u.defined("array",t),e=e??0,i(n)||(n=new m),n[0]=t[e++],n[1]=t[e++],n[2]=t[e++],n[3]=t[e++],n[4]=t[e++],n[5]=t[e++],n[6]=t[e++],n[7]=t[e++],n[8]=t[e++],n[9]=t[e++],n[10]=t[e++],n[11]=t[e++],n[12]=t[e++],n[13]=t[e++],n[14]=t[e++],n[15]=t[e],n},m.packArray=function(t,e){u.defined("array",t);let n=t.length,r=16*n;if(i(e)){if(!Array.isArray(e)&&e.length!==r)throw new o("If result is a typed array, it must have exactly array.length * 16 elements");e.length!==r&&(e.length=r)}else e=Array(r);for(let r=0;r<n;++r)m.pack(t[r],e,16*r);return e},m.unpackArray=function(t,e){if(u.defined("array",t),u.typeOf.number.greaterThanOrEquals("array.length",t.length,16),t.length%16!=0)throw new o("array length must be a multiple of 16.");let n=t.length;i(e)?e.length=n/16:e=Array(n/16);for(let r=0;r<n;r+=16){let n=r/16;e[n]=m.unpack(t,r,e[n])}return e},m.clone=function(t,e){if(i(t))return i(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e):new m(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15])},m.fromArray=m.unpack,m.fromColumnMajorArray=function(t,e){return u.defined("values",t),m.clone(t,e)},m.fromRowMajorArray=function(t,e){return u.defined("values",t),i(e)?(e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e):new m(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},m.fromRotationTranslation=function(t,n,r){return u.typeOf.object("rotation",t),n=n??e.ZERO,i(r)?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=0,r[4]=t[3],r[5]=t[4],r[6]=t[5],r[7]=0,r[8]=t[6],r[9]=t[7],r[10]=t[8],r[11]=0,r[12]=n.x,r[13]=n.y,r[14]=n.z,r[15]=1,r):new m(t[0],t[3],t[6],n.x,t[1],t[4],t[7],n.y,t[2],t[5],t[8],n.z,0,0,0,1)},m.fromTranslationQuaternionRotationScale=function(t,e,n,r){u.typeOf.object("translation",t),u.typeOf.object("rotation",e),u.typeOf.object("scale",n),i(r)||(r=new m);let a=n.x,o=n.y,f=n.z,c=e.x*e.x,y=e.x*e.y,s=e.x*e.z,l=e.x*e.w,p=e.y*e.y,O=e.y*e.z,b=e.y*e.w,h=e.z*e.z,j=e.z*e.w,x=e.w*e.w;return r[0]=(c-p-h+x)*a,r[1]=2*(y+j)*a,r[2]=2*(s-b)*a,r[3]=0,r[4]=2*(y-j)*o,r[5]=(-c+p-h+x)*o,r[6]=2*(O+l)*o,r[7]=0,r[8]=2*(s+b)*f,r[9]=2*(O-l)*f,r[10]=(-c-p+h+x)*f,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,r},m.fromTranslationRotationScale=function(t,e){return u.typeOf.object("translationRotationScale",t),m.fromTranslationQuaternionRotationScale(t.translation,t.rotation,t.scale,e)},m.fromTranslation=function(t,e){return u.typeOf.object("translation",t),m.fromRotationTranslation(n.IDENTITY,t,e)},m.fromScale=function(t,e){return u.typeOf.object("scale",t),i(e)?(e[0]=t.x,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t.y,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t.z,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e):new m(t.x,0,0,0,0,t.y,0,0,0,0,t.z,0,0,0,0,1)},m.fromUniformScale=function(t,e){return u.typeOf.number("scale",t),i(e)?(e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e):new m(t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1)},m.fromRotation=function(t,e){return u.typeOf.object("rotation",t),i(e)||(e=new m),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=0,e[4]=t[3],e[5]=t[4],e[6]=t[5],e[7]=0,e[8]=t[6],e[9]=t[7],e[10]=t[8],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e};var h=new e,j=new e,x=new e;m.fromCamera=function(t,n){u.typeOf.object("camera",t);let r=t.position,a=t.direction,o=t.up;u.typeOf.object("camera.position",r),u.typeOf.object("camera.direction",a),u.typeOf.object("camera.up",o),e.normalize(a,h),e.normalize(e.cross(h,o,j),j),e.normalize(e.cross(j,h,x),x);let f=j.x,c=j.y,y=j.z,s=h.x,l=h.y,p=h.z,O=x.x,b=x.y,w=x.z,z=r.x,g=r.y,d=r.z,M=-(f*z)+-(c*g)+-(y*d),T=-(O*z)+-(b*g)+-(w*d),N=s*z+l*g+p*d;return i(n)?(n[0]=f,n[1]=O,n[2]=-s,n[3]=0,n[4]=c,n[5]=b,n[6]=-l,n[7]=0,n[8]=y,n[9]=w,n[10]=-p,n[11]=0,n[12]=M,n[13]=T,n[14]=N,n[15]=1,n):new m(f,c,y,M,O,b,w,T,-s,-l,-p,N,0,0,0,1)},m.computePerspectiveFieldOfView=function(t,e,n,r,a){u.typeOf.number.greaterThan("fovY",t,0),u.typeOf.number.lessThan("fovY",t,Math.PI),u.typeOf.number.greaterThan("near",n,0),u.typeOf.number.greaterThan("far",r,0),u.typeOf.object("result",a);let o=1/Math.tan(.5*t);return a[0]=o/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(r+n)/(n-r),a[11]=-1,a[12]=0,a[13]=0,a[14]=2*r*n/(n-r),a[15]=0,a},m.computeOrthographicOffCenter=function(t,e,n,r,a,o,i){u.typeOf.number("left",t),u.typeOf.number("right",e),u.typeOf.number("bottom",n),u.typeOf.number("top",r),u.typeOf.number("near",a),u.typeOf.number("far",o),u.typeOf.object("result",i);let f=1/(e-t),c=1/(r-n),y=1/(o-a),s=-(e+t)*f,l=-(r+n)*c,p=-(o+a)*y;return f*=2,c*=2,y*=-2,i[0]=f,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=y,i[11]=0,i[12]=s,i[13]=l,i[14]=p,i[15]=1,i},m.computePerspectiveOffCenter=function(t,e,n,r,a,o,i){return u.typeOf.number("left",t),u.typeOf.number("right",e),u.typeOf.number("bottom",n),u.typeOf.number("top",r),u.typeOf.number("near",a),u.typeOf.number("far",o),u.typeOf.object("result",i),i[0]=2*a/(e-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*a/(r-n),i[6]=0,i[7]=0,i[8]=(e+t)/(e-t),i[9]=(r+n)/(r-n),i[10]=-(o+a)/(o-a),i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*o*a/(o-a),i[15]=0,i},m.computeInfinitePerspectiveOffCenter=function(t,e,n,r,a,o){return u.typeOf.number("left",t),u.typeOf.number("right",e),u.typeOf.number("bottom",n),u.typeOf.number("top",r),u.typeOf.number("near",a),u.typeOf.object("result",o),o[0]=2*a/(e-t),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*a/(r-n),o[6]=0,o[7]=0,o[8]=(e+t)/(e-t),o[9]=(r+n)/(r-n),o[10]=-1,o[11]=-1,o[12]=0,o[13]=0,o[14]=-2*a,o[15]=0,o},m.computeViewportTransformation=function(t,e,n,a){i(a)||(a=new m);let o=(t=t??r.EMPTY_OBJECT).x??0,u=t.y??0,f=t.width??0,c=t.height??0,y=.5*f,s=.5*c,l=((n=n??1)-(e=e??0))*.5,p=o+y,O=u+s,b=e+l;return a[0]=y,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=s,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=l,a[11]=0,a[12]=p,a[13]=O,a[14]=b,a[15]=1,a},m.computeView=function(t,n,r,a,o){return u.typeOf.object("position",t),u.typeOf.object("direction",n),u.typeOf.object("up",r),u.typeOf.object("right",a),u.typeOf.object("result",o),o[0]=a.x,o[1]=r.x,o[2]=-n.x,o[3]=0,o[4]=a.y,o[5]=r.y,o[6]=-n.y,o[7]=0,o[8]=a.z,o[9]=r.z,o[10]=-n.z,o[11]=0,o[12]=-e.dot(a,t),o[13]=-e.dot(r,t),o[14]=e.dot(n,t),o[15]=1,o},m.toArray=function(t,e){return u.typeOf.object("matrix",t),i(e)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e):[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},m.getElementIndex=function(t,e){return u.typeOf.number.greaterThanOrEquals("row",e,0),u.typeOf.number.lessThanOrEquals("row",e,3),u.typeOf.number.greaterThanOrEquals("column",t,0),u.typeOf.number.lessThanOrEquals("column",t,3),4*t+e},m.getColumn=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.number.greaterThanOrEquals("index",e,0),u.typeOf.number.lessThanOrEquals("index",e,3),u.typeOf.object("result",n);let r=4*e,a=t[r],o=t[r+1],i=t[r+2],f=t[r+3];return n.x=a,n.y=o,n.z=i,n.w=f,n},m.setColumn=function(t,e,n,r){u.typeOf.object("matrix",t),u.typeOf.number.greaterThanOrEquals("index",e,0),u.typeOf.number.lessThanOrEquals("index",e,3),u.typeOf.object("cartesian",n),u.typeOf.object("result",r),r=m.clone(t,r);let a=4*e;return r[a]=n.x,r[a+1]=n.y,r[a+2]=n.z,r[a+3]=n.w,r},m.getRow=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.number.greaterThanOrEquals("index",e,0),u.typeOf.number.lessThanOrEquals("index",e,3),u.typeOf.object("result",n);let r=t[e],a=t[e+4],o=t[e+8],i=t[e+12];return n.x=r,n.y=a,n.z=o,n.w=i,n},m.setRow=function(t,e,n,r){return u.typeOf.object("matrix",t),u.typeOf.number.greaterThanOrEquals("index",e,0),u.typeOf.number.lessThanOrEquals("index",e,3),u.typeOf.object("cartesian",n),u.typeOf.object("result",r),(r=m.clone(t,r))[e]=n.x,r[e+4]=n.y,r[e+8]=n.z,r[e+12]=n.w,r},m.setTranslation=function(t,e,n){return u.typeOf.object("matrix",t),u.typeOf.object("translation",e),u.typeOf.object("result",n),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=t[15],n};var w=new e;m.setScale=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("scale",e),u.typeOf.object("result",n);let r=m.getScale(t,w),a=e.x/r.x,o=e.y/r.y,i=e.z/r.z;return n[0]=t[0]*a,n[1]=t[1]*a,n[2]=t[2]*a,n[3]=t[3],n[4]=t[4]*o,n[5]=t[5]*o,n[6]=t[6]*o,n[7]=t[7],n[8]=t[8]*i,n[9]=t[9]*i,n[10]=t[10]*i,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n};var z=new e;m.setUniformScale=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.number("scale",e),u.typeOf.object("result",n);let r=m.getScale(t,z),a=e/r.x,o=e/r.y,i=e/r.z;return n[0]=t[0]*a,n[1]=t[1]*a,n[2]=t[2]*a,n[3]=t[3],n[4]=t[4]*o,n[5]=t[5]*o,n[6]=t[6]*o,n[7]=t[7],n[8]=t[8]*i,n[9]=t[9]*i,n[10]=t[10]*i,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n};var g=new e;m.getScale=function(t,n){return u.typeOf.object("matrix",t),u.typeOf.object("result",n),n.x=e.magnitude(e.fromElements(t[0],t[1],t[2],g)),n.y=e.magnitude(e.fromElements(t[4],t[5],t[6],g)),n.z=e.magnitude(e.fromElements(t[8],t[9],t[10],g)),n};var d=new e;m.getMaximumScale=function(t){return m.getScale(t,d),e.maximumComponent(d)};var M=new e;m.setRotation=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("result",n);let r=m.getScale(t,M);return n[0]=e[0]*r.x,n[1]=e[1]*r.x,n[2]=e[2]*r.x,n[3]=t[3],n[4]=e[3]*r.y,n[5]=e[4]*r.y,n[6]=e[5]*r.y,n[7]=t[7],n[8]=e[6]*r.z,n[9]=e[7]*r.z,n[10]=e[8]*r.z,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n};var T=new e;m.getRotation=function(t,e){u.typeOf.object("matrix",t),u.typeOf.object("result",e);let n=m.getScale(t,T);return e[0]=t[0]/n.x,e[1]=t[1]/n.x,e[2]=t[2]/n.x,e[3]=t[4]/n.y,e[4]=t[5]/n.y,e[5]=t[6]/n.y,e[6]=t[8]/n.z,e[7]=t[9]/n.z,e[8]=t[10]/n.z,e},m.multiply=function(t,e,n){u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n);let r=t[0],a=t[1],o=t[2],i=t[3],f=t[4],c=t[5],y=t[6],s=t[7],l=t[8],p=t[9],O=t[10],b=t[11],m=t[12],h=t[13],j=t[14],x=t[15],w=e[0],z=e[1],g=e[2],d=e[3],M=e[4],T=e[5],N=e[6],E=e[7],q=e[8],v=e[9],U=e[10],C=e[11],R=e[12],S=e[13],A=e[14],k=e[15];return n[0]=r*w+f*z+l*g+m*d,n[1]=a*w+c*z+p*g+h*d,n[2]=o*w+y*z+O*g+j*d,n[3]=i*w+s*z+b*g+x*d,n[4]=r*M+f*T+l*N+m*E,n[5]=a*M+c*T+p*N+h*E,n[6]=o*M+y*T+O*N+j*E,n[7]=i*M+s*T+b*N+x*E,n[8]=r*q+f*v+l*U+m*C,n[9]=a*q+c*v+p*U+h*C,n[10]=o*q+y*v+O*U+j*C,n[11]=i*q+s*v+b*U+x*C,n[12]=r*R+f*S+l*A+m*k,n[13]=a*R+c*S+p*A+h*k,n[14]=o*R+y*S+O*A+j*k,n[15]=i*R+s*S+b*A+x*k,n},m.add=function(t,e,n){return u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n),n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n[3]=t[3]+e[3],n[4]=t[4]+e[4],n[5]=t[5]+e[5],n[6]=t[6]+e[6],n[7]=t[7]+e[7],n[8]=t[8]+e[8],n[9]=t[9]+e[9],n[10]=t[10]+e[10],n[11]=t[11]+e[11],n[12]=t[12]+e[12],n[13]=t[13]+e[13],n[14]=t[14]+e[14],n[15]=t[15]+e[15],n},m.subtract=function(t,e,n){return u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n),n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n[3]=t[3]-e[3],n[4]=t[4]-e[4],n[5]=t[5]-e[5],n[6]=t[6]-e[6],n[7]=t[7]-e[7],n[8]=t[8]-e[8],n[9]=t[9]-e[9],n[10]=t[10]-e[10],n[11]=t[11]-e[11],n[12]=t[12]-e[12],n[13]=t[13]-e[13],n[14]=t[14]-e[14],n[15]=t[15]-e[15],n},m.multiplyTransformation=function(t,e,n){u.typeOf.object("left",t),u.typeOf.object("right",e),u.typeOf.object("result",n);let r=t[0],a=t[1],o=t[2],i=t[4],f=t[5],c=t[6],y=t[8],s=t[9],l=t[10],p=t[12],O=t[13],b=t[14],m=e[0],h=e[1],j=e[2],x=e[4],w=e[5],z=e[6],g=e[8],d=e[9],M=e[10],T=e[12],N=e[13],E=e[14];return n[0]=r*m+i*h+y*j,n[1]=a*m+f*h+s*j,n[2]=o*m+c*h+l*j,n[3]=0,n[4]=r*x+i*w+y*z,n[5]=a*x+f*w+s*z,n[6]=o*x+c*w+l*z,n[7]=0,n[8]=r*g+i*d+y*M,n[9]=a*g+f*d+s*M,n[10]=o*g+c*d+l*M,n[11]=0,n[12]=r*T+i*N+y*E+p,n[13]=a*T+f*N+s*E+O,n[14]=o*T+c*N+l*E+b,n[15]=1,n},m.multiplyByMatrix3=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("rotation",e),u.typeOf.object("result",n);let r=t[0],a=t[1],o=t[2],i=t[4],f=t[5],c=t[6],y=t[8],s=t[9],l=t[10],p=e[0],O=e[1],b=e[2],m=e[3],h=e[4],j=e[5],x=e[6],w=e[7],z=e[8];return n[0]=r*p+i*O+y*b,n[1]=a*p+f*O+s*b,n[2]=o*p+c*O+l*b,n[3]=0,n[4]=r*m+i*h+y*j,n[5]=a*m+f*h+s*j,n[6]=o*m+c*h+l*j,n[7]=0,n[8]=r*x+i*w+y*z,n[9]=a*x+f*w+s*z,n[10]=o*x+c*w+l*z,n[11]=0,n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},m.multiplyByTranslation=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("translation",e),u.typeOf.object("result",n);let r=e.x,a=e.y,o=e.z,i=r*t[0]+a*t[4]+o*t[8]+t[12],f=r*t[1]+a*t[5]+o*t[9]+t[13],c=r*t[2]+a*t[6]+o*t[10]+t[14];return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=i,n[13]=f,n[14]=c,n[15]=t[15],n},m.multiplyByScale=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("scale",e),u.typeOf.object("result",n);let r=e.x,a=e.y,o=e.z;return 1===r&&1===a&&1===o?m.clone(t,n):(n[0]=r*t[0],n[1]=r*t[1],n[2]=r*t[2],n[3]=t[3],n[4]=a*t[4],n[5]=a*t[5],n[6]=a*t[6],n[7]=t[7],n[8]=o*t[8],n[9]=o*t[9],n[10]=o*t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n)},m.multiplyByUniformScale=function(t,e,n){return u.typeOf.object("matrix",t),u.typeOf.number("scale",e),u.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3],n[4]=t[4]*e,n[5]=t[5]*e,n[6]=t[6]*e,n[7]=t[7],n[8]=t[8]*e,n[9]=t[9]*e,n[10]=t[10]*e,n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},m.multiplyByVector=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("cartesian",e),u.typeOf.object("result",n);let r=e.x,a=e.y,o=e.z,i=e.w,f=t[0]*r+t[4]*a+t[8]*o+t[12]*i,c=t[1]*r+t[5]*a+t[9]*o+t[13]*i,y=t[2]*r+t[6]*a+t[10]*o+t[14]*i,s=t[3]*r+t[7]*a+t[11]*o+t[15]*i;return n.x=f,n.y=c,n.z=y,n.w=s,n},m.multiplyByPointAsVector=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("cartesian",e),u.typeOf.object("result",n);let r=e.x,a=e.y,o=e.z,i=t[0]*r+t[4]*a+t[8]*o,f=t[1]*r+t[5]*a+t[9]*o,c=t[2]*r+t[6]*a+t[10]*o;return n.x=i,n.y=f,n.z=c,n},m.multiplyByPoint=function(t,e,n){u.typeOf.object("matrix",t),u.typeOf.object("cartesian",e),u.typeOf.object("result",n);let r=e.x,a=e.y,o=e.z,i=t[0]*r+t[4]*a+t[8]*o+t[12],f=t[1]*r+t[5]*a+t[9]*o+t[13],c=t[2]*r+t[6]*a+t[10]*o+t[14];return n.x=i,n.y=f,n.z=c,n},m.multiplyByScalar=function(t,e,n){return u.typeOf.object("matrix",t),u.typeOf.number("scalar",e),u.typeOf.object("result",n),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n[4]=t[4]*e,n[5]=t[5]*e,n[6]=t[6]*e,n[7]=t[7]*e,n[8]=t[8]*e,n[9]=t[9]*e,n[10]=t[10]*e,n[11]=t[11]*e,n[12]=t[12]*e,n[13]=t[13]*e,n[14]=t[14]*e,n[15]=t[15]*e,n},m.negate=function(t,e){return u.typeOf.object("matrix",t),u.typeOf.object("result",e),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=-t[7],e[8]=-t[8],e[9]=-t[9],e[10]=-t[10],e[11]=-t[11],e[12]=-t[12],e[13]=-t[13],e[14]=-t[14],e[15]=-t[15],e},m.transpose=function(t,e){u.typeOf.object("matrix",t),u.typeOf.object("result",e);let n=t[1],r=t[2],a=t[3],o=t[6],i=t[7],f=t[11];return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[10]=t[10],e[11]=t[14],e[12]=a,e[13]=i,e[14]=f,e[15]=t[15],e},m.abs=function(t,e){return u.typeOf.object("matrix",t),u.typeOf.object("result",e),e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e[3]=Math.abs(t[3]),e[4]=Math.abs(t[4]),e[5]=Math.abs(t[5]),e[6]=Math.abs(t[6]),e[7]=Math.abs(t[7]),e[8]=Math.abs(t[8]),e[9]=Math.abs(t[9]),e[10]=Math.abs(t[10]),e[11]=Math.abs(t[11]),e[12]=Math.abs(t[12]),e[13]=Math.abs(t[13]),e[14]=Math.abs(t[14]),e[15]=Math.abs(t[15]),e},m.equals=function(t,e){return t===e||i(t)&&i(e)&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[3]===e[3]&&t[7]===e[7]&&t[11]===e[11]&&t[15]===e[15]},m.equalsEpsilon=function(t,e,n){return n=n??0,t===e||i(t)&&i(e)&&Math.abs(t[0]-e[0])<=n&&Math.abs(t[1]-e[1])<=n&&Math.abs(t[2]-e[2])<=n&&Math.abs(t[3]-e[3])<=n&&Math.abs(t[4]-e[4])<=n&&Math.abs(t[5]-e[5])<=n&&Math.abs(t[6]-e[6])<=n&&Math.abs(t[7]-e[7])<=n&&Math.abs(t[8]-e[8])<=n&&Math.abs(t[9]-e[9])<=n&&Math.abs(t[10]-e[10])<=n&&Math.abs(t[11]-e[11])<=n&&Math.abs(t[12]-e[12])<=n&&Math.abs(t[13]-e[13])<=n&&Math.abs(t[14]-e[14])<=n&&Math.abs(t[15]-e[15])<=n},m.getTranslation=function(t,e){return u.typeOf.object("matrix",t),u.typeOf.object("result",e),e.x=t[12],e.y=t[13],e.z=t[14],e},m.getMatrix3=function(t,e){return u.typeOf.object("matrix",t),u.typeOf.object("result",e),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e};var N=new n,E=new n,q=new b,v=new b(0,0,0,1);m.inverse=function(e,r){u.typeOf.object("matrix",e),u.typeOf.object("result",r);let o=e[0],i=e[4],f=e[8],c=e[12],y=e[1],s=e[5],l=e[9],p=e[13],O=e[2],h=e[6],j=e[10],x=e[14],w=e[3],z=e[7],g=e[11],d=e[15],M=j*d,T=x*g,U=h*d,C=x*z,R=h*g,S=j*z,A=O*d,k=x*w,I=O*g,W=j*w,L=O*z,$=h*w,B=M*s+C*l+R*p-(T*s+U*l+S*p),_=T*y+A*l+W*p-(M*y+k*l+I*p),P=U*y+k*s+L*p-(C*y+A*s+$*p),Y=S*y+I*s+$*l-(R*y+W*s+L*l),V=T*i+U*f+S*c-(M*i+C*f+R*c),F=M*o+k*f+I*c-(T*o+A*f+W*c),Z=C*o+A*i+$*c-(U*o+k*i+L*c),X=R*o+W*i+L*f-(S*o+I*i+$*f);M=f*p,T=c*l,U=i*p,C=c*s,R=i*l,S=f*s,A=o*p,k=c*y,I=o*l,W=f*y,L=o*s,$=i*y;let D=M*z+C*g+R*d-(T*z+U*g+S*d),G=T*w+A*g+W*d-(M*w+k*g+I*d),J=U*w+k*z+L*d-(C*w+A*z+$*d),Q=S*w+I*z+$*g-(R*w+W*z+L*g),K=U*j+S*x+T*h-(R*x+M*h+C*j),H=I*x+M*O+k*j-(A*j+W*x+T*O),tt=A*h+$*x+C*O-(L*x+U*O+k*h),te=L*j+R*O+W*h-(I*h+$*j+S*O),tn=o*B+i*_+f*P+c*Y;if(Math.abs(tn)<a.EPSILON21){if(n.equalsEpsilon(m.getMatrix3(e,N),E,a.EPSILON7)&&b.equals(m.getRow(e,3,q),v))return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=0,r[11]=0,r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=1,r;throw new t("matrix is not invertible because its determinate is zero.")}return tn=1/tn,r[0]=B*tn,r[1]=_*tn,r[2]=P*tn,r[3]=Y*tn,r[4]=V*tn,r[5]=F*tn,r[6]=Z*tn,r[7]=X*tn,r[8]=D*tn,r[9]=G*tn,r[10]=J*tn,r[11]=Q*tn,r[12]=K*tn,r[13]=H*tn,r[14]=tt*tn,r[15]=te*tn,r},m.inverseTransformation=function(t,e){u.typeOf.object("matrix",t),u.typeOf.object("result",e);let n=t[0],r=t[1],a=t[2],o=t[4],i=t[5],f=t[6],c=t[8],y=t[9],s=t[10],l=t[12],p=t[13],O=t[14],b=-n*l-r*p-a*O,m=-o*l-i*p-f*O,h=-c*l-y*p-s*O;return e[0]=n,e[1]=o,e[2]=c,e[3]=0,e[4]=r,e[5]=i,e[6]=y,e[7]=0,e[8]=a,e[9]=f,e[10]=s,e[11]=0,e[12]=b,e[13]=m,e[14]=h,e[15]=1,e};var U=new m;m.inverseTranspose=function(t,e){return u.typeOf.object("matrix",t),u.typeOf.object("result",e),m.inverse(m.transpose(t,U),e)},m.IDENTITY=Object.freeze(new m(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),m.ZERO=Object.freeze(new m(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),m.COLUMN0ROW0=0,m.COLUMN0ROW1=1,m.COLUMN0ROW2=2,m.COLUMN0ROW3=3,m.COLUMN1ROW0=4,m.COLUMN1ROW1=5,m.COLUMN1ROW2=6,m.COLUMN1ROW3=7,m.COLUMN2ROW0=8,m.COLUMN2ROW1=9,m.COLUMN2ROW2=10,m.COLUMN2ROW3=11,m.COLUMN3ROW0=12,m.COLUMN3ROW1=13,m.COLUMN3ROW2=14,m.COLUMN3ROW3=15,Object.defineProperties(m.prototype,{length:{get:function(){return m.packedLength}}}),m.prototype.clone=function(t){return m.clone(this,t)},m.prototype.equals=function(t){return m.equals(this,t)},m.equalsArray=function(t,e,n){return t[0]===e[n]&&t[1]===e[n+1]&&t[2]===e[n+2]&&t[3]===e[n+3]&&t[4]===e[n+4]&&t[5]===e[n+5]&&t[6]===e[n+6]&&t[7]===e[n+7]&&t[8]===e[n+8]&&t[9]===e[n+9]&&t[10]===e[n+10]&&t[11]===e[n+11]&&t[12]===e[n+12]&&t[13]===e[n+13]&&t[14]===e[n+14]&&t[15]===e[n+15]},m.prototype.equalsEpsilon=function(t,e){return m.equalsEpsilon(this,t,e)},m.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})
(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})
(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})
(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`};var C=m;export{b as a,C as b};