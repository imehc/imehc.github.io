import{a as e}from"./chunk-4VFKVGYI.js";import{a as t,b as n}from"./chunk-3WJNS2B6.js";import{e as r}from"./chunk-XCN226AA.js";function a(e,t,n){this.x=e??0,this.y=t??0,this.z=n??0}a.fromSpherical=function(e,t){n.typeOf.object("spherical",e),r(t)||(t=new a);let o=e.clock,u=e.cone,i=e.magnitude??1,l=i*Math.sin(u);return t.x=l*Math.cos(o),t.y=l*Math.sin(o),t.z=i*Math.cos(u),t},a.fromElements=function(e,t,n,o){return r(o)?(o.x=e,o.y=t,o.z=n,o):new a(e,t,n)},a.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(e,t,r){return n.typeOf.object("value",e),n.defined("array",t),r=r??0,t[r++]=e.x,t[r++]=e.y,t[r]=e.z,t},a.unpack=function(e,t,o){return n.defined("array",e),t=t??0,r(o)||(o=new a),o.x=e[t++],o.y=e[t++],o.z=e[t],o},a.packArray=function(e,o){n.defined("array",e);let u=e.length,i=3*u;if(r(o)){if(!Array.isArray(o)&&o.length!==i)throw new t("If result is a typed array, it must have exactly array.length * 3 elements");o.length!==i&&(o.length=i)}else o=Array(i);for(let t=0;t<u;++t)a.pack(e[t],o,3*t);return o},a.unpackArray=function(e,o){if(n.defined("array",e),n.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new t("array length must be a multiple of 3.");let u=e.length;r(o)?o.length=u/3:o=Array(u/3);for(let t=0;t<u;t+=3){let n=t/3;o[n]=a.unpack(e,t,o[n])}return o},a.fromArray=a.unpack,a.maximumComponent=function(e){return n.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},a.minimumComponent=function(e){return n.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},a.minimumByComponent=function(e,t,r){return n.typeOf.object("first",e),n.typeOf.object("second",t),n.typeOf.object("result",r),r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r},a.maximumByComponent=function(e,t,r){return n.typeOf.object("first",e),n.typeOf.object("second",t),n.typeOf.object("result",r),r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r},a.clamp=function(t,r,a,o){n.typeOf.object("value",t),n.typeOf.object("min",r),n.typeOf.object("max",a),n.typeOf.object("result",o);let u=e.clamp(t.x,r.x,a.x),i=e.clamp(t.y,r.y,a.y),l=e.clamp(t.z,r.z,a.z);return o.x=u,o.y=i,o.z=l,o},a.magnitudeSquared=function(e){return n.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var o=new a;a.distance=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),a.subtract(e,t,o),a.magnitude(o)},a.distanceSquared=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),a.subtract(e,t,o),a.magnitudeSquared(o)},a.normalize=function(e,r){n.typeOf.object("cartesian",e),n.typeOf.object("result",r);let o=a.magnitude(e);if(r.x=e.x/o,r.y=e.y/o,r.z=e.z/o,isNaN(r.x)||isNaN(r.y)||isNaN(r.z))throw new t("normalized result is not a number");return r},a.dot=function(e,t){return n.typeOf.object("left",e),n.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},a.multiplyComponents=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r},a.divideComponents=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r},a.add=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},a.subtract=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},a.multiplyByScalar=function(e,t,r){return n.typeOf.object("cartesian",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r},a.divideByScalar=function(e,t,r){return n.typeOf.object("cartesian",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r},a.negate=function(e,t){return n.typeOf.object("cartesian",e),n.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},a.abs=function(e,t){return n.typeOf.object("cartesian",e),n.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var u=new a;a.lerp=function(e,t,r,o){return n.typeOf.object("start",e),n.typeOf.object("end",t),n.typeOf.number("t",r),n.typeOf.object("result",o),a.multiplyByScalar(t,r,u),o=a.multiplyByScalar(e,1-r,o),a.add(u,o,o)};var i=new a,l=new a;a.angleBetween=function(e,t){n.typeOf.object("left",e),n.typeOf.object("right",t),a.normalize(e,i),a.normalize(t,l);let r=a.dot(i,l);return Math.atan2(a.magnitude(a.cross(i,l,i)),r)};var f=new a;a.mostOrthogonalAxis=function(e,t){n.typeOf.object("cartesian",e),n.typeOf.object("result",t);let r=a.normalize(e,f);return a.abs(r,r),t=r.x<=r.y?r.x<=r.z?a.clone(a.UNIT_X,t):a.clone(a.UNIT_Z,t):r.y<=r.z?a.clone(a.UNIT_Y,t):a.clone(a.UNIT_Z,t)},a.projectVector=function(e,t,r){n.defined("a",e),n.defined("b",t),n.defined("result",r);let o=a.dot(e,t)/a.dot(t,t);return a.multiplyByScalar(t,o,r)},a.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},a.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},a.equalsEpsilon=function(t,n,a,o){return t===n||r(t)&&r(n)&&e.equalsEpsilon(t.x,n.x,a,o)&&e.equalsEpsilon(t.y,n.y,a,o)&&e.equalsEpsilon(t.z,n.z,a,o)},a.cross=function(e,t,r){n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r);let a=e.x,o=e.y,u=e.z,i=t.x,l=t.y,f=t.z;return r.x=o*f-u*l,r.y=u*i-a*f,r.z=a*l-o*i,r},a.midpoint=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r.x=(e.x+t.x)*.5,r.y=(e.y+t.y)*.5,r.z=(e.z+t.z)*.5,r},a.fromDegrees=function(t,r,o,u,i){return n.typeOf.number("longitude",t),n.typeOf.number("latitude",r),t=e.toRadians(t),r=e.toRadians(r),a.fromRadians(t,r,o,u,i)};var c=new a,y=new a;a._ellipsoidRadiiSquared=new a(0x24ffb2985f71,0x24ffb2985f71,40408299984661.445),a.fromRadians=function(e,t,o,u,i){n.typeOf.number("longitude",e),n.typeOf.number("latitude",t),o=o??0;let l=r(u)?u.radiiSquared:a._ellipsoidRadiiSquared,f=Math.cos(t);c.x=f*Math.cos(e),c.y=f*Math.sin(e),c.z=Math.sin(t),c=a.normalize(c,c),a.multiplyComponents(l,c,y);let s=Math.sqrt(a.dot(c,y));return y=a.divideByScalar(y,s,y),c=a.multiplyByScalar(c,o,c),r(i)||(i=new a),a.add(y,c,i)},a.fromDegreesArray=function(e,o,u){if(n.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t("the number of coordinates must be a multiple of 2 and at least 2");let i=e.length;r(u)?u.length=i/2:u=Array(i/2);for(let t=0;t<i;t+=2){let n=e[t],r=e[t+1],i=t/2;u[i]=a.fromDegrees(n,r,0,o,u[i])}return u},a.fromRadiansArray=function(e,o,u){if(n.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t("the number of coordinates must be a multiple of 2 and at least 2");let i=e.length;r(u)?u.length=i/2:u=Array(i/2);for(let t=0;t<i;t+=2){let n=e[t],r=e[t+1],i=t/2;u[i]=a.fromRadians(n,r,0,o,u[i])}return u},a.fromDegreesArrayHeights=function(e,o,u){if(n.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t("the number of coordinates must be a multiple of 3 and at least 3");let i=e.length;r(u)?u.length=i/3:u=Array(i/3);for(let t=0;t<i;t+=3){let n=e[t],r=e[t+1],i=e[t+2],l=t/3;u[l]=a.fromDegrees(n,r,i,o,u[l])}return u},a.fromRadiansArrayHeights=function(e,o,u){if(n.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t("the number of coordinates must be a multiple of 3 and at least 3");let i=e.length;r(u)?u.length=i/3:u=Array(i/3);for(let t=0;t<i;t+=3){let n=e[t],r=e[t+1],i=e[t+2],l=t/3;u[l]=a.fromRadians(n,r,i,o,u[l])}return u},a.ZERO=Object.freeze(new a(0,0,0)),a.ONE=Object.freeze(new a(1,1,1)),a.UNIT_X=Object.freeze(new a(1,0,0)),a.UNIT_Y=Object.freeze(new a(0,1,0)),a.UNIT_Z=Object.freeze(new a(0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,n){return a.equalsEpsilon(this,e,t,n)},a.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};var s=a;function p(e,t,n,r,a,o,u,i,l){this[0]=e??0,this[1]=r??0,this[2]=u??0,this[3]=t??0,this[4]=a??0,this[5]=i??0,this[6]=n??0,this[7]=o??0,this[8]=l??0}p.packedLength=9,p.pack=function(e,t,r){return n.typeOf.object("value",e),n.defined("array",t),r=r??0,t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t},p.unpack=function(e,t,a){return n.defined("array",e),t=t??0,r(a)||(a=new p),a[0]=e[t++],a[1]=e[t++],a[2]=e[t++],a[3]=e[t++],a[4]=e[t++],a[5]=e[t++],a[6]=e[t++],a[7]=e[t++],a[8]=e[t++],a},p.packArray=function(e,a){n.defined("array",e);let o=e.length,u=9*o;if(r(a)){if(!Array.isArray(a)&&a.length!==u)throw new t("If result is a typed array, it must have exactly array.length * 9 elements");a.length!==u&&(a.length=u)}else a=Array(u);for(let t=0;t<o;++t)p.pack(e[t],a,9*t);return a},p.unpackArray=function(e,a){if(n.defined("array",e),n.typeOf.number.greaterThanOrEquals("array.length",e.length,9),e.length%9!=0)throw new t("array length must be a multiple of 9.");let o=e.length;r(a)?a.length=o/9:a=Array(o/9);for(let t=0;t<o;t+=9){let n=t/9;a[n]=p.unpack(e,t,a[n])}return a},p.clone=function(e,t){if(r(e))return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new p(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},p.fromArray=p.unpack,p.fromColumnMajorArray=function(e,t){return n.defined("values",e),p.clone(e,t)},p.fromRowMajorArray=function(e,t){return n.defined("values",e),r(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new p(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},p.fromQuaternion=function(e,t){n.typeOf.object("quaternion",e);let a=e.x*e.x,o=e.x*e.y,u=e.x*e.z,i=e.x*e.w,l=e.y*e.y,f=e.y*e.z,c=e.y*e.w,y=e.z*e.z,s=e.z*e.w,m=e.w*e.w,b=a-l-y+m,O=2*(o-s),h=2*(u+c),x=2*(o+s),d=-a+l-y+m,j=2*(f-i),g=2*(u-c),z=2*(f+i),M=-a-l+y+m;return r(t)?(t[0]=b,t[1]=x,t[2]=g,t[3]=O,t[4]=d,t[5]=z,t[6]=h,t[7]=j,t[8]=M,t):new p(b,O,h,x,d,j,g,z,M)},p.fromHeadingPitchRoll=function(e,t){n.typeOf.object("headingPitchRoll",e);let a=Math.cos(-e.pitch),o=Math.cos(-e.heading),u=Math.cos(e.roll),i=Math.sin(-e.pitch),l=Math.sin(-e.heading),f=Math.sin(e.roll),c=a*o,y=-u*l+f*i*o,s=f*l+u*i*o,m=a*l,b=u*o+f*i*l,O=-f*o+u*i*l,h=-i,x=f*a,d=u*a;return r(t)?(t[0]=c,t[1]=m,t[2]=h,t[3]=y,t[4]=b,t[5]=x,t[6]=s,t[7]=O,t[8]=d,t):new p(c,y,s,m,b,O,h,x,d)},p.fromScale=function(e,t){return n.typeOf.object("scale",e),r(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new p(e.x,0,0,0,e.y,0,0,0,e.z)},p.fromUniformScale=function(e,t){return n.typeOf.number("scale",e),r(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new p(e,0,0,0,e,0,0,0,e)},p.fromCrossProduct=function(e,t){return n.typeOf.object("vector",e),r(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new p(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},p.fromRotationX=function(e,t){n.typeOf.number("angle",e);let a=Math.cos(e),o=Math.sin(e);return r(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=a,t[5]=o,t[6]=0,t[7]=-o,t[8]=a,t):new p(1,0,0,0,a,-o,0,o,a)},p.fromRotationY=function(e,t){n.typeOf.number("angle",e);let a=Math.cos(e),o=Math.sin(e);return r(t)?(t[0]=a,t[1]=0,t[2]=-o,t[3]=0,t[4]=1,t[5]=0,t[6]=o,t[7]=0,t[8]=a,t):new p(a,0,o,0,1,0,-o,0,a)},p.fromRotationZ=function(e,t){n.typeOf.number("angle",e);let a=Math.cos(e),o=Math.sin(e);return r(t)?(t[0]=a,t[1]=o,t[2]=0,t[3]=-o,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new p(a,-o,0,o,a,0,0,0,1)},p.toArray=function(e,t){return n.typeOf.object("matrix",e),r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},p.getElementIndex=function(e,t){return n.typeOf.number.greaterThanOrEquals("row",t,0),n.typeOf.number.lessThanOrEquals("row",t,2),n.typeOf.number.greaterThanOrEquals("column",e,0),n.typeOf.number.lessThanOrEquals("column",e,2),3*e+t},p.getColumn=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("result",r);let a=3*t,o=e[a],u=e[a+1],i=e[a+2];return r.x=o,r.y=u,r.z=i,r},p.setColumn=function(e,t,r,a){n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("cartesian",r),n.typeOf.object("result",a),a=p.clone(e,a);let o=3*t;return a[o]=r.x,a[o+1]=r.y,a[o+2]=r.z,a},p.getRow=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("result",r);let a=e[t],o=e[t+3],u=e[t+6];return r.x=a,r.y=o,r.z=u,r},p.setRow=function(e,t,r,a){return n.typeOf.object("matrix",e),n.typeOf.number.greaterThanOrEquals("index",t,0),n.typeOf.number.lessThanOrEquals("index",t,2),n.typeOf.object("cartesian",r),n.typeOf.object("result",a),(a=p.clone(e,a))[t]=r.x,a[t+3]=r.y,a[t+6]=r.z,a};var m=new s;p.setScale=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.object("scale",t),n.typeOf.object("result",r);let a=p.getScale(e,m),o=t.x/a.x,u=t.y/a.y,i=t.z/a.z;return r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o,r[3]=e[3]*u,r[4]=e[4]*u,r[5]=e[5]*u,r[6]=e[6]*i,r[7]=e[7]*i,r[8]=e[8]*i,r};var b=new s;p.setUniformScale=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.number("scale",t),n.typeOf.object("result",r);let a=p.getScale(e,b),o=t/a.x,u=t/a.y,i=t/a.z;return r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o,r[3]=e[3]*u,r[4]=e[4]*u,r[5]=e[5]*u,r[6]=e[6]*i,r[7]=e[7]*i,r[8]=e[8]*i,r};var O=new s;p.getScale=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),t.x=s.magnitude(s.fromElements(e[0],e[1],e[2],O)),t.y=s.magnitude(s.fromElements(e[3],e[4],e[5],O)),t.z=s.magnitude(s.fromElements(e[6],e[7],e[8],O)),t};var h=new s;p.getMaximumScale=function(e){return p.getScale(e,h),s.maximumComponent(h)};var x=new s;p.setRotation=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.object("result",r);let a=p.getScale(e,x);return r[0]=t[0]*a.x,r[1]=t[1]*a.x,r[2]=t[2]*a.x,r[3]=t[3]*a.y,r[4]=t[4]*a.y,r[5]=t[5]*a.y,r[6]=t[6]*a.z,r[7]=t[7]*a.z,r[8]=t[8]*a.z,r};var d=new s;p.getRotation=function(e,t){n.typeOf.object("matrix",e),n.typeOf.object("result",t);let r=p.getScale(e,d);return t[0]=e[0]/r.x,t[1]=e[1]/r.x,t[2]=e[2]/r.x,t[3]=e[3]/r.y,t[4]=e[4]/r.y,t[5]=e[5]/r.y,t[6]=e[6]/r.z,t[7]=e[7]/r.z,t[8]=e[8]/r.z,t},p.multiply=function(e,t,r){n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r);let a=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],o=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],u=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],i=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],l=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],f=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],c=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],y=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],s=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return r[0]=a,r[1]=o,r[2]=u,r[3]=i,r[4]=l,r[5]=f,r[6]=c,r[7]=y,r[8]=s,r},p.add=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r},p.subtract=function(e,t,r){return n.typeOf.object("left",e),n.typeOf.object("right",t),n.typeOf.object("result",r),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r},p.multiplyByVector=function(e,t,r){n.typeOf.object("matrix",e),n.typeOf.object("cartesian",t),n.typeOf.object("result",r);let a=t.x,o=t.y,u=t.z,i=e[0]*a+e[3]*o+e[6]*u,l=e[1]*a+e[4]*o+e[7]*u,f=e[2]*a+e[5]*o+e[8]*u;return r.x=i,r.y=l,r.z=f,r},p.multiplyByScalar=function(e,t,r){return n.typeOf.object("matrix",e),n.typeOf.number("scalar",t),n.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},p.multiplyByScale=function(e,t,r){return n.typeOf.object("matrix",e),n.typeOf.object("scale",t),n.typeOf.object("result",r),r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.x,r[3]=e[3]*t.y,r[4]=e[4]*t.y,r[5]=e[5]*t.y,r[6]=e[6]*t.z,r[7]=e[7]*t.z,r[8]=e[8]*t.z,r},p.multiplyByUniformScale=function(e,t,r){return n.typeOf.object("matrix",e),n.typeOf.number("scale",t),n.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},p.negate=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},p.transpose=function(e,t){n.typeOf.object("matrix",e),n.typeOf.object("result",t);let r=e[0],a=e[3],o=e[6],u=e[1],i=e[4],l=e[7],f=e[2],c=e[5],y=e[8];return t[0]=r,t[1]=a,t[2]=o,t[3]=u,t[4]=i,t[5]=l,t[6]=f,t[7]=c,t[8]=y,t};var j=[1,0,0],g=[2,2,1],z=new p,M=new p;p.computeEigenDecomposition=function(t,a){n.typeOf.object("matrix",t);let o=e.EPSILON20,u=0,i=0;r(a)||(a={});let l=a.unitary=p.clone(p.IDENTITY,a.unitary),f=a.diagonal=p.clone(t,a.diagonal),c=o*function(e){let t=0;for(let n=0;n<9;++n){let r=e[n];t+=r*r}return Math.sqrt(t)}(f);for(;i<10&&function(e){let t=0;for(let n=0;n<3;++n){let r=e[p.getElementIndex(g[n],j[n])];t+=2*r*r}return Math.sqrt(t)}(f)>c;)(function(t,n){let r=e.EPSILON15,a=0,o=1;for(let e=0;e<3;++e){let n=Math.abs(t[p.getElementIndex(g[e],j[e])]);n>a&&(o=e,a=n)}let u=1,i=0,l=j[o],f=g[o];if(Math.abs(t[p.getElementIndex(f,l)])>r){let e=(t[p.getElementIndex(f,f)]-t[p.getElementIndex(l,l)])/2/t[p.getElementIndex(f,l)],n;u=1/Math.sqrt(1+(n=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)))*n),i=n*u}(n=p.clone(p.IDENTITY,n))[p.getElementIndex(l,l)]=n[p.getElementIndex(f,f)]=u,n[p.getElementIndex(f,l)]=i,n[p.getElementIndex(l,f)]=-i})(f,z),p.transpose(z,M),p.multiply(f,z,f),p.multiply(M,f,f),p.multiply(l,z,l),++u>2&&(++i,u=0);return a},p.abs=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},p.determinant=function(e){n.typeOf.object("matrix",e);let t=e[0],r=e[3],a=e[6],o=e[1],u=e[4],i=e[7],l=e[2],f=e[5],c=e[8];return t*(u*c-f*i)+o*(f*a-r*c)+l*(r*i-u*a)},p.inverse=function(r,a){n.typeOf.object("matrix",r),n.typeOf.object("result",a);let o=r[0],u=r[1],i=r[2],l=r[3],f=r[4],c=r[5],y=r[6],s=r[7],m=r[8],b=p.determinant(r);if(Math.abs(b)<=e.EPSILON15)throw new t("matrix is not invertible");return a[0]=f*m-s*c,a[1]=s*i-u*m,a[2]=u*c-f*i,a[3]=y*c-l*m,a[4]=o*m-y*i,a[5]=l*i-o*c,a[6]=l*s-y*f,a[7]=y*u-o*s,a[8]=o*f-l*u,p.multiplyByScalar(a,1/b,a)};var w=new p;p.inverseTranspose=function(e,t){return n.typeOf.object("matrix",e),n.typeOf.object("result",t),p.inverse(p.transpose(e,w),t)},p.equals=function(e,t){return e===t||r(e)&&r(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},p.equalsEpsilon=function(e,t,n){return n=n??0,e===t||r(e)&&r(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},p.IDENTITY=Object.freeze(new p(1,0,0,0,1,0,0,0,1)),p.ZERO=Object.freeze(new p(0,0,0,0,0,0,0,0,0)),p.COLUMN0ROW0=0,p.COLUMN0ROW1=1,p.COLUMN0ROW2=2,p.COLUMN1ROW0=3,p.COLUMN1ROW1=4,p.COLUMN1ROW2=5,p.COLUMN2ROW0=6,p.COLUMN2ROW1=7,p.COLUMN2ROW2=8,Object.defineProperties(p.prototype,{length:{get:function(){return p.packedLength}}}),p.prototype.clone=function(e){return p.clone(this,e)},p.prototype.equals=function(e){return p.equals(this,e)},p.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},p.prototype.equalsEpsilon=function(e,t){return p.equalsEpsilon(this,e,t)},p.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})
(${this[1]}, ${this[4]}, ${this[7]})
(${this[2]}, ${this[5]}, ${this[8]})`};var E=p,q={};q.EMPTY_OBJECT=Object.freeze({}),q.EMPTY_ARRAY=Object.freeze([]);var S=q;export{s as a,E as b,S as c};