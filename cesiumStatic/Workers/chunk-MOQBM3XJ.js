import{a as t}from"./chunk-2A2JFXXO.js";import{a as e}from"./chunk-KF74ULE7.js";import{a as i}from"./chunk-KCR7AORG.js";import{a as o}from"./chunk-QDJTHWTA.js";import{a as r}from"./chunk-2YWR3G22.js";import{e as n}from"./chunk-JDAHMWM5.js";var s={},a=new i,h=new i,l=[,,],g=[,,],u={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};s.computePositions=function(s,p,m,c,f,A){let d=function(t,s,l,g){let u=(s=e(s,o.equalsEpsilon)).length;if(u<2)return;let p=n(g),m=n(l),c=Array(u),f=Array(u),A=Array(u),d=s[0];c[0]=d;let y=t.cartesianToCartographic(d,a);m&&(y.height=l[0]),f[0]=y.height,p?A[0]=g[0]:A[0]=0;let j=f[0]===A[0],k=1;for(let e=1;e<u;++e){let o=s[e],n=t.cartesianToCartographic(o,h);m&&(n.height=l[e]),j=j&&0===n.height,r.equalsEpsilon(y.latitude,n.latitude,r.EPSILON10)&&r.equalsEpsilon(y.longitude,n.longitude,r.EPSILON10)?y.height<n.height&&(f[k-1]=n.height):(c[k]=o,f[k]=n.height,p?A[k]=g[e]:A[k]=0,j=j&&f[k]===A[k],i.clone(n,y),++k)}if(!(j||k<2))return c.length=k,f.length=k,A.length=k,{positions:c,topHeights:f,bottomHeights:A}}(s,p,m,c);if(!n(d))return;p=d.positions,m=d.topHeights,c=d.bottomHeights;let y=p.length,j,k,v=r.chordLength(f,s.maximumRadius);if(u.minDistance=v,u.ellipsoid=s,A){let e=0,i;for(i=0;i<y-1;i++)e+=t.numberOfPoints(p[i],p[i+1],v)+1;j=new Float64Array(3*e),k=new Float64Array(3*e),u.positions=l,u.height=g;let o=0;for(i=0;i<y-1;i++){l[0]=p[i],l[1]=p[i+1],g[0]=m[i],g[1]=m[i+1];let e=t.generateArc(u);j.set(e,o),g[0]=c[i],g[1]=c[i+1],k.set(t.generateArc(u),o),o+=e.length}}else u.positions=p,u.height=m,j=new Float64Array(t.generateArc(u)),u.height=c,k=new Float64Array(t.generateArc(u));return{bottomPositions:k,topPositions:j,numCorners:y-2}};var p=s;export{p as a};