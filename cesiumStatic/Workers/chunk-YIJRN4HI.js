import{a as t}from"./chunk-PXD6ATBI.js";import{a as e}from"./chunk-P44F6KLE.js";import{a as r}from"./chunk-IUX576XK.js";import{b as i,c as o,d as n}from"./chunk-UIGT6VOJ.js";import{c as a}from"./chunk-XO2FNJZK.js";import{a as s}from"./chunk-CM5O7VPK.js";import{h as f}from"./chunk-IB27QQGF.js";import{a as h,b as u}from"./chunk-RGFEE67W.js";import{a as p}from"./chunk-KXT7EZPS.js";import{a as l,b as c,c as m}from"./chunk-QDJTHWTA.js";import{a as w}from"./chunk-2YWR3G22.js";import{a as d,b as _}from"./chunk-HTSQLHXI.js";import{e as g}from"./chunk-JDAHMWM5.js";function y(t){this.planes=t??[]}var v=[new l,new l,new l];l.clone(l.UNIT_X,v[0]),l.clone(l.UNIT_Y,v[1]),l.clone(l.UNIT_Z,v[2]);var b=new l,x=new l,O=new e(new l(1,0,0),0);function E(t){t=t??m.EMPTY_OBJECT,this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far,this._cullingVolume=new y,this._orthographicMatrix=new u}function R(t){if(!g(t.right)||!g(t.left)||!g(t.top)||!g(t.bottom)||!g(t.near)||!g(t.far))throw new d("right, left, top, bottom, near, or far parameters are not set.");if(t.top!==t._top||t.bottom!==t._bottom||t.left!==t._left||t.right!==t._right||t.near!==t._near||t.far!==t._far){if(t.left>t.right)throw new d("right must be greater than left.");if(t.bottom>t.top)throw new d("top must be greater than bottom.");if(t.near<=0||t.near>t.far)throw new d("near must be greater than zero and less than far.");t._left=t.left,t._right=t.right,t._top=t.top,t._bottom=t.bottom,t._near=t.near,t._far=t.far,t._orthographicMatrix=u.computeOrthographicOffCenter(t.left,t.right,t.bottom,t.top,t.near,t.far,t._orthographicMatrix)}}y.fromBoundingSphere=function(t,e){if(!g(t))throw new d("boundingSphere is required.");g(e)||(e=new y);let r=v.length,i=e.planes;i.length=2*r;let o=t.center,n=t.radius,a=0;for(let t=0;t<r;++t){let e=v[t],r=i[a],s=i[a+1];g(r)||(r=i[a]=new h),g(s)||(s=i[a+1]=new h),l.multiplyByScalar(e,-n,b),l.add(o,b,b),r.x=e.x,r.y=e.y,r.z=e.z,r.w=-l.dot(e,b),l.multiplyByScalar(e,n,b),l.add(o,b,b),s.x=-e.x,s.y=-e.y,s.z=-e.z,s.w=-l.dot(l.negate(e,x),b),a+=2}return e},y.prototype.computeVisibility=function(t){if(!g(t))throw new d("boundingVolume is required.");let r=this.planes,i=!1;for(let o=0,n=r.length;o<n;++o){let n=t.intersectPlane(e.fromCartesian4(r[o],O));if(n===s.OUTSIDE)return s.OUTSIDE;n===s.INTERSECTING&&(i=!0)}return i?s.INTERSECTING:s.INSIDE},y.prototype.computeVisibilityWithPlaneMask=function(t,r){if(!g(t))throw new d("boundingVolume is required.");if(!g(r))throw new d("parentPlaneMask is required.");if(r===y.MASK_OUTSIDE||r===y.MASK_INSIDE)return r;let i=y.MASK_INSIDE,o=this.planes;for(let n=0,a=o.length;n<a;++n){let a=n<31?1<<n:0;if(n<31&&(r&a)==0)continue;let f=t.intersectPlane(e.fromCartesian4(o[n],O));if(f===s.OUTSIDE)return y.MASK_OUTSIDE;f===s.INTERSECTING&&(i|=a)}return i},y.MASK_OUTSIDE=0xffffffff,y.MASK_INSIDE=0,y.MASK_INDETERMINATE=0x7fffffff,Object.defineProperties(E.prototype,{projectionMatrix:{get:function(){return R(this),this._orthographicMatrix}}});var z=new l,F=new l,k=new l,C=new l;function q(t){t=t??m.EMPTY_OBJECT,this._offCenterFrustum=new E,this.width=t.width,this._width=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far}function T(t){if(!g(t.width)||!g(t.aspectRatio)||!g(t.near)||!g(t.far))throw new d("width, aspectRatio, near, or far parameters are not set.");let e=t._offCenterFrustum;if(t.width!==t._width||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far){if(t.aspectRatio<0)throw new d("aspectRatio must be positive.");if(t.near<0||t.near>t.far)throw new d("near must be greater than zero and less than far.");t._aspectRatio=t.aspectRatio,t._width=t.width,t._near=t.near,t._far=t.far;let r=1/t.aspectRatio;e.right=.5*t.width,e.left=-e.right,e.top=r*e.right,e.bottom=-e.top,e.near=t.near,e.far=t.far}}E.prototype.computeCullingVolume=function(t,e,r){if(!g(t))throw new d("position is required.");if(!g(e))throw new d("direction is required.");if(!g(r))throw new d("up is required.");let i=this._cullingVolume.planes,o=this.top,n=this.bottom,a=this.right,s=this.left,f=this.near,u=this.far,p=l.cross(e,r,z);l.normalize(p,p),l.multiplyByScalar(e,f,F),l.add(t,F,F),l.multiplyByScalar(p,s,k),l.add(F,k,k);let c=i[0];return g(c)||(c=i[0]=new h),c.x=p.x,c.y=p.y,c.z=p.z,c.w=-l.dot(p,k),l.multiplyByScalar(p,a,k),l.add(F,k,k),g(c=i[1])||(c=i[1]=new h),c.x=-p.x,c.y=-p.y,c.z=-p.z,c.w=-l.dot(l.negate(p,C),k),l.multiplyByScalar(r,n,k),l.add(F,k,k),g(c=i[2])||(c=i[2]=new h),c.x=r.x,c.y=r.y,c.z=r.z,c.w=-l.dot(r,k),l.multiplyByScalar(r,o,k),l.add(F,k,k),g(c=i[3])||(c=i[3]=new h),c.x=-r.x,c.y=-r.y,c.z=-r.z,c.w=-l.dot(l.negate(r,C),k),g(c=i[4])||(c=i[4]=new h),c.x=e.x,c.y=e.y,c.z=e.z,c.w=-l.dot(e,F),l.multiplyByScalar(e,u,k),l.add(t,k,k),g(c=i[5])||(c=i[5]=new h),c.x=-e.x,c.y=-e.y,c.z=-e.z,c.w=-l.dot(l.negate(e,C),k),this._cullingVolume},E.prototype.getPixelDimensions=function(t,e,r,i,o){if(R(this),!g(t)||!g(e))throw new d("Both drawingBufferWidth and drawingBufferHeight are required.");if(t<=0)throw new d("drawingBufferWidth must be greater than zero.");if(e<=0)throw new d("drawingBufferHeight must be greater than zero.");if(!g(r))throw new d("distance is required.");if(!g(i))throw new d("pixelRatio is required.");if(i<=0)throw new d("pixelRatio must be greater than zero.");if(!g(o))throw new d("A result object is required.");let n=this.right-this.left,a=i*(this.top-this.bottom)/e;return o.x=i*n/t,o.y=a,o},E.prototype.clone=function(t){return g(t)||(t=new E),t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},E.prototype.equals=function(t){return g(t)&&t instanceof E&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},E.prototype.equalsEpsilon=function(t,e,r){return t===this||g(t)&&t instanceof E&&w.equalsEpsilon(this.right,t.right,e,r)&&w.equalsEpsilon(this.left,t.left,e,r)&&w.equalsEpsilon(this.top,t.top,e,r)&&w.equalsEpsilon(this.bottom,t.bottom,e,r)&&w.equalsEpsilon(this.near,t.near,e,r)&&w.equalsEpsilon(this.far,t.far,e,r)},q.packedLength=4,q.pack=function(t,e,r){return _.typeOf.object("value",t),_.defined("array",e),r=r??0,e[r++]=t.width,e[r++]=t.aspectRatio,e[r++]=t.near,e[r]=t.far,e},q.unpack=function(t,e,r){return _.defined("array",t),e=e??0,g(r)||(r=new q),r.width=t[e++],r.aspectRatio=t[e++],r.near=t[e++],r.far=t[e],r},Object.defineProperties(q.prototype,{projectionMatrix:{get:function(){return T(this),this._offCenterFrustum.projectionMatrix}},offCenterFrustum:{get:function(){return T(this),this._offCenterFrustum}}}),q.prototype.computeCullingVolume=function(t,e,r){return T(this),this._offCenterFrustum.computeCullingVolume(t,e,r)},q.prototype.getPixelDimensions=function(t,e,r,i,o){return T(this),this._offCenterFrustum.getPixelDimensions(t,e,r,i,o)},q.prototype.clone=function(t){return g(t)||(t=new q),t.aspectRatio=this.aspectRatio,t.width=this.width,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._width=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},q.prototype.equals=function(t){return!!g(t)&&t instanceof q&&(T(this),T(t),this.width===t.width&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},q.prototype.equalsEpsilon=function(t,e,r){return!!g(t)&&t instanceof q&&(T(this),T(t),w.equalsEpsilon(this.width,t.width,e,r)&&w.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,r)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,r))};var P=q;function S(t){t=t??m.EMPTY_OBJECT,this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far,this._cullingVolume=new y,this._perspectiveMatrix=new u,this._infinitePerspective=new u}function M(t){if(!g(t.right)||!g(t.left)||!g(t.top)||!g(t.bottom)||!g(t.near)||!g(t.far))throw new d("right, left, top, bottom, near, or far parameters are not set.");let{top:e,bottom:r,right:i,left:o,near:n,far:a}=t;if(e!==t._top||r!==t._bottom||o!==t._left||i!==t._right||n!==t._near||a!==t._far){if(t.near<=0||t.near>t.far)throw new d("near must be greater than zero and less than far.");t._left=o,t._right=i,t._top=e,t._bottom=r,t._near=n,t._far=a,t._perspectiveMatrix=u.computePerspectiveOffCenter(o,i,r,e,n,a,t._perspectiveMatrix),t._infinitePerspective=u.computeInfinitePerspectiveOffCenter(o,i,r,e,n,t._infinitePerspective)}}Object.defineProperties(S.prototype,{projectionMatrix:{get:function(){return M(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return M(this),this._infinitePerspective}}});var j=new l,B=new l,I=new l,D=new l;function A(t){t=t??m.EMPTY_OBJECT,this._offCenterFrustum=new S,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=t.near??1,this._near=this.near,this.far=t.far??5e8,this._far=this.far,this.xOffset=t.xOffset??0,this._xOffset=this.xOffset,this.yOffset=t.yOffset??0,this._yOffset=this.yOffset}function L(t){if(!g(t.fov)||!g(t.aspectRatio)||!g(t.near)||!g(t.far))throw new d("fov, aspectRatio, near, or far parameters are not set.");if(t.fov===t._fov&&t.aspectRatio===t._aspectRatio&&t.near===t._near&&t.far===t._far&&t.xOffset===t._xOffset&&t.yOffset===t._yOffset)return;if(_.typeOf.number.greaterThanOrEquals("fov",t.fov,0),_.typeOf.number.lessThan("fov",t.fov,Math.PI),_.typeOf.number.greaterThanOrEquals("aspectRatio",t.aspectRatio,0),_.typeOf.number.greaterThanOrEquals("near",t.near,0),t.near>t.far)throw new d("near must be less than far.");t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset;let e=t._offCenterFrustum;e.top=t.near*Math.tan(.5*t._fovy),e.bottom=-e.top,e.right=t.aspectRatio*e.top,e.left=-e.right,e.near=t.near,e.far=t.far,e.right+=t.xOffset,e.left+=t.xOffset,e.top+=t.yOffset,e.bottom+=t.yOffset}S.prototype.computeCullingVolume=function(t,e,r){if(!g(t))throw new d("position is required.");if(!g(e))throw new d("direction is required.");if(!g(r))throw new d("up is required.");let i=this._cullingVolume.planes,o=this.top,n=this.bottom,a=this.right,s=this.left,f=this.near,u=this.far,p=l.cross(e,r,j);l.multiplyByScalar(e,f,B),l.add(t,B,B),l.multiplyByScalar(e,u,I),l.add(t,I,I),l.multiplyByScalar(p,s,D),l.add(B,D,D),l.subtract(D,t,D),l.normalize(D,D),l.cross(D,r,D),l.normalize(D,D);let c=i[0];return g(c)||(c=i[0]=new h),c.x=D.x,c.y=D.y,c.z=D.z,c.w=-l.dot(D,t),l.multiplyByScalar(p,a,D),l.add(B,D,D),l.subtract(D,t,D),l.cross(r,D,D),l.normalize(D,D),g(c=i[1])||(c=i[1]=new h),c.x=D.x,c.y=D.y,c.z=D.z,c.w=-l.dot(D,t),l.multiplyByScalar(r,n,D),l.add(B,D,D),l.subtract(D,t,D),l.cross(p,D,D),l.normalize(D,D),g(c=i[2])||(c=i[2]=new h),c.x=D.x,c.y=D.y,c.z=D.z,c.w=-l.dot(D,t),l.multiplyByScalar(r,o,D),l.add(B,D,D),l.subtract(D,t,D),l.cross(D,p,D),l.normalize(D,D),g(c=i[3])||(c=i[3]=new h),c.x=D.x,c.y=D.y,c.z=D.z,c.w=-l.dot(D,t),g(c=i[4])||(c=i[4]=new h),c.x=e.x,c.y=e.y,c.z=e.z,c.w=-l.dot(e,B),l.negate(e,D),g(c=i[5])||(c=i[5]=new h),c.x=D.x,c.y=D.y,c.z=D.z,c.w=-l.dot(D,I),this._cullingVolume},S.prototype.getPixelDimensions=function(t,e,r,i,o){if(M(this),!g(t)||!g(e))throw new d("Both drawingBufferWidth and drawingBufferHeight are required.");if(t<=0)throw new d("drawingBufferWidth must be greater than zero.");if(e<=0)throw new d("drawingBufferHeight must be greater than zero.");if(!g(r))throw new d("distance is required.");if(!g(i))throw new d("pixelRatio is required");if(i<=0)throw new d("pixelRatio must be greater than zero.");if(!g(o))throw new d("A result object is required.");let n=1/this.near,a=this.top*n,s=2*i*r*a/e;return o.x=2*i*r*(a=this.right*n)/t,o.y=s,o},S.prototype.clone=function(t){return g(t)||(t=new S),t.right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},S.prototype.equals=function(t){return g(t)&&t instanceof S&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},S.prototype.equalsEpsilon=function(t,e,r){return t===this||g(t)&&t instanceof S&&w.equalsEpsilon(this.right,t.right,e,r)&&w.equalsEpsilon(this.left,t.left,e,r)&&w.equalsEpsilon(this.top,t.top,e,r)&&w.equalsEpsilon(this.bottom,t.bottom,e,r)&&w.equalsEpsilon(this.near,t.near,e,r)&&w.equalsEpsilon(this.far,t.far,e,r)},A.packedLength=6,A.pack=function(t,e,r){return _.typeOf.object("value",t),_.defined("array",e),r=r??0,e[r++]=t.fov,e[r++]=t.aspectRatio,e[r++]=t.near,e[r++]=t.far,e[r++]=t.xOffset,e[r]=t.yOffset,e},A.unpack=function(t,e,r){return _.defined("array",t),e=e??0,g(r)||(r=new A),r.fov=t[e++],r.aspectRatio=t[e++],r.near=t[e++],r.far=t[e++],r.xOffset=t[e++],r.yOffset=t[e],r},Object.defineProperties(A.prototype,{projectionMatrix:{get:function(){return L(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return L(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return L(this),this._fovy}},sseDenominator:{get:function(){return L(this),this._sseDenominator}},offCenterFrustum:{get:function(){return L(this),this._offCenterFrustum}}}),A.prototype.computeCullingVolume=function(t,e,r){return L(this),this._offCenterFrustum.computeCullingVolume(t,e,r)},A.prototype.getPixelDimensions=function(t,e,r,i,o){return L(this),this._offCenterFrustum.getPixelDimensions(t,e,r,i,o)},A.prototype.clone=function(t){return g(t)||(t=new A),t.aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},A.prototype.equals=function(t){return!!g(t)&&t instanceof A&&(L(this),L(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},A.prototype.equalsEpsilon=function(t,e,r){return!!g(t)&&t instanceof A&&(L(this),L(t),w.equalsEpsilon(this.fov,t.fov,e,r)&&w.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,r)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,r))};var N=A;function V(e){_.typeOf.object("options",e),_.typeOf.object("options.frustum",e.frustum),_.typeOf.object("options.origin",e.origin),_.typeOf.object("options.orientation",e.orientation);let r=e.frustum,i=e.orientation,o=e.origin,n=e.vertexFormat??t.DEFAULT,a=e._drawNearPlane??!0,s,h;r instanceof N?(s=0,h=N.packedLength):r instanceof P&&(s=1,h=P.packedLength),this._frustumType=s,this._frustum=r.clone(),this._origin=l.clone(o),this._orientation=f.clone(i),this._drawNearPlane=a,this._vertexFormat=n,this._workerName="createFrustumGeometry",this.packedLength=2+h+l.packedLength+f.packedLength+t.packedLength}V.pack=function(e,r,i){_.typeOf.object("value",e),_.defined("array",r),i=i??0;let o=e._frustumType,n=e._frustum;return r[i++]=o,0===o?(N.pack(n,r,i),i+=N.packedLength):(P.pack(n,r,i),i+=P.packedLength),l.pack(e._origin,r,i),i+=l.packedLength,f.pack(e._orientation,r,i),i+=f.packedLength,t.pack(e._vertexFormat,r,i),r[i+=t.packedLength]=+!!e._drawNearPlane,r};var U=new N,K=new P,G=new f,W=new l,H=new t;function J(t,e,r,i,o,n,a,s){let f=t/3*2;for(let o=0;o<4;++o)g(e)&&(e[t]=n.x,e[t+1]=n.y,e[t+2]=n.z),g(r)&&(r[t]=a.x,r[t+1]=a.y,r[t+2]=a.z),g(i)&&(i[t]=s.x,i[t+1]=s.y,i[t+2]=s.z),t+=3;o[f]=0,o[f+1]=0,o[f+2]=1,o[f+3]=0,o[f+4]=1,o[f+5]=1,o[f+6]=0,o[f+7]=1}V.unpack=function(e,r,i){_.defined("array",e),r=r??0;let o=e[r++],n;0===o?(n=N.unpack(e,r,U),r+=N.packedLength):(n=P.unpack(e,r,K),r+=P.packedLength);let a=l.unpack(e,r,W);r+=l.packedLength;let s=f.unpack(e,r,G);r+=f.packedLength;let h=t.unpack(e,r,H),u=1===e[r+=t.packedLength];if(!g(i))return new V({frustum:n,origin:a,orientation:s,vertexFormat:h,_drawNearPlane:u});let p=o===i._frustumType?i._frustum:void 0;return i._frustum=n.clone(p),i._frustumType=o,i._origin=l.clone(a,i._origin),i._orientation=f.clone(s,i._orientation),i._vertexFormat=t.clone(h,i._vertexFormat),i._drawNearPlane=u,i};var X=new c,Y=new u,Q=new u,Z=new l,$=new l,tt=new l,te=new l,tr=new l,ti=new l,to=[,,,],tn=[,,,,];tn[0]=new h(-1,-1,1,1),tn[1]=new h(1,-1,1,1),tn[2]=new h(1,1,1,1),tn[3]=new h(-1,1,1,1);var ta=[,,,,];for(let t=0;t<4;++t)ta[t]=new h;V._computeNearFarPlanes=function(t,e,r,i,o,n,a,s){let f=c.fromQuaternion(e,X),p=n??Z,m=a??$,w=s??tt;p=c.getColumn(f,0,p),m=c.getColumn(f,1,m),w=c.getColumn(f,2,w),l.normalize(p,p),l.normalize(m,m),l.normalize(w,w),l.negate(p,p);let d=u.computeView(t,w,m,p,Y),_,y,v=i.projectionMatrix;if(0===r){let t=u.multiply(v,d,Q);y=u.inverse(t,Q)}else _=u.inverseTransformation(d,Q);g(y)?(to[0]=i.near,to[1]=i.far):(to[0]=0,to[1]=i.near,to[2]=i.far);for(let e=0;e<2;++e)for(let r=0;r<4;++r){let n=h.clone(tn[r],ta[r]);if(g(y)){let r=1/(n=u.multiplyByVector(y,n,n)).w;l.multiplyByScalar(n,r,n),l.subtract(n,t,n),l.normalize(n,n);let i=l.dot(w,n);l.multiplyByScalar(n,to[e]/i,n),l.add(n,t,n)}else{let t=i.offCenterFrustum;g(t)&&(i=t);let r=to[e],o=to[e+1];n.x=(n.x*(i.right-i.left)+i.left+i.right)*.5,n.y=(n.y*(i.top-i.bottom)+i.bottom+i.top)*.5,n.z=(n.z*(r-o)-r-o)*.5,n.w=1,u.multiplyByVector(_,n,n)}o[12*e+3*r]=n.x,o[12*e+3*r+1]=n.y,o[12*e+3*r+2]=n.z}},V.createGeometry=function(t){let e=t._frustumType,s=t._frustum,f=t._origin,h=t._orientation,u=t._drawNearPlane,c=t._vertexFormat,m=u?6:5,w=new Float64Array(72);V._computeNearFarPlanes(f,h,e,s,w);let d=24;w[24]=w[12],w[d+1]=w[13],w[d+2]=w[14],w[d+3]=w[0],w[d+4]=w[1],w[d+5]=w[2],w[d+6]=w[9],w[d+7]=w[10],w[d+8]=w[11],w[d+9]=w[21],w[d+10]=w[22],w[d+11]=w[23],w[d+=12]=w[15],w[d+1]=w[16],w[d+2]=w[17],w[d+3]=w[3],w[d+4]=w[4],w[d+5]=w[5],w[d+6]=w[0],w[d+7]=w[1],w[d+8]=w[2],w[d+9]=w[12],w[d+10]=w[13],w[d+11]=w[14],w[d+=12]=w[3],w[d+1]=w[4],w[d+2]=w[5],w[d+3]=w[15],w[d+4]=w[16],w[d+5]=w[17],w[d+6]=w[18],w[d+7]=w[19],w[d+8]=w[20],w[d+9]=w[6],w[d+10]=w[7],w[d+11]=w[8],w[d+=12]=w[6],w[d+1]=w[7],w[d+2]=w[8],w[d+3]=w[18],w[d+4]=w[19],w[d+5]=w[20],w[d+6]=w[21],w[d+7]=w[22],w[d+8]=w[23],w[d+9]=w[9],w[d+10]=w[10],w[d+11]=w[11],u||(w=w.subarray(12));let _=new r({position:new n({componentDatatype:p.DOUBLE,componentsPerAttribute:3,values:w})});if(g(c.normal)||g(c.tangent)||g(c.bitangent)||g(c.st)){let t=g(c.normal)?new Float32Array(12*m):void 0,e=g(c.tangent)?new Float32Array(12*m):void 0,r=g(c.bitangent)?new Float32Array(12*m):void 0,i=g(c.st)?new Float32Array(8*m):void 0,o=l.negate(Z,te),a=l.negate($,tr),s=l.negate(tt,ti);d=0,u&&(J(d,t,e,r,i,s,Z,$),d+=12),J(d,t,e,r,i,tt,o,$),J(d+=12,t,e,r,i,o,s,$),J(d+=12,t,e,r,i,a,s,o),J(d+=12,t,e,r,i,Z,tt,$),J(d+=12,t,e,r,i,$,tt,o),g(t)&&(_.normal=new n({componentDatatype:p.FLOAT,componentsPerAttribute:3,values:t})),g(e)&&(_.tangent=new n({componentDatatype:p.FLOAT,componentsPerAttribute:3,values:e})),g(r)&&(_.bitangent=new n({componentDatatype:p.FLOAT,componentsPerAttribute:3,values:r})),g(i)&&(_.st=new n({componentDatatype:p.FLOAT,componentsPerAttribute:2,values:i}))}let y=new Uint16Array(6*m);for(let t=0;t<m;++t){let e=6*t,r=4*t;y[e]=r,y[e+1]=r+1,y[e+2]=r+2,y[e+3]=r,y[e+4]=r+2,y[e+5]=r+3}return new o({attributes:_,indices:y,primitiveType:i.TRIANGLES,boundingSphere:a.fromVertices(w)})};var ts=V;export{P as a,N as b,ts as c};