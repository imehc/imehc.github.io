import{a as r}from"./chunk-BLHXNU6V.js";import"./chunk-RNCQLKJ3.js";import{a as o}from"./chunk-UILVE4UW.js";import"./chunk-MCM3P7ZC.js";import{a as t}from"./chunk-3QPLNPJT.js";import{a as e}from"./chunk-UPV7RDUS.js";import"./chunk-NPKIHRIX.js";import"./chunk-MUKCYY2X.js";import"./chunk-33M5C4LG.js";import"./chunk-X2JOWFTB.js";import"./chunk-TN2BIDXM.js";import{a as n}from"./chunk-KF74ULE7.js";import"./chunk-4EHG4BFI.js";import"./chunk-KIJM7B3H.js";import"./chunk-P44F6KLE.js";import{a as i}from"./chunk-GSMLTRAL.js";import{a as s}from"./chunk-IUX576XK.js";import{b as a,c as c,d as p}from"./chunk-UIGT6VOJ.js";import{c as u}from"./chunk-XO2FNJZK.js";import"./chunk-CM5O7VPK.js";import"./chunk-IB27QQGF.js";import"./chunk-RGFEE67W.js";import{a as m}from"./chunk-KXT7EZPS.js";import"./chunk-ZIOQOCPQ.js";import"./chunk-SY2GINYP.js";import{c as h}from"./chunk-KCR7AORG.js";import{a as l,c as k}from"./chunk-QDJTHWTA.js";import"./chunk-2YWR3G22.js";import{b as y}from"./chunk-HTSQLHXI.js";import{e as f}from"./chunk-JDAHMWM5.js";function j(r){let t=(r=r??k.EMPTY_OBJECT).polygonHierarchy;y.defined("options.polygonHierarchy",t),this._polygonHierarchy=t,this._workerName="createCoplanarPolygonOutlineGeometry",this.packedLength=o.computeHierarchyPackedLength(t,l)+1}j.fromPositions=function(r){return r=r??k.EMPTY_OBJECT,y.defined("options.positions",r.positions),new j({polygonHierarchy:{positions:r.positions}})},j.pack=function(r,t,e){return y.typeOf.object("value",r),y.defined("array",t),e=e??0,e=o.packPolygonHierarchy(r._polygonHierarchy,t,e,l),t[e]=r.packedLength,t};var d={polygonHierarchy:{}};j.unpack=function(r,t,e){y.defined("array",r),t=t??0;let n=o.unpackPolygonHierarchy(r,t,l);t=n.startingIndex,delete n.startingIndex;let i=r[t];return f(e)||(e=new j(d)),e._polygonHierarchy=n,e.packedLength=i,e},j.createGeometry=function(h){let k=h._polygonHierarchy,y=k.positions;if((y=n(y,l.equalsEpsilon,!0)).length<3||!r.validOutline(y))return;let f=o.polygonOutlinesFromHierarchy(k,!1);if(0===f.length)return;let j=[];for(let r=0;r<f.length;r++){let o=new t({geometry:function(r){let o=r.length,t=new Float64Array(3*o),e=i.createTypedArray(o,2*o),n=0,u=0;for(let i=0;i<o;i++){let s=r[i];t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,e[u++]=i,e[u++]=(i+1)%o}return new c({attributes:new s({position:new p({componentDatatype:m.DOUBLE,componentsPerAttribute:3,values:t})}),indices:e,primitiveType:a.LINES})}(f[r])});j.push(o)}let d=e.combineInstances(j)[0],g=u.fromPoints(k.positions);return new c({attributes:d.attributes,indices:d.indices,primitiveType:d.primitiveType,boundingSphere:g})};var g=function(r,o){return f(o)&&(r=j.unpack(r,o)),r._ellipsoid=h.clone(r._ellipsoid),j.createGeometry(r)};export{g as default};