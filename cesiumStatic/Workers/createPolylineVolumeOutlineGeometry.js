import{a as e}from"./chunk-AEXJAIC2.js";import{a as o,c as r}from"./chunk-MRH6LWHV.js";import"./chunk-2A2JFXXO.js";import"./chunk-TULFNR3P.js";import"./chunk-33M5C4LG.js";import"./chunk-X2JOWFTB.js";import{a as i,b as t}from"./chunk-TN2BIDXM.js";import{a as n}from"./chunk-KF74ULE7.js";import"./chunk-4EHG4BFI.js";import"./chunk-KIJM7B3H.js";import"./chunk-P44F6KLE.js";import{a as s}from"./chunk-GSMLTRAL.js";import{a as a}from"./chunk-IUX576XK.js";import{b as p,c as c,d as h}from"./chunk-UIGT6VOJ.js";import{c as l}from"./chunk-XO2FNJZK.js";import"./chunk-CM5O7VPK.js";import"./chunk-IB27QQGF.js";import"./chunk-RGFEE67W.js";import{a as u}from"./chunk-KXT7EZPS.js";import"./chunk-ZIOQOCPQ.js";import"./chunk-SY2GINYP.js";import{b as m,c as k}from"./chunk-KCR7AORG.js";import{a as f,c as d}from"./chunk-QDJTHWTA.js";import{a as y}from"./chunk-2YWR3G22.js";import{a as g}from"./chunk-HTSQLHXI.js";import{e as j}from"./chunk-JDAHMWM5.js";function _(e){let r=(e=e??d.EMPTY_OBJECT).polylinePositions,i=e.shapePositions;if(!j(r))throw new g("options.polylinePositions is required.");if(!j(i))throw new g("options.shapePositions is required.");this._positions=r,this._shape=i,this._ellipsoid=k.clone(e.ellipsoid??k.default),this._cornerType=e.cornerType??o.ROUNDED,this._granularity=e.granularity??y.RADIANS_PER_DEGREE,this._workerName="createPolylineVolumeOutlineGeometry";let t=1+r.length*f.packedLength;t+=1+i.length*m.packedLength,this.packedLength=t+k.packedLength+2}_.pack=function(e,o,r){if(!j(e))throw new g("value is required");if(!j(o))throw new g("array is required");r=r??0;let i,t=e._positions,n=t.length;for(o[r++]=n,i=0;i<n;++i,r+=f.packedLength)f.pack(t[i],o,r);let s=e._shape;for(n=s.length,o[r++]=n,i=0;i<n;++i,r+=m.packedLength)m.pack(s[i],o,r);return k.pack(e._ellipsoid,o,r),r+=k.packedLength,o[r++]=e._cornerType,o[r]=e._granularity,o};var L=k.clone(k.UNIT_SPHERE),P={polylinePositions:void 0,shapePositions:void 0,ellipsoid:L,height:void 0,cornerType:void 0,granularity:void 0};_.unpack=function(e,o,r){if(!j(e))throw new g("array is required");o=o??0;let i,t=e[o++],n=Array(t);for(i=0;i<t;++i,o+=f.packedLength)n[i]=f.unpack(e,o);let s=Array(t=e[o++]);for(i=0;i<t;++i,o+=m.packedLength)s[i]=m.unpack(e,o);let a=k.unpack(e,o,L);o+=k.packedLength;let p=e[o++],c=e[o];return j(r)?(r._positions=n,r._shape=s,r._ellipsoid=k.clone(a,r._ellipsoid),r._cornerType=p,r._granularity=c,r):(P.polylinePositions=n,P.shapePositions=s,P.cornerType=p,P.granularity=c,new _(P))};var T=new e;_.createGeometry=function(o){let m=n(o._positions,f.equalsEpsilon),k=o._shape;if(k=r.removeDuplicatesFromShape(k),m.length<2||k.length<3)return;t.computeWindingOrder2D(k)===i.CLOCKWISE&&k.reverse();let d=e.fromPoints(k,T);return function(e,o){let r=new a;r.position=new h({componentDatatype:u.DOUBLE,componentsPerAttribute:3,values:e});let i=o.length,t=r.position.values.length/3,n=e.length/3/i,m=s.createTypedArray(t,2*i*(n+1)),k,f,d=0,y=(k=0)*i;for(f=0;f<i-1;f++)m[d++]=f+y,m[d++]=f+y+1;for(m[d++]=i-1+y,m[d++]=y,y=(k=n-1)*i,f=0;f<i-1;f++)m[d++]=f+y,m[d++]=f+y+1;for(m[d++]=i-1+y,m[d++]=y,k=0;k<n-1;k++){let e=i*k,o=e+i;for(f=0;f<i;f++)m[d++]=f+e,m[d++]=f+o}return new c({attributes:r,indices:s.createTypedArray(t,m),boundingSphere:l.fromVertices(e),primitiveType:p.LINES})}(r.computePositions(m,k,d,o,!1),k)};var E=function(e,o){return j(o)&&(e=_.unpack(e,o)),e._ellipsoid=k.clone(e._ellipsoid),_.createGeometry(e)};export{E as default};