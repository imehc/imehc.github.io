import{a as e}from"./chunk-WA4PTCEU.js";import{a as o,c as r}from"./chunk-KSAXP2ON.js";import"./chunk-JZMSTCXO.js";import"./chunk-YX3VGNCD.js";import"./chunk-SI3KZUTO.js";import"./chunk-QM7HI6IF.js";import{a as i,b as t}from"./chunk-45FW5IBC.js";import{a as n}from"./chunk-YM5K5MQ6.js";import"./chunk-6L5NM26F.js";import"./chunk-SPC72PTY.js";import"./chunk-HVWI7BO6.js";import{a as s}from"./chunk-KSX6TRAS.js";import{a as a}from"./chunk-GMTHOMGW.js";import{b as p,c as c,d as h}from"./chunk-BELR52CD.js";import{c as l}from"./chunk-BNHFHP3L.js";import"./chunk-4UHVCH4T.js";import"./chunk-4NDD6KRQ.js";import"./chunk-5ELDAYCN.js";import{a as u}from"./chunk-N6BI774S.js";import"./chunk-TI35VBH7.js";import"./chunk-6WLI3422.js";import{b as m,c as k}from"./chunk-ICY67TC6.js";import{a as f,c as d}from"./chunk-G2EMNOST.js";import{a as y}from"./chunk-4VFKVGYI.js";import{a as g}from"./chunk-3WJNS2B6.js";import{e as j}from"./chunk-XCN226AA.js";function _(e){let r=(e=e??d.EMPTY_OBJECT).polylinePositions,i=e.shapePositions;if(!j(r))throw new g("options.polylinePositions is required.");if(!j(i))throw new g("options.shapePositions is required.");this._positions=r,this._shape=i,this._ellipsoid=k.clone(e.ellipsoid??k.default),this._cornerType=e.cornerType??o.ROUNDED,this._granularity=e.granularity??y.RADIANS_PER_DEGREE,this._workerName="createPolylineVolumeOutlineGeometry";let t=1+r.length*f.packedLength;t+=1+i.length*m.packedLength,this.packedLength=t+k.packedLength+2}_.pack=function(e,o,r){if(!j(e))throw new g("value is required");if(!j(o))throw new g("array is required");r=r??0;let i,t=e._positions,n=t.length;for(o[r++]=n,i=0;i<n;++i,r+=f.packedLength)f.pack(t[i],o,r);let s=e._shape;for(n=s.length,o[r++]=n,i=0;i<n;++i,r+=m.packedLength)m.pack(s[i],o,r);return k.pack(e._ellipsoid,o,r),r+=k.packedLength,o[r++]=e._cornerType,o[r]=e._granularity,o};var T=k.clone(k.UNIT_SPHERE),P={polylinePositions:void 0,shapePositions:void 0,ellipsoid:T,height:void 0,cornerType:void 0,granularity:void 0};_.unpack=function(e,o,r){if(!j(e))throw new g("array is required");o=o??0;let i,t=e[o++],n=Array(t);for(i=0;i<t;++i,o+=f.packedLength)n[i]=f.unpack(e,o);let s=Array(t=e[o++]);for(i=0;i<t;++i,o+=m.packedLength)s[i]=m.unpack(e,o);let a=k.unpack(e,o,T);o+=k.packedLength;let p=e[o++],c=e[o];return j(r)?(r._positions=n,r._shape=s,r._ellipsoid=k.clone(a,r._ellipsoid),r._cornerType=p,r._granularity=c,r):(P.polylinePositions=n,P.shapePositions=s,P.cornerType=p,P.granularity=c,new _(P))};var L=new e;_.createGeometry=function(o){let m=n(o._positions,f.equalsEpsilon),k=o._shape;if(k=r.removeDuplicatesFromShape(k),m.length<2||k.length<3)return;t.computeWindingOrder2D(k)===i.CLOCKWISE&&k.reverse();let d=e.fromPoints(k,L);return function(e,o){let r=new a;r.position=new h({componentDatatype:u.DOUBLE,componentsPerAttribute:3,values:e});let i=o.length,t=r.position.values.length/3,n=e.length/3/i,m=s.createTypedArray(t,2*i*(n+1)),k,f,d=0,y=(k=0)*i;for(f=0;f<i-1;f++)m[d++]=f+y,m[d++]=f+y+1;for(m[d++]=i-1+y,m[d++]=y,y=(k=n-1)*i,f=0;f<i-1;f++)m[d++]=f+y,m[d++]=f+y+1;for(m[d++]=i-1+y,m[d++]=y,k=0;k<n-1;k++){let e=i*k,o=e+i;for(f=0;f<i;f++)m[d++]=f+e,m[d++]=f+o}return new c({attributes:r,indices:s.createTypedArray(t,m),boundingSphere:l.fromVertices(e),primitiveType:p.LINES})}(r.computePositions(m,k,d,o,!1),k)};var E=function(e,o){return j(o)&&(e=_.unpack(e,o)),e._ellipsoid=k.clone(e._ellipsoid),_.createGeometry(e)};export{E as default};